var NUTOOL_PIN={};!function(){const e="V1.33.0002";var n,t,r,l,o,s,a,d,c,f,g,_,u,N,O,p,h,x,P,T,M,I,C,U,b,L=!0,A=!1,S=!1,v=0,y=0,D=0,w=0,F=0,E=0,j=0,X=0,B="12px Arial",G=275,R=48,K=16,H=40,W=30,z=0,Y=1,V=10,Z=24,Q=25,q=3,J=3,ee=20,ie=7,ne=1,te=0,re=0,le=0,oe=0,se=0,ae=0,de=0,ce=0,fe=0,ge={getContext:null,removeContext:null,addEvent:null},_e=0,ue="",Ne="",Oe="Nuvoton",pe="NuMicro",he=" Nuvoton Technology Corp.",xe=null,Pe=20,Te=20,Me=130,Ie=5,Ce="#FAB92D",me="#41AF88",Ue="#FC517E",be="#9365C9",Le=100,ke=100,$e=[],Ae=[],Se=[],ve=[],ye=[],De=[],we=[],Fe=[],Ee=[],je=[],Xe=[],Be=[],Ge=[],Re=[],Ke=[],He=[],We=[],ze=[],Ye=[],Ve={},Ze=[],Qe=["CM1003","ISD9100","ISD9300","KM1M0DF","KM1M0GF","KM1M4BF","KM1M7AF","KM1M7BF","KM1M7CF","M029G","M030G","M031","M051","M0518","M0519","M0564","M071","M091","M0A21","M2003","M2351","M251","M261","M2A23","M2L31","M433","M451","M460","M466","M471","M479","M480","M55M1","M55M1H2ES","MA35D0","MA35D1","MA35H0","MINI51","MG51","ML51","MS51","MUG51","N76S003","N76E003","N9H30xxxIEC","N9H30xxxIIM","N9H31KxxIFC","NANO100","NDA102","NM1120","NM1200","NM1500","NUC029","NUC100","NUC200","NUC400","NUC505","NUC970","NUC980"],qe=["M466","N9H30xxxIIM"],Je=!1,ei=!1,ii=!1,ni=!0,ti=!0,ri=!1,li=!1,oi=[];function si(){var e,i;for(e=0,i=$e.length;e<i;e+=1)$e[e].restore();$e.length=0,e=null,i=null}function ai(){var e,i,t,r,l,s,a,d,c,f,g=$("#panel"),_=0;if(g[0].setAttribute("style","width:"+(window.innerWidth-G-8)+"px; height:"+(window.innerHeight-R-8)+"px; border: 1px solid white; position:absolute; left:"+G+"px; top:0px;"),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?ii?g.hover((function(){$(this).css("opacity","1"),$("#pin_side_0").show(),$("#NUC_PinConfiguration_Canvas_Lining").hide(),Ji()}),(function(){$(this).css("opacity",n),$("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()})):g.hover((function(){$(this).css("opacity","1"),$("#pin_side_0").css("opacity","0.8"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","0"),Ji()}),(function(){$(this).css("opacity",n),$("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1")})):g.hover((function(){$(this).css("opacity","1"),Ji()}),(function(){$(this).css("opacity",n)})),(t=$("#NUC_PinConfiguration_Canvas")[0]).setAttribute("style","z-index:1; position:absolute; left:0px; top:0px; border: 1px solid white;"),t.setAttribute("width",te),t.setAttribute("height",re),l=ge.getContext(t),ge.addEvent(t,"click",ln),$("html").hasClass("ie10+")&&ge.addEvent(t,"dblclick",(function(){jn("userDefined")})),l.strokeStyle="#000000",-1!==o.indexOf("SOP")){l.strokeRect(ce,fe,de/2,de),(s=l.createLinearGradient(ce+de/2,fe+de,0,0)).addColorStop(0,"#000000"),s.addColorStop(1,"#8CA5B9"),l.fillStyle=s,l.fillRect(ce,fe,de/2,de),l.beginPath(),l.arc(ce+10,fe+10,5,0,2*Math.PI,!0),l.strokeStyle="white",l.stroke(),l.strokeStyle="#000000",c=1;do{c+=1,l.font=c+"px Arial Black"}while(l.measureText(Oe).width<de/2);for(_=c,l.save(),l.translate(ce+de/4,fe+de/2-l.measureText(Oe).width/2),l.rotate(Math.PI/2),l.fillStyle="#FE2E2E",l.fillText(Oe,0,0),l.restore(),a=o.slicePriorToX("("),e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[e].display&&(a=NUTOOL_PIN.g_cfg_chips[e].display);break}l.fillStyle="white",f=1;do{f+=1,l.font="bold "+f+"px Calibri"}while(l.measureText(a).width<de/2);if(f>c&&(f=c,l.font="bold "+f+"px Calibri"),_=f/2+5,l.save(),l.translate(ce+de/4-_,fe+de/2-l.measureText(a).width/2),l.rotate(Math.PI/2),l.fillText(a,0,0),l.restore(),v>12){c=1;do{c+=1,l.font="bold "+c+"px Calibri"}while(l.measureText(NUTOOL_PIN.g_packageNumber).width<de/4);_=_+c/2+5,l.save(),l.translate(ce+de/4-_,fe+de/2-l.measureText(NUTOOL_PIN.g_packageNumber).width/2),l.rotate(Math.PI/2),l.fillText(NUTOOL_PIN.g_packageNumber,0,0),l.restore()}for($e=[],e=0;e<2;e+=1)d="pin_side_"+e,g[0].appendChild(Zi("canvas",d)),$e[e]=rn().init(d,$("#"+d),e),$e[e].draw()}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){l.strokeRect(ce,fe,de,de),(s=l.createLinearGradient(ce+de,fe+de,0,0)).addColorStop(0,"#000000"),s.addColorStop(1,"#8CA5B9"),l.fillStyle=s,l.fillRect(ce,fe,de,de),l.beginPath(),l.arc(ce+10,fe+de-10,5,0,2*Math.PI,!0),l.strokeStyle="white",l.stroke(),l.strokeStyle="#000000",0===$("#NUC_PinConfiguration_Canvas_Lining").length&&$("#panel")[0].appendChild(Zi("canvas","NUC_PinConfiguration_Canvas_Lining")),(r=$("#NUC_PinConfiguration_Canvas_Lining")[0]).setAttribute("style","z-index:1; position:absolute; left:0px; top:0px; border: 1px solid white;"),r.setAttribute("width",te),r.setAttribute("height",re),l=ge.getContext(r),c=1;do{c+=1,l.font=c+"px Arial Black"}while(l.measureText(Oe).width<de/2);for(l.fillStyle="#FE2E2E",l.fillText(Oe,ce+de/2-l.measureText(Oe).width/2,fe+de/2),a=o.slicePriorToX("("),e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[e].display&&(a=NUTOOL_PIN.g_cfg_chips[e].display);break}l.fillStyle="white",f=1;do{f+=1,l.font="bold "+f+"px Calibri"}while(l.measureText(a).width<de/2);f>c&&(f=c,l.font="bold "+f+"px Calibri"),_=v<100?f/2+v/2:f/2+v/10,l.fillText(a,ce+de/2-l.measureText(a).width/2,fe+de/2+_),a=o.slicePriorToX(")").sliceAfterX("(")+"(TOP VIEW)",c=1;do{c+=1,l.font="bold "+c+"px Calibri"}while(l.measureText(a).width<de/2);_=v<100?_+c/2+v/2:_+c/2+v/10,l.fillText(a,ce+de/2-l.measureText(a).width/2,fe+de/2+_),$e=[],d="pin_side_0",g[0].appendChild(Zi("canvas",d)),$e[0]=rn().init(d,$("#"+d),0),$e[0].draw()}else{l.strokeRect(ce,fe,de,de),(s=l.createLinearGradient(ce+de,fe+de,0,0)).addColorStop(0,"#000000"),s.addColorStop(1,"#8CA5B9"),l.fillStyle=s,l.fillRect(ce,fe,de,de),l.beginPath(),l.arc(ce+10,fe+de-10,5,0,2*Math.PI,!0),l.strokeStyle="white",l.stroke(),l.strokeStyle="#000000",c=1;do{c+=1,l.font=c+"px Arial Black"}while(l.measureText(Oe).width<de/2);for(l.fillStyle="#FE2E2E",l.fillText(Oe,ce+de/2-l.measureText(Oe).width/2,fe+de/2),a=o.slicePriorToX("("),e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[e].display&&(a=NUTOOL_PIN.g_cfg_chips[e].display);break}l.fillStyle="white",f=1;do{f+=1,l.font="bold "+f+"px Calibri"}while(l.measureText(a).width<de/2);f>c&&(f=c,l.font="bold "+f+"px Calibri"),_=f/2+v/8,l.fillText(a,ce+de/2-l.measureText(a).width/2,fe+de/2+_),c=1;do{c+=1,l.font="bold "+c+"px Calibri"}while(l.measureText(NUTOOL_PIN.g_packageNumber).width<de/4);for(_=_+c/2+v/8,l.fillText(NUTOOL_PIN.g_packageNumber,ce+de/2-l.measureText(NUTOOL_PIN.g_packageNumber).width/2,fe+de/2+_),$e=[],e=0;e<4;e+=1)d="pin_side_"+e,g[0].appendChild(Zi("canvas",d)),$e[e]=rn().init(d,$("#"+d),e),$e[e].draw()}!function(){var e,i,n,t,r,l,s,a=ge.getContext($("#NUC_PinConfiguration_Canvas")[0]);if(a.font=B,n="white",-1!==o.indexOf("SOP"))for(e=0,i=v/2;e<i;e+=1)r=ce+q,l=fe+Z+e*(K+z)+4*K/5,a.fillStyle=n,a.fillText((e+1).toString(),r,l),Je&&(r=ce-H-J,a.save(),a.fillStyle="black",a.fillText(ve[e],r-a.measureText(ve[e]).width,l),a.restore()),r=ce+de/2,l=fe+de-Z-K-e*(K+z)+4*K/5,s=a.measureText((e+1+v/2).toString()),a.fillStyle=n,a.fillText((e+1+v/2).toString(),r-s.width-q,l),Je&&(r=ce+de/2+H+J,a.fillStyle="black",a.fillText(ve[e+v/2],r,l));else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(e=0,i=X;e<i;e+=1)r=ce+q,l=fe+Z+W+(X-1-e%X)*(2*W+z)+4,a.fillStyle=n,a.fillText((e+1).toString(),r,l);for(e=0,i=j;e<i;e+=1)r=ce+Z+W+e*(2*W+z)-4,l=fe+de-5,a.fillStyle=n,a.fillText(NUTOOL_PIN.g_horizontalIndexArray[e],r,l)}else{for(e=0,i=y;e<i;e+=1)t=Math.floor((E-y)/2),r=ce+Z+(e+t)*(K+z),l=fe+de,a.save(),a.translate(r,l),a.rotate(-Math.PI/2),a.fillStyle=n,a.fillText((e+1).toString(),q,4*K/5),a.restore(),Je&&(l=fe+de+H,a.save(),a.translate(r,l),a.rotate(-Math.PI/2),a.textAlign="end",a.fillStyle="black",a.fillText(ve[e],-q,4*K/5),a.restore());for(e=0,i=D;e<i;e+=1)t=Math.floor((E-D)/2),r=ce+de,l=fe+de-Z-K-(e+t)*(K+z)+4*K/5,s=a.measureText((e+1+y).toString()),a.fillStyle=n,a.fillText((e+1+y).toString(),r-s.width-q,l),Je&&(r=ce+de+H+J,a.fillStyle="black",a.fillText(ve[e+y],r,l));for(e=0,i=w;e<i;e+=1)t=Math.floor((E-w)/2),r=ce+de-Z-K-(e+t)*(K+z),l=fe-H,a.save(),a.translate(r,l),a.rotate(-Math.PI/2),s=a.measureText((e+1+y+D).toString()),a.fillStyle=n,a.fillText((e+1+y+D).toString(),-H-s.width-q,4*K/5),a.restore(),Je&&(a.save(),a.translate(r,l),a.rotate(-Math.PI/2),a.fillStyle="black",a.fillText(ve[e+y+D],2*J,4*K/5),a.restore());for(e=0,i=F;e<i;e+=1)t=Math.floor((E-F)/2),r=ce+q,l=fe+Z+(e+t)*(K+z)+4*K/5,a.fillStyle=n,a.fillText((e+1+y+D+w).toString(),r,l),Je&&(r=ce-H-J,a.save(),a.fillStyle="black",a.fillText(ve[e+y+D+w],r-a.measureText(ve[e+y+D+w]).width,l),a.restore())}e=null,i=null,n=null,a=null,t=null,r=null,l=null,null}(),pn(),e=null,i=null,g=null,t=null,r=null,l=null,s=null,a=null,_=null,d=null,c=null,f=null}function di(e,i){var n,t,r,l,o,s=0,a=/(\d+)|(\D+)/g,d=/\d/;if(isFinite(e)&&isFinite(i))return e-i;if((n=String(e).toLowerCase())===(t=String(i).toLowerCase()))return 0;if(!d.test(n)||!d.test(t))return n>t?1:-1;for(n=n.match(a),t=t.match(a),o=n.length>t.length?t.length:n.length;s<o;)if(r=n[s],l=t[s],s+=1,r!==l)return isFinite(r)&&isFinite(l)?("0"===r.charAt(0)&&(r="."+r),"0"===l.charAt(0)&&(l="."+l),r-l):r>l?1:-1;return n.length-t.length}function ci(){var e,i,n,t,a,d,c,f,g,_,u,N,O,p,h,x,T,M,I,C,m,U,b=[],k=[],A=[],v=[],y=[],D=[],w=[],F=[],E=$("#rootTree_Pin"),j=$("#moduleTree"),X=$("#ChipType_span"),B=$("#MCU_span");if((b=Qi(je)).sort(di),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode)for(var K=0;K<b.length;)/BP[0-9]{1,}\./.test(b[K])?b.splice(K,1):K++;for(y=[],Ae=[],Se=[],F=[],e=0,t=b.length;e<t;e+=1){for(k=[],v=[],i=0,a=je[b[e]].length;i<a;i+=1)c=Xe[b[e]][i],k.push(c+"_Pin"+je[b[e]][i]);for(k.sort(di),A=[],_=!1,i=0,a=k.length;i<a;i+=1)if(!(A.length>0&&-1!==$.inArray(i,A))){if(c=k[i],g=!1,0===NUTOOL_PIN.g_cfg_shareBits.length&&i!==k.length-1)for(n=i+1,d=k.length;n<d;n+=1)c.restorePinTreeNodeName()===k[n].restorePinTreeNodeName()?(A.push(n),g=!0,_=!0):c.sliceAfterX("_Pin")===k[n].sliceAfterX("_Pin")&&(_=!0);if(f=c.replaceSpecialCharacters(),N={},h={},g){for(O={},h.id=f,O.data="Pin:"+nn(c.sliceAfterX("_Pin")),O.attr=h,(w=[]).push(O),Se.push(h.id),n=0,d=A.length;n<d;n+=1)c.restorePinTreeNodeName()===k[A[n]].restorePinTreeNodeName()&&(O={},(h={}).id=k[A[n]],h.id=h.id.replaceSpecialCharacters(),O.data="Pin:"+nn(h.id.sliceAfterX("_Pin")),O.attr=h,w.push(O),Se.push(h.id));(h={}).id=f.restorePinTreeNodeName()+"_Intermediate",N.data=c.restorePinTreeNodeName(),N.attr=h,N.children=w,Ae.push(h.id)}else h.id=f,N.data=c.restorePinTreeNodeName()+"(Pin:"+nn(c.sliceAfterX("_Pin"))+")",N.attr=h;v.push(N)}_&&F.push(b[e]+"_Root"),p={},(h={}).id=b[e]+"_Root",p.data=b[e],p.attr=h,p.state="closed",p.children=v,y[e]=p}0===j.length&&(Ui(),"Simplified Chinese"===Ne?(I="支援模组",C="搜寻..",m="芯片系列:",U="型号:"):"Traditional Chinese"===Ne?(I="支援模組",C="搜尋..",m="晶片系列:",U="型號:"):(I="Supported Modules",C="Search..",m="Chip Series:",U="Part No.:"),E[0].appendChild(Zi("div","supportedModules","")),(x=$("#supportedModules")).append("<span id=supportedModules_span></span>"),(T=$("#supportedModules_span")).css("vertical-align","text-top"),T.css("font-size","16px"),T.css("font-weight","bold"),x.append("<input id='searchInput_Pin' type='text' value="+C+">"),M=$("#searchInput_Pin"),E[0].appendChild(Zi("div","moduleTree","Loading...")),j=$("#moduleTree"),X.text(m),X.css("font-size","16px"),X.css("font-weight","bold"),B.text(U),B.css("font-size","16px"),B.css("font-weight","bold"),C=null,m=null,U=null),x[0].setAttribute("style","background-color: #FFFFFF; border-right: 16px solid #F2F2F2; float:left; width:"+(G-16)+"px; height: 22px;"),T.text(I),M[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+(T.width()+10)+"px; width:"+(G-16-T.width()-10)+"px; height: 16px;"),E.hide(),M.change((function(){xi(this.value)})),j[0].setAttribute("style","background-color: #FFFFFF; overflow-y: scroll; float:left; width:"+G+"px; height: "+(ae-se-6-$("#supportedModules").height())+"px; font-size:16px;"),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?ii?j.hover((function(){$(this).css("background-color","#FAFAFA"),Ji(),$("#pin_side_0").show(),$("#NUC_PinConfiguration_Canvas_Lining").hide()}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()})):j.hover((function(){$(this).css("background-color","#FAFAFA"),Ji(),$("#pin_side_0").css("opacity","0.8"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","0")}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1")})):j.hover((function(){$(this).css("background-color","#FAFAFA"),Ji()}),(function(){$(this).css("background-color","#FFFFFF")})),j.jstree({themes:{theme:"classic",icons:!1},json_data:{data:y,progressive_render:!0},search:{case_insensitive:!0},core:{animation:0,html_titles:!0},plugins:["themes","json_data","types","search","checkbox","ui"]}).bind("hover_node.jstree",(function(e,i){var n,t=i.rslt.obj.attr("id"),l=!1,o="",s=-1;r&&NUTOOL_PIN.g_cfg_gpiosDescriptions.length>0&&-1===t.indexOf("_dot")&&(-1!==t.indexOf("_Pin")&&(n=t.restorePinTreeNodeName(),s=parseInt(t.sliceAfterX("_Pin"),10),l=!0),l&&(o=an(n=n.restorePinTreeNodeName().restoreSpecialCharacters(),s),$i(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1])&&(o="("+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1]+") "+o),"unknown"!==o&&et(t,o,"right"))),n=null,l=null,o=null,s=null})).bind("check_node.jstree",(function(e,i){var n,t,r,l=i.rslt.obj.attr("id"),o=l.restorePinTreeNodeName();try{r=i.inst._get_parent(i.rslt.obj).attr("id")}catch(e){}if(function(e){for(var i=!1,n=e.slicePriorToX("_Pin"),t=e.sliceAfterX("_Pin"),r=0;r<Ze.length;r++){if(Ze[r].slicePriorToX("_Pin")==n){i=!0;break}if(Ze[r].sliceAfterX("_Pin")==t){i=!0;break}}return i}(l))ct();else if(D=[],On(),ln(),$("#"+l).hasClass("semi-disabled"))!function(e){var i,n,t,r,l,o,a,d,c,f,g,_,u,N,O,p,h,x,T=$("#moduleTree"),M=[],I=[],C=[],m=[],U=[],b=[],L=[];if(h=!0,[],m=[],U=[],b=[],L=[],l=Ri(e.slicePriorToX("_")),p=!1,x=!1,d=0,T.jstree("open_node",$("#"+e)),$("#"+e).find("li").each((function(t,r){if(o=$(r).attr("id"),-1===$.inArray(o,m))if(m.push(o),-1===$.inArray(o,Se))-1!==o.indexOf("_Pin")?((c=we[parseInt(o.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters())!==o.restorePinTreeNodeName()?(h=!1,$("#"+o).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")):x=!0,"red"!==$("#"+o+" >a").css("color")&&"rgb(255, 0, 0)"!==$("#"+o+" >a").css("color")||-1!==$.inArray(o.sliceAfterX("Pin"),b)||(U.push(o),b.push(o.sliceAfterX("Pin")))):(p=!1,d=0,T.jstree("open_node",$("#"+o)),$("#"+o).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+o).find("li").each((function(e,i){a=$(i).attr("id"),m.push(a),(c=we[parseInt(a.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters())===a.restorePinTreeNodeName()?(p=!0,x=!0):$("#"+a).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),"red"!==$("#"+a+" >a").css("color")&&"rgb(255, 0, 0)"!==$("#"+a+" >a").css("color")||(d+=1),e+1===$("#"+o).find("li").length&&!1===p&&(h=!1,d===$("#"+o).find("li").length&&L.push(o),$("#"+o).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"))})));else if((c=we[parseInt(o.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters())===o.restorePinTreeNodeName()?(p=!0,x=!0):$("#"+o).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),"red"!==$("#"+o+" >a").css("color")&&"rgb(255, 0, 0)"!==$("#"+o+" >a").css("color")||(d+=1),t+1===$("#"+e).find("li").length&&!1===p){if(h=!1,d===$("#"+e).find("li").length)for(i=0,n=$("#"+e).find("li").length;i<n;i+=1)if(c=$("#"+e).find("li")[i].id,-1===$.inArray(c.sliceAfterX("Pin"),b)){U.push(c),b.push(c.sliceAfterX("Pin"));break}for($("#"+e).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),i=0,n=ye.length;i<n;i+=1)if(ye[i].sliceAfterX(":")===l){p=!0;break}p?$("#"+l+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"):$("#"+l+"_Root").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}})),L.length>0)for(i=0,n=L.length;i<n;i+=1)for(o=L[i],t=0,r=$("#"+o).find("li").length;t<r;t+=1)if(c=$("#"+o).find("li")[t].id,-1===$.inArray(c.sliceAfterX("Pin"),b)){U.push(c),b.push(c.sliceAfterX("Pin"));break}x?$("#"+e).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"):$("#"+e).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(h)void 0!==He[l]&&He[l].length>0&&(He[l].length=0),T.jstree("uncheck_node",$("#"+e));else if(U.length>0){for(O="",i=0;i<U.length;i+=1)c=U[i].sliceAfterX("Pin"),O+="Simplified Chinese"===Ne?"第"+nn(c)+"脚位已被"+tn(we[parseInt(c,10)-1])+"使用。<br />":"Traditional Chinese"===Ne?"第"+nn(c)+"腳位已被"+tn(we[parseInt(c,10)-1])+"使用。<br />":"Pin"+nn(c)+" has been asserted by "+tn(we[parseInt(c,10)-1])+".<br />";"Simplified Chinese"===Ne?(f="冲突发生",g="預期的"+l+"和别的模组冲突。请问你要调整旧的且改设置到现在的模组吗?",_="要",u="不要"):"Traditional Chinese"===Ne?(f="衝突發生",g="預期的"+l+"和別的模組衝突。請問你要調整舊的且改設置到現在的模組嗎?",_="要",u="不要"):(f="Conflict Occurred",g="The expected "+l+" conflicts with other modules. Would you like to adjust the old modules and configure to the current one?",_="Yes",u="No"),On(),N=$('<div id="conflictDialog"><p>'+g+"<br />"+O+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:f,width:500,height:400,show:"fade",hide:"fade",close:function(){$("#conflictDialog").dialog("destroy")},buttons:[{text:_,click:function(){for(C=Qi(Ge),Ke=[],i=0,n=C.length;i<n;i+=1)Ke[C[i]]=Ge[C[i]];for(Ee=[],i=0,n=Fe.length;i<n;i+=1)Ee[i]=Fe[i];for(s="",i=0,n=we.length;i<n;i+=1)""!==we[i]&&(s+="Pin"+(i+1)+":"+tn(we[i])+"\r\n");for(Ni(e),P="",M=[],I=[],i=0;i<U.length;i+=1)M.push(parseInt(U[i].sliceAfterX("Pin"),10)),I.push(U[i].sliceAfterX("Pin"));l=Ri(U[0].slicePriorToX("_")),gi(U[0],l,M,I)}},{text:u,click:function(){$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy"),Ni(e)}}]}),$("#conflictDialog").dialog("widget").draggable("option","axis","x y"),$("#conflictDialog").dialog("widget").draggable({containment:"window",scroll:!1}),S&&($("#conflictDialog").dialog("option","buttons")[0].click.apply(N),$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy")),f=null,g=null,_=null,u=null}else Ni(e);Vi(),i=null,n=null,t=null,r=null,T=null,l=null,o=null,a=null,[],m=[],C=[],p=null,h=null,x=null}(l);else{if(void 0===r){for(n=0,t=je[o].length;n<t;n+=1)D.push(je[o][n]);u=o,j.jstree("open_node",$("#"+l))}else D[0]=parseInt(l.sliceAfterX("Pin"),10),u=Ri(r.slicePriorToX("_"));ti?ui(l,u,D):fi(!0,l,u,D),!L&&S&&$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerText",l),n=null,t=null,l=null,o=null}})).bind("uncheck_node.jstree",(function(i,n){var r,l,o=n.rslt.obj.attr("id"),s=o.restorePinTreeNodeName();try{r=n.inst._get_parent(n.rslt.obj).attr("id")}catch(e){}if(D=[],On(),void 0===r)D=je[s],u=Ri(s);else{if(-1!==o.indexOf("_Intermediate")){for(e=0,t=Se.length;e<t;e+=1)Se[e].restorePinTreeNodeName()===o.restorePinTreeNodeName()&&(l=Se[e],u=Ri(l.slicePriorToX("_")),D[0]=parseInt(l.sliceAfterX("_Pin"),10),l.restorePinTreeNodeName()===we[D[0]-1].replaceSpecialCharacters()&&(Oi(l,u,D),Vi()));return l=null,void null}D[0]=parseInt(o.sliceAfterX("Pin"),10),u=Ri(r.slicePriorToX("_"))}fi(!1,o,u,D),o=null,s=null,r=null})).bind("open_node.jstree",(function(i,n){var r,l,o,s,a,d=n.rslt.obj.attr("id"),c=d.restorePinTreeNodeName();try{r=n.inst._get_parent(n.rslt.obj).attr("id")}catch(e){}if(void 0===r&&-1!==$.inArray(d,F))for(e=0,t=Ae.length;e<t;e+=1)-1!==Ae[e].indexOf(c)&&($("#"+Ae[e]).addClass("semi-disabled"),$("#"+Ae[e]+" >a").css("background-color","#B0C4DE"));if(void 0===r&&void 0!==He[c]&&He[c].length>0){for(ti=!0,e=0,t=He[c].length;e<t;e+=1)j.jstree("open_node",$("#"+He[c][e].restorePinTreeNodeName()+"_Intermediate")),j.jstree("check_node",$("#"+He[c][e]));He[c].length=0,ti=!1,Vi()}$(n.rslt.obj).find("li").each((function(e,i){l=$(i).attr("id"),r=Ri(l.slicePriorToX("_")),-1!==l.indexOf("_Pin")?(s=De[parseInt(l.sliceAfterX("_Pin"),10)-1],0!==l.indexOf(s)&&!$i(s)||-1!==l.indexOf(s)&&!1===$("#"+l).hasClass("jstree-checked")?($("#"+l+" >a").css("color","red"),$("#"+d+" >a").css("color","red")):(void 0===He[r]||void 0!==He[r]&&0===He[r].length)&&-1!==(a=$.inArray(l,We))&&($("#"+l+" >a").css("color","blue"),We.splice(a,1))):(j.jstree("open_node",$("#"+l)),$("#"+l).find("li").each((function(e,i){o=$(i).attr("id"),r=Ri(o.slicePriorToX("_")),s=De[parseInt(o.sliceAfterX("_Pin"),10)-1],-1===o.indexOf(s)&&!$i(s)||-1!==o.indexOf(s)&&!1===$("#"+o).hasClass("jstree-checked")?($("#"+o+" >a").css("color","red"),$("#"+l+" >a").css("color","red"),$("#"+d+" >a").css("color","red")):(void 0===He[r]||void 0!==He[r]&&0===He[r].length)&&-1!==(e=$.inArray(o,We))&&($("#"+o+" >a").css("color","blue"),We.splice(e,1))})),j.jstree("close_node",$("#"+l)))})),Ze.forEach((e=>{-1!=e.indexOf(d.slicePriorToX("_"))&&(document.querySelector(`#${e}`).style.background="DarkGray")})),d=null,c=null,r=null,l=null,o=null,s=null,a=null})).bind("select_node.jstree",(function(e,i){var n,t,r=i.rslt.obj.attr("id");j.jstree("open_node",$("#"+r)),$("#"+r).find("li").each((function(e,i){-1!==(n=$(i).attr("id")).indexOf("_Pin")?j.jstree("open_node",$("#"+n)):(j.jstree("open_node",$("#"+n)),$("#"+n).find("li").each((function(e,i){t=$(i).attr("id"),j.jstree("open_node",$("#"+t))})))})),r=null,n=null,t=null})).bind("dblclick.jstree",(function(e){})).bind("loaded.jstree",(function(){for(e=0,t=F.length;e<t;e+=1)$("#"+F[e]).addClass("semi-disabled"),$("#"+F[e]+" >a").css("background-color","#B0C4DE");ni?(ti=!0,function(){var e,i,n,t,r,o,a,d,c,f,g,_,u,N,O,p,h,x,P,T,M,I,C,m,U,b,L,k=[],A=0,S=[],v=[],y=s,D=1;if(k=Qi(Be),"NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MINI57"===l||"NM1120"===l||"NDA102"===l||"MA35D0"===l||"MA35D1"===l||"MA35H0"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23")){for(e=0,r=k.length;e<r;e+=1)if(0!==Be[k[e]])for(A=Be[k[e]],d=-1===k[e].indexOf("MFPH")&&-1===k[e].indexOf("_H_MFP"),i=0;i<8;i+=1){if((f=(f=(A&(c=15<<4*i>>>0))>>>0)>>>4*i>>>0)&&(N=d?i:i+8,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(x=ji(k[e],N),n=1,o=NUTOOL_PIN.g_cfg_gpios[x].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)){O=(O=NUTOOL_PIN.g_cfg_gpios[x].f[n]).slicePriorToX(":"),(n+=1)<o&&-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)&&(-1!==s.indexOf("Pin"+nn(_+1))?O!==(p=(p=s.slice(s.indexOf("Pin"+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p):-1!==s.indexOf("Pin "+nn(_+1))&&O!==(p=(p=s.slice(s.indexOf("Pin "+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p));break}h=Ri(h=O),O=O.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),S[0]=_+1,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+(_+1)):He[h].push(O+"_Pin"+(_+1))}if(0===(A=(A&~c)>>>0))break}}else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1")){for(e=0,r=k.length;e<r;e+=1)if(0!==Be[k[e]])for(A=Be[k[e]],m=parseInt(k[e].substr(-1),10),i=0;i<4;i+=1){if((f=(f=(A&(c=255<<8*i>>>0))>>>0)>>>8*i>>>0)&&(N=i+4*m,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(x=ji(k[e],N),n=1,o=NUTOOL_PIN.g_cfg_gpios[x].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)){O=(O=NUTOOL_PIN.g_cfg_gpios[x].f[n]).slicePriorToX(":"),(n+=1)<o&&-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)&&(-1!==s.indexOf("Pin"+nn(_+1))?O!==(p=(p=s.slice(s.indexOf("Pin"+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p):-1!==s.indexOf("Pin "+nn(_+1))&&O!==(p=(p=s.slice(s.indexOf("Pin "+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p));break}h=Ri(h=O),O=O.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),S[0]=_+1,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+(_+1)):He[h].push(O+"_Pin"+(_+1))}if(0===(A=(A&~c)>>>0))break}}else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("MUG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M0")||0===l.indexOf("CM1003")){for(e=0,r=k.length;e<r;e+=1)if(0!==Be[k[e]])for(A=Be[k[e]],i=0;i<8;i+=1){if((f=(f=(A&(c=15<<4*i>>>0))>>>0)>>>4*i>>>0)&&(N=i,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(x=ji(k[e],N),n=1,o=NUTOOL_PIN.g_cfg_gpios[x].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)){O=(O=NUTOOL_PIN.g_cfg_gpios[x].f[n]).slicePriorToX(":"),(n+=1)<o&&-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)&&(-1!==s.indexOf("Pin"+nn(_+1))?O!==(p=(p=s.slice(s.indexOf("Pin"+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p):-1!==s.indexOf("Pin "+nn(_+1))&&O!==(p=(p=s.slice(s.indexOf("Pin "+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p));break}h=Ri(h=O),O=O.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),S[0]=_+1,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+(_+1)):He[h].push(O+"_Pin"+(_+1))}if(0===(A=(A&~c)>>>0))break}}else if("ISD9100"===l||"ISD9300"===l){for(e=0,r=k.length;e<r;e+=1)if(0!==Be[k[e]])for(A=Be[k[e]],i=0;i<16;i+=1){if((f=(f=(A&(c=3<<2*i>>>0))>>>0)>>>2*i>>>0)&&(N=i,u="P"+k[e].slice(k[e].indexOf("P")+1,k[e].indexOf("P")+2)+"."+N.toString(),-1!==(_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex])))){for(x=ji(k[e],N),n=1,o=NUTOOL_PIN.g_cfg_gpios[x].f.length;n<o;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)){O=(O=NUTOOL_PIN.g_cfg_gpios[x].f[n]).slicePriorToX(":"),(n+=1)<o&&-1!==NUTOOL_PIN.g_cfg_gpios[x].f[n].indexOf(":"+f)&&(-1!==s.indexOf("Pin"+nn(_+1))?O!==(p=(p=s.slice(s.indexOf("Pin"+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p):-1!==s.indexOf("Pin "+nn(_+1))&&O!==(p=(p=s.slice(s.indexOf("Pin "+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p));break}h=Ri(h=O),O=O.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),S[0]=_+1,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+(_+1)):He[h].push(O+"_Pin"+(_+1))}if(0===(A=(A&~c)>>>0))break}}else if("NUC200AE"===l||"NUC2201"===l||"M071R1S"===l||"NUC029xEE"===l||"NUC100AN_BN"===l||"NUC100CN"===l||"NUC100DN"===l){for(e=0,r=k.length;e<r;e+=1)if(-1===k[e].indexOf("ALT")&&0!==Be[k[e]])for(i=0;i<32;i+=1){if(_=-1,f=((A=Be[k[e]])&(c=1<<i>>>0))>>>i>>>0)for(p=k[e]+"["+i+"]",n=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<o;n+=1){for(t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(p)){u=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==_){for(f=0,t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)I=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],c=1<<(m=parseInt(I.slice(I.indexOf("[")+1,I.indexOf("]")),10))>>>0,C=I.slicePriorToX("["),f+=(((A=Be[C])&c)>>>m)*Math.pow(2,t-1),C=I.slicePriorToX(":"),-1===$.inArray(C,NUTOOL_PIN.g_cfg_shareBits)&&(Be[C]=A&~c);for(O="",x=ji(u,parseInt(u.sliceAfterX("."),10)),t=1,a=NUTOOL_PIN.g_cfg_gpios[x].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[x].f[t].indexOf(":"+f)){O=(O=NUTOOL_PIN.g_cfg_gpios[x].f[t]).slicePriorToX(":"),(t+=1)<a&&-1!==NUTOOL_PIN.g_cfg_gpios[x].f[t].indexOf(":"+f)&&(-1!==s.indexOf("Pin"+nn(_+1))?O!==(p=(p=s.slice(s.indexOf("Pin"+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p):-1!==s.indexOf("Pin "+nn(_+1))&&O!==(p=(p=s.slice(s.indexOf("Pin "+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p));break}if(""===O)continue;h=Ri(h=O),O=O.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),S[0]=_+1,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+(_+1)):He[h].push(O+"_Pin"+(_+1));break}}if(0===Be[k[e]])break}}else for(e=0,r=k.length;e<r;e+=1)if(0!==Be[k[e]])for(i=0;i<32;i+=1){if(_=-1,f=((A=Be[k[e]])&(c=1<<i>>>0))>>>i>>>0)for(p=k[e]+"["+i+"]",n=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<o;n+=1){for(t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(p)){u=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==_){for(f=0,t=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<a;t+=1)I=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],c=1<<(m=parseInt(I.slice(I.indexOf("[")+1,I.indexOf("]")),10))>>>0,C=I.slicePriorToX("["),f+=(((A=Be[C])&c)>>>m)*Math.pow(2,t-1),Be[C]=A&~c;for(O="",x=ji(u,parseInt(u.sliceAfterX("."),10)),t=1,a=NUTOOL_PIN.g_cfg_gpios[x].f.length;t<a;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[x].f[t].indexOf(":"+f)){O=(O=NUTOOL_PIN.g_cfg_gpios[x].f[t]).slicePriorToX(":"),(t+=1)<a&&-1!==NUTOOL_PIN.g_cfg_gpios[x].f[t].indexOf(":"+f)&&(-1!==s.indexOf("Pin"+nn(_+1))?O!==(p=(p=s.slice(s.indexOf("Pin"+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p):-1!==s.indexOf("Pin "+nn(_+1))&&O!==(p=(p=s.slice(s.indexOf("Pin "+nn(_+1)))).sliceBetweenXandX(":","\r").trim())&&(O=p));break}if(""===O)continue;h=Ri(h=O),O=O.replaceSpecialCharacters(),-1!==h.indexOf("_")&&(h=h.slicePriorToX("_")),S[0]=_+1,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+(_+1)):He[h].push(O+"_Pin"+(_+1));break}}if(0===Be[k[e]])break}U="IN_ICE_MODE";for(;-1!==y.indexOf(U);){for(L=!0,b=y.indexOf(U),D=1;":"!==y.charAt(b-D);)if(b-(D+=1)<0||D>30){L=!1;break}if(!L)break;for(-1!==(h=O=(O=y.slice(b-D+1,b)+U).replaceSpecialCharacters()).indexOf("_")&&(h=h.slicePriorToX("_")),h=Ri(h),L=!0,b-=D,D=1;"n"!==y.charAt(b-D);)if(b-(D+=1)<0||D>30){L=!1;break}if(!L)break;g=y.slice(b-D+1).slicePriorToX(":"),g=parseInt(g,10),S[0]=g,ui(O+"_Pin"+(_+1),h,S),void 0===He[h]?(He[h]=[],He[h][0]=O+"_Pin"+g):He[h].push(O+"_Pin"+g),y=y.slice(y.indexOf(U)+1)}for(e=0,r=Fe.length;e<r;e+=1)if(""===we[Fe[e]]){for(P=(P=ve[Fe[e]]).slice(P.indexOf("P"));-1!==P.indexOf(".")&&2!==P.indexOf(".");)P=(P=P.slice(1)).slice(P.indexOf("P"));T=(P=P.slicePriorToX("/")).replaceSpecialCharacters()+"_Pin"+(Fe[e]+1),M=Ri(P),S[0]=Fe[e]+1,ui(T,M,S),void 0===He[M]?(He[M]=[],He[M][0]=T):He[M].push(T)}for(v=Qi(He),e=0,r=v.length;e<r;e+=1)$("#"+v[e]+"_Root").addClass("jstree-undetermined");Be=[],k=[],S=[],v=[],L=null,U=null,b=null,y=null,D=null,d=null,A=null,c=null,f=null,_=null,u=null,N=null,O=null,p=null,h=null,x=null,null,null,P=null,T=null,M=null,I=null,C=null,m=null,e=null,i=null,n=null,t=null,r=null,null,o=null,a=null}(),Vi(),s=null):(ni=!0,Di()),ti=!1,$("#ChipType").show(),$("#MCU").show(),$("#moduleTree").height(window.innerHeight-8-$("#navbar").height()-$("#ChipType").height()-$("#MCU").height()-se-8-$("#supportedModules").height()-R),$("#ChipTypeSelect").show(),$("#MCUselect").show(),$("#rootTree_Pin").show(),$("#panel").css("overflow-x","scroll"),$("#panel").css("overflow-y","scroll"),$("#ChipType").css("border-right","16px solid #F2F2F2"),$("#MCU").css("border-right","16px solid #F2F2F2"),-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||(ii?($("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()):($("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1"))),wn(),"undefined"!=typeof NUTOOL_PER&&"PinConfigure"!==NUTOOL_PER.getg_currentTool()&&($("#parentOfPanel").hide(),$("#ChipType").hide(),$("#MCU").hide(),$("#rootTree_Pin").hide()),NUTOOL_PIN.g_bModuleTreeLoaded=!0})).bind("destroy.jstree",(function(){b=[],k=[],A=[],v=[],y=[],D=[],w=[],F=[],He=[],We=[],c=null,f=null,g=null,_=null,u=null,N=null,O=null,p=null,h=null,E=null,j=null,X=null,B=null,x=null,T=null,M=null,I=null}))}function fi(e,i,n,t){var r,l,o,a,d,c,f,g,_,u,N,O,p,h,x=!1,T=[],M=[],I=[],C=ye.length,m="",U=Ce,b=$("#moduleTree");function k(e,i){if($("#"+$(i).attr("id")).hasClass("jstree-checked")||$("#"+$(i).attr("id")).hasClass("jstree-undetermined"))return p=!0,!1}function A(e,t){if($("#"+$(t).attr("id")).hasClass("jstree-checked"))return $("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),$("#"+Ri(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),!1}for(r=0,o=ye.length;r<o;r+=1)T[r]=ye[r].slicePriorToX(":");if(e){for(Ui(),r=0;r<C;r+=1){var v;if(-1!==$.inArray(parseInt(T[r],10),t)&&(1!==t.length&&ye[r]!==T[r]+":"+n||1===t.length&&we[T[r]-1].replaceSpecialCharacters()!==i.restorePinTreeNodeName()))if(dt(T[r]))m+="第"+nn(T[r])+"脚位已被"+tn(we[T[r]-1])+"鎖定。<br />",(v=t.indexOf(Number(T[r])))>-1&&t.splice(v,1);else m+="Simplified Chinese"===Ne?"第"+nn(T[r])+"脚位已被"+tn(we[T[r]-1])+"使用。<br />":"Traditional Chinese"===Ne?"第"+nn(T[r])+"腳位已被"+tn(we[T[r]-1])+"使用。<br />":"Pin"+nn(T[r])+" has been asserted by "+tn(we[T[r]-1])+".<br />",x=!0}x&&("Simplified Chinese"===Ne?(d="冲突发生",c="預期的"+n+"和别的模组冲突。请问你要调整旧的且改设置到现在的模组吗?",f="要",g="不要"):"Traditional Chinese"===Ne?(d="衝突發生",c="預期的"+n+"和別的模組衝突。請問你要調整舊的且改設置到現在的模組嗎?",f="要",g="不要"):(d="Conflict Occurred",c="The expected "+n+" conflicts with other modules. Would you like to adjust the old modules and configure to the current one?",f="Yes",g="No"),On(),_=$('<div id="conflictDialog"><p>'+c+"<br />"+m+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:d,width:500,height:400,show:"fade",hide:"fade",close:function(){$("#conflictDialog").dialog("destroy")},buttons:[{text:f,click:function(){for(I=Qi(Ge),Ke=[],r=0,o=I.length;r<o;r+=1)Ke[I[r]]=Ge[I[r]];for(Ee=[],r=0,o=Fe.length;r<o;r+=1)Ee[r]=Fe[r];for(s="",r=0,o=we.length;r<o;r+=1)""!==we[r]&&(s+="Pin"+(r+1)+":"+tn(we[r])+"\r\n");P="",gi(i,n,t,T),$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy")}},{text:g,click:function(){for(r=0,o=t.length;r<o;r+=1)-1===$.inArray(t[r].toString(),T)&&M.push(t[r]);for($("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy"),r=0,o=M.length;r<o;r+=1)u=(u=Xe[n][$.inArray(M[r],je[n])]+"_Pin"+M[r]).replaceSpecialCharacters(),$("#moduleTree").jstree("check_node",$("#"+u))}}]}),$("#conflictDialog").dialog("widget").draggable("option","axis","x y"),$("#conflictDialog").dialog("widget").draggable({containment:"window",scroll:!1}),d=null,c=null,f=null,g=null)}if(x&&e){if(1===t.length&&-1!==i.indexOf("_Pin"))$("#"+i).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),-1!==i.indexOf("_")&&($("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),p=!1,$("#"+Ri(n)+"_Root").find("li").each((function(e,i){if($("#"+$(i).attr("id")).hasClass("jstree-checked")||$("#"+$(i).attr("id")).hasClass("jstree-undetermined"))return p=!0,$("#"+Ri(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),!1})),p||($("#"+i.slicePriorToX("_")).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),$("#"+Ri(n)+"_Root").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")),$("#"+i.restorePinTreeNodeName()+"_Intermediate").find("li").each((function(e,t){if($("#"+$(t).attr("id")).hasClass("jstree-checked"))return $("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),$("#"+Ri(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined"),!1})));else for(r=0,o=t.length;r<o;r+=1){for(N=Xe[n][r],i=(i=N+"_Pin"+t[r]).replaceSpecialCharacters(),p=!1,l=0,a=ye.length;l<a;l+=1)t[r]===parseInt(ye[l].slicePriorToX(":"),10)&&0===i.indexOf(ye[l].sliceAfterX(":"))&&(p=!0);p||($("#"+i).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),$("#"+Ri(n)+"_Root").removeClass("jstree-unchecked jstree-checked").addClass("jstree-undetermined")),-1!==i.indexOf("_")&&($("#"+i.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),p=!1,$("#"+Ri(n)+"_Root").find("li").each(k),p||($("#"+i.slicePriorToX("_")).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),$("#"+Ri(n)+"_Root").removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")),$("#"+i.restorePinTreeNodeName()+"_Intermediate").find("li").each(A))}S&&$("#conflictDialog").dialog("option","buttons")[0].click.apply(_)}else{if(e){if(-1!==$.inArray(i.restorePinTreeNodeName()+"_Intermediate",Ae))for(r=0,o=Se.length;r<o;r+=1)Se[r].restorePinTreeNodeName()===i.restorePinTreeNodeName()&&i!==Se[r]&&b.jstree("uncheck_node",$("#"+Se[r]));if(1===t.length&&0===i.indexOf("EBI")&&(O=ve[parseInt(i.sliceAfterX("_Pin"),10)-1]).indexOf("EBI")!==O.lastIndexOf("EBI"))for(;-1!==O.indexOf("EBI");)-1!==(O=O.slice(O.indexOf("EBI"))).indexOf("/")?(i.restorePinTreeNodeName()!==O.slice(O.indexOf("EBI"),O.indexOf("/"))&&b.jstree("uncheck_node",$("#"+O.slice(O.indexOf("EBI"),O.indexOf("/"))+"_Pin"+i.sliceAfterX("_Pin"))),O=O.slice(O.indexOf("/")+1)):(i.restorePinTreeNodeName()!==O.slice(O.indexOf("EBI"))&&b.jstree("uncheck_node",$("#"+O.slice(O.indexOf("EBI"))+"_Pin"+i.sliceAfterX("_Pin"))),O=O.slice(1))}if(C=t.length,e)if(1===t.length&&-1!==i.indexOf("_Pin"))pi(t[0]-1,i.restorePinTreeNodeName(),!1);else for(r=0,o=t.length;r<o;r+=1)N=Xe[n][r],pi(t[r]-1,N,!1);else for(r=0,o=t.length;r<o;r+=1)n!==De[t[r]-1]&&""!==De[t[r]-1]||(De[t[r]-1]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][t[r]-1],pi(t[r]-1,"",!0));if(e){if(ze.length>0)U=Ce;else if(0!==Ye.length)for(l=0,a=Ye.length;l<a;l+=1)Ye[l]===t[r]&&Ye.splice(l,1);for(r=0;r<C;r+=1){for(h=!1,l=0,a=ye.length;l<a;l+=1)if(t[r]===parseInt(ye[l].slicePriorToX(":"),10)){ye[l]=t[r]+":"+n,h=!0;break}h||ye.push(t[r]+":"+n),1!==t.length?hn(t[r]-1,n):-1!==i.indexOf("_Pin")?hn(t[r]-1,i.restorePinTreeNodeName(),!0):hn(t[r]-1,i),en(t[r],U),De[t[r]-1]=n}Vi()}else{for(r=0;r<C;r+=1)if(-1!==(v=$.inArray(t[r]+":"+n,ye))&&(ye.splice(v,1),hn(t[r]-1,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][t[r]-1]),en(t[r],"#FFFFFF"),0!==Ye.length))for(l=0,a=Ye.length;l<a;l+=1)Ye[l]===t[r]&&Ye.splice(l,1);Vi()}if(e)if(1===t.length&&-1!==i.indexOf("_Pin"))hi(i,t[0],!0),S&&(_e+=1,!L&&window.console&&window.console.log(_e+". "+i));else{for(r=0,o=t.length;r<o;r+=1)hi((N=Xe[n][r])+"_Pin"+t[r],t[r],!0);S&&(_e+=1,!L&&window.console&&window.console.log(_e+". "+n))}else for(r=0,o=t.length;r<o;r+=1)hi((N=Xe[n][r])+"_Pin"+t[r],t[r],!1);x=null,T=[],M=[],I=[],C=null,m=null,u=null,N=null,null,b=null,C=null,h=null,U=null,p=null}}function gi(e,i,n,t){var r,l,o,s,a,d,c,f,g,_,u,N,O,p,h,x=$("#moduleTree"),T=[],M=[];function I(e,i){if(_=$(i).attr("id"),"red"===$("#"+_+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+_+" >a").css("color")||p)$("#"+_).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");else{for(p=!0,(O=[])[0]=parseInt(_.sliceAfterX("Pin"),10),""!==P&&(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==O[0].toString()&&"removed"!==f&&"end"!==f&&(P+=we[parseInt(f,10)-1]+":"+f+"/end;"),P+=_.restorePinTreeNodeName()+":"+O[0],o=0,s=T.length;o<s;o+=1)if(0===T[o].indexOf(_.restorePinTreeNodeName()+"_Pin")){P+="/"+T[o].sliceAfterX("Pin"),T.splice(o,1);break}P+=";",ui(_,N,O),$("#"+_).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+_+" >a").css("color","blue")}}function C(e,i){if(_=$(i).attr("id"),c=parseInt(_.sliceAfterX("Pin"),10),-1===$.inArray(c,n)&&(h=_i(_,n,0,T)),h)return!1}for(r=0,l=n.length;r<l;r+=1)if(c=n[r],-1!==$.inArray(c.toString(),t)){if(g=(g=we[c-1]+"_Pin"+c).replaceSpecialCharacters(),x.jstree("uncheck_node",$("#"+g)),T.push(g),!$("#"+g).hasClass("jstree-unchecked")){if(N=Ri(g.slicePriorToX("_")),(O=[])[0]=c,Oi(g,N,O),void 0!==He[N]){for(o=0,s=He[N].length;o<s;o+=1)if(He[N][o]===g){He[N][o]="";break}for(o=0,s=He[N].length;o<s&&""===He[N][o];o+=1)o===s-1&&$("#"+N+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}x.jstree("close_node",$("#"+N+"_Root"))}-1!==$.inArray(g,Se)&&M.push(g.restorePinTreeNodeName()+"_Intermediate")}if(1===n.length&&-1!==e.indexOf("_Pin"))x.jstree("check_node",$("#"+e));else for(r=0,l=n.length;r<l;r+=1)for(o=0,s=je[i].length;o<s;o+=1)je[i][o]===n[r]&&(u=Xe[i][o].replaceSpecialCharacters(),x.jstree("check_node",$("#"+u+"_Pin"+n[r])));if(M.length>0){for(r=0,l=M.length;r<l;r+=1){if(p=!1,N=Ri(M[r].slicePriorToX("_")),$("#"+M[r]).find("li").length>0)$("#"+M[r]).find("li").each(I);else for(_=M[r].restorePinTreeNodeName(),o=0,s=Se.length;o<s;o+=1)if(0===Se[o].indexOf(_+"_Pin")){for(c=Se[o].sliceAfterX("_Pin"),h=!1,a=0,d=ye.length;a<d;a+=1)if(ye[a].slicePriorToX(":")===c){h=!0;break}if(!h){for(p=!0,_=Se[o],(O=[])[0]=parseInt(_.sliceAfterX("Pin"),10),""!==P&&(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==O[0].toString()&&"removed"!==f&&"end"!==f&&(P+=we[parseInt(f,10)-1]+":"+f+"/end;"),P+=_.restorePinTreeNodeName()+":"+O[0],o=0,s=T.length;o<s;o+=1)if(0===T[o].indexOf(_.restorePinTreeNodeName()+"_Pin")){P+="/"+T[o].sliceAfterX("Pin"),T.splice(o,1);break}for(P+=";",ui(_,N,O),a=0,d=We.length;a<d;a+=1)if(0===We[a].indexOf(_.restorePinTreeNodeName()+"_Pin")){We.splice(a,1);break}We.push(_),void 0===He[N]?(He[N]=[],He[N][0]=_):He[N].push(_);break}}if(p)$("#"+N+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+M[r]).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");else{if(h=!1,$("#"+M[r]).find("li").length>0)$("#"+M[r]).find("li").each(C);else for(_=M[r].restorePinTreeNodeName(),o=0,s=Se.length;o<s&&(0!==Se[o].indexOf(_+"_Pin")||(c=parseInt(Se[o].sliceAfterX("_Pin"),10),-1===$.inArray(c,n)&&(h=_i(Se[o],n,0,T)),!h));o+=1);h||$("#"+M[r]).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}}for(Vi(),""!==P&&"removed"!==(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))&&"end"!==f&&(P+=we[parseInt(f,10)-1]+":"+f+"/end;"),o=0,s=T.length;o<s;o+=1)P+=T[o].restorePinTreeNodeName().restoreSpecialCharacters()+":"+T[o].sliceAfterX("_Pin")+"/removed;";""===P||S||bn(P)}else{for(""!==P&&"removed"!==(f=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))&&"end"!==f&&(P+=we[parseInt(f,10)-1]+":"+f+"/end;"),o=0,s=T.length;o<s;o+=1)P+=T[o].restorePinTreeNodeName().restoreSpecialCharacters()+":"+T[o].sliceAfterX("_Pin")+"/removed;";""===P||S||bn(P)}S&&(""!==P&&!L&&window.console&&window.console.log(P),function(){var e,i,n,t,r,l=[],o=we.slice().sort(),s=[],a=[],d=[],c="";for(e=0,i=o.length;e<i;e++)""!==o[e]&&o[e]===o[e+1]&&l.push("Pin"+e+":"+o[e]);if(l.length>0)ue+="Failed: duplicate name occurs. "+l,!L&&window.console&&window.console.log("Failed: duplicate name occurs. "+l);else{for(!L&&window.console&&window.console.log("Duplicate function test passed."),e=0,i=(s=Qi(Ge).sort()).length;e<i;e++)a.push((s[e]+":0x"+zi(Ge[s[e]]).toUpperCase()).trim()),d.push((s[e]+":0x"+zi(Ke[s[e]]).toUpperCase()).trim());for(r=!0,e=0,i=we.length-1;e<i;e++)""!==(n=we[e])&&(nt(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],n,a)||(r=!1,t="Failed: Pin"+(e+1)+" / "+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+" / "+n+" / "+a+" / Undo: "+d,ue+=t,c+=t));r?!L&&window.console&&window.console.log("MFP register-function verification test passed."):!L&&window.console&&window.console.log(c)}$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerText",ue)}()),r=null,l=null,o=null,s=null,a=null,d=null,c=null,f=null,e=null,g=null,_=null,u=null,x=null,N=null,O=[],T=[],M=[],p=null,h=null}function _i(e,i,n,t){var r,l,o,s,a,d,c,f,g,_,u,N,O,p,h,x=[],T=[];$("#moduleTree");function M(i,n){(O=$(n).attr("id"))!==e&&$("#"+O).hasClass("jstree-checked")&&(h=!0,""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+O.sliceAfterX("Pin")+";"),O!==e&&$("#"+O).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}if(f=parseInt(e.sliceAfterX("Pin"),10),N=we[f-1].replaceSpecialCharacters(),-1===$.inArray(N+"_Pin"+f,Se)||-1!==$.inArray(f,i)||n>=10)return!1;if(i.push(f),n+=1,p=!1,h=!1,T=[],_=Ri(N.slicePriorToX("_")),u=N+"_Intermediate",$("#"+u).find("li").length>0)$("#"+u).find("li").each((function(e,i){O=$(i).attr("id"),"red"===$("#"+O+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+O+" >a").css("color")||O.sliceAfterX("_Pin")===f.toString()||p?O.sliceAfterX("_Pin")!==f.toString()&&(T.push(O),$("#"+O).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")):(p=!0,(x=[])[0]=parseInt(O.sliceAfterX("Pin"),10),""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=O.restorePinTreeNodeName()+":"+x[0]+"/"+f+";",ui(O,_,x),$("#"+O).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+O+" >a").css("color","blue"))}));else for(r=0,l=Se.length;r<l;r+=1)if(0===Se[r].indexOf(N+"_Pin")){if((c=(O=Se[r]).sliceAfterX("_Pin"))===f.toString())h=!0;else for(h=!1,a=0,d=ye.length;a<d;a+=1)if(ye[a].slicePriorToX(":")===c){h=!0;break}if(!h&&!p){for(p=!0,(x=[])[0]=parseInt(O.sliceAfterX("Pin"),10),""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=O.restorePinTreeNodeName()+":"+x[0]+"/"+f+";",ui(O,_,x),a=0,d=We.length;a<d;a+=1)if(0===We[a].indexOf(O.restorePinTreeNodeName()+"_Pin")){We.splice(a,1);break}if(We.push(O),void 0===He[_]?(He[_]=[],He[_][0]=O):He[_].push(O),void 0!==He[_]){for(o=0,s=He[_].length;o<s;o+=1)if(He[_][o]===N+"_Pin"+f){He[_][o]="";break}for(o=0,s=He[_].length;o<s&&""===He[_][o];o+=1)o===s-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}break}O.sliceAfterX("_Pin")!==f.toString()&&T.push(O)}if(p){if($("#"+N+"_Pin"+f).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),(x=[])[0]=parseInt(e.sliceAfterX("Pin"),10),_=Ri(e.slicePriorToX("_")),$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length>0)$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").each((function(i,n){(O=$(n).attr("id"))===e||!$("#"+O).hasClass("jstree-checked")&&-1===$.inArray(O,t)||(""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+O.sliceAfterX("Pin")+";"),O!==e&&$("#"+O).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}));else for(o=0,s=Se.length;o<s;o+=1)if(0===Se[o].indexOf(e.restorePinTreeNodeName()+"_Pin")&&(O=Se[o])!==e&&(O.restorePinTreeNodeName()===we[parseInt(O.sliceAfterX("Pin"),10)-1]||-1!==$.inArray(O,t))){""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+O.sliceAfterX("Pin")+";";break}for(o=0,s=t.length;o<s;o+=1)if(0===t[o].indexOf(e.restorePinTreeNodeName()+"_Pin")){t.splice(o,1);break}if(ui(e,_,x),$("#"+_+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+e+" >a").css("color","blue"),0===$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length){for(a=0,d=We.length;a<d;a+=1)if(0===We[a].indexOf(e.restorePinTreeNodeName()+"_Pin")){We.splice(a,1);break}if(We.push(e),void 0===He[_]?(He[_]=[],He[_][0]=e):He[_].push(e),void 0!==He[_]){for(o=0,s=He[_].length;o<s;o+=1)if(He[_][o]===O){He[_][o]="";break}for(o=0,s=He[_].length;o<s&&""===He[_][o];o+=1)o===s-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}return!0}if(T.length>0){for(r=0;r<T.length;r+=1)if(h=_i(T[r],i,n,t)){if((x=[])[0]=parseInt(e.sliceAfterX("Pin"),10),_=Ri(e.slicePriorToX("_")),h=!1,$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length>0)$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").each(M);else for(o=0,s=Se.length;o<s;o+=1)if(0===Se[o].indexOf(e.restorePinTreeNodeName()+"_Pin")&&(O=Se[o])!==e&&O.restorePinTreeNodeName()===we[parseInt(O.sliceAfterX("Pin"),10)-1]){h=!0,""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0]+"/"+O.sliceAfterX("Pin")+";";break}if(h){for(o=0,s=t.length;o<s;o+=1)if(0===t[o].indexOf(e.restorePinTreeNodeName()+"_Pin")){t.splice(o,1);break}}else{for(""!==P&&(g=P.slice(P.lastIndexOf("/")+1).slicePriorToX(";"))!==x[0].toString()&&"removed"!==g&&"end"!==g&&(P+=we[parseInt(g,10)-1]+":"+g+"/end;"),P+=e.restorePinTreeNodeName()+":"+x[0],o=0,s=t.length;o<s;o+=1)if(0===t[o].indexOf(e.restorePinTreeNodeName()+"_Pin")){P+="/"+t[o].sliceAfterX("Pin"),O=t[o],t.splice(o,1);break}P+=";"}if(ui(e,_,x),$("#"+_+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e.restorePinTreeNodeName()+"_Intermediate").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+e).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),$("#"+e+" >a").css("color","blue"),0===$("#"+e.restorePinTreeNodeName()+"_Intermediate").find("li").length){for(a=0,d=We.length;a<d;a+=1)if(0===We[a].indexOf(e.restorePinTreeNodeName()+"_Pin")){We.splice(a,1);break}if(We.push(e),void 0===He[_]?(He[_]=[],He[_][0]=e):He[_].push(e),void 0!==He[_]){for(o=0,s=He[_].length;o<s;o+=1)if(He[_][o]===O){He[_][o]="";break}for(o=0,s=He[_].length;o<s&&""===He[_][o];o+=1)o===s-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}return!0}return!1}r=null,l=null,o=null,s=null,a=null,d=null,c=null,f=null,g=null,_=null,u=null,x=[],T=[],N=null,O=null,p=null,h=null}function ui(e,i,n){var t,r,l,o,s,a,d=n.length;$("#moduleTree");if(0!==Ye.length)for(l=0,o=Ye.length;l<o;l+=1)Ye[l]===n[t]&&Ye.splice(l,1);if(1===n.length&&-1!==e.indexOf("_Pin"))pi(n[0]-1,e.restorePinTreeNodeName(),!1);else for(t=0,r=n.length;t<r;t+=1)a=Xe[i][t],pi(n[t]-1,a,!1);for(t=0;t<d;t+=1){for(s=!1,l=0,o=ye.length;l<o;l+=1)if(n[t]===parseInt(ye[l].slicePriorToX(":"),10)){ye[l]=n[t]+":"+i,s=!0;break}s||ye.push(n[t]+":"+i),1!==n.length?hn(n[t]-1,i):-1!==e.indexOf("_Pin")?hn(n[t]-1,e.restorePinTreeNodeName(),!0):hn(n[t]-1,e,!0),en(n[t],Ce),De[n[t]-1]=i}if(1===n.length&&-1!==e.indexOf("_Pin"))hi(e,n[0],!0),S&&(_e+=1,!L&&window.console&&window.console.log(_e+". "+e));else{for(t=0,r=n.length;t<r;t+=1)hi((a=Xe[i][t])+"_Pin"+n[t],n[t],!0);S&&(_e+=1,!L&&window.console&&window.console.log(_e+". "+i))}a=null,d=n.length=null,s=null,t=null,r=null,l=null,o=null,d=n.length}function Ni(e){var i,n,t,r,l,o,s,a,d=$("#moduleTree"),c=[],f=[];function g(e,i){if(o=$(i).attr("id"),we[parseInt(o.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===o.restorePinTreeNodeName())return s=!0,a=!0,!1}function _(e,i){o=$(i).attr("id"),"red"===$("#"+o+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+o+" >a").css("color")||a||(r=o.restorePinTreeNodeName()+"_Intermediate",(c=[])[0]=parseInt(o.sliceAfterX("Pin"),10),ui(o,t,c),s=!0,a=!0),we[parseInt(o.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===o.restorePinTreeNodeName()?$("#"+o).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"):$("#"+o).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}for(s=!1,a=!1,f=[],t=Ri(e.slicePriorToX("_")),$("#"+e).find("li").each((function(e,i){-1!==(l=$(i).attr("id")).indexOf("_Pin")&&-1===$.inArray(l.restorePinTreeNodeName()+"_Intermediate",f)?("red"===$("#"+l+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+l+" >a").css("color")||a||(-1===$.inArray(l,Se)?((c=[])[0]=parseInt(l.sliceAfterX("Pin"),10),ui(l,t,c),s=!0):(s=!1,r=l.restorePinTreeNodeName()+"_Intermediate",d.jstree("open_node",$("#"+r)),$("#"+r).find("li").each((function(e,i){if(o=$(i).attr("id"),we[parseInt(o.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===o.restorePinTreeNodeName())return s=!0,!1})),s||((c=[])[0]=parseInt(l.sliceAfterX("Pin"),10),ui(l,t,c)),s=!0,a=!0)),we[parseInt(l.sliceAfterX("_Pin"),10)-1].replaceSpecialCharacters()===l.restorePinTreeNodeName()?$("#"+l).removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"):$("#"+l).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")):-1!==l.indexOf("_Intermediate")&&f.push(l)})),i=0,n=f.length;i<n;i+=1)a=!1,d.jstree("open_node",$("#"+f[i])),$("#"+f[i]).find("li").each(g),$("#"+f[i]).find("li").each(_),a?$("#"+f[i]).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"):$("#"+f[i]).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");s?($("#"+e).removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),$("#"+t+"_Root").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined")):$("#"+e).removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),Vi(),i=null,n=null,d=null,t=null,c=[],r=null,l=null,o=null,f=[],s=null,a=null}function Oi(e,i,n){var t,r,l,o,s,a=n.length;for(t=0;t<a;t+=1)if(-1!==(s=$.inArray(n[t]+":"+i,ye))&&(ye.splice(s,1),hn(n[t]-1,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][n[t]-1]),De[n[t]-1]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][n[t]-1],0!==Ye.length))for(r=0,o=Ye.length;r<o;r+=1)Ye[r]===n[t]&&Ye.splice(r,1);for(t=0,l=n.length;t<l;t+=1)i!==De[n[t]-1]&&(pi(n[t]-1,"",!0),hi(e+"_Pin"+n[t],n[t],!1)),en(n[t],"#FFFFFF");t=null,l=null,r=null,o=null,a=null}function pi(e,i,n){var t,r,l,s,a,d,c=4;if(s=-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?ge.getContext($("#pin_side_0")[0]):ge.getContext($("#NUC_PinConfiguration_Canvas")[0]),n||-1===i.indexOf("_dot")&&2!==i.indexOf(".")||-1!==$.inArray(e,Fe)||(void 0===Fe?Fe[0]=e:Fe.push(e)),n&&0!==Fe.length)for(t=0,r=Fe.length;t<r;t+=1)Fe[t]===e&&Fe.splice(t,1);i=i.restorePinTreeNodeName().restoreSpecialCharacters(),n?we[e]="":(we[e]=i,L||S||$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerText",i)),i=tn(i),s.font=B,-1!==o.indexOf("SOP")?(l=e-Math.floor(e/v*2)*v/2,e<=v/2-1?(a=ce-H-J,d=fe+Z+l*(K+z)+4*K/5,s.save(),s.fillStyle="#FFFFFF",s.fillRect(a-te/2+1,d-4*K/5-c/2-1,te/2,K+c),s.fillStyle="#000000",n&&Je&&s.fillText(ve[e],a-s.measureText(ve[e]).width,d),n||s.fillText(i,a-s.measureText(i).width,d),s.restore()):(a=ce+de/2+H+J,d=fe+de-Z-K-l*(K+z)+4*K/5,s.fillStyle="#FFFFFF",s.fillRect(a,d-4*K/5-c/2-1,te/2,K+c),s.fillStyle="#000000",n&&Je&&s.fillText(ve[e],a,d),n||s.fillText(i,a,d))):-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?(a=Z+W+Math.floor(e/X)*(2*W+z),d=Z+W+(X-1-e%X)*(2*W+z),s.beginPath(),s.arc(a,d,W,0,2*Math.PI,!0),s.fillStyle="#FFFFFF",s.fill(),s.fillStyle="#000000",""===i&&(i=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]),i.length>6&&(i=i.slice(0,6)+".."),s.fillText(i,a-s.measureText(i).width/2,d+parseInt(s.font,10)/2)):e<y?(l=e+Math.floor((E-y)/2),a=ce+Z+l*(K+z),d=fe+de+H,s.save(),s.translate(a,d),s.rotate(-Math.PI/2),s.textAlign="end",s.fillStyle="#FFFFFF",s.fillRect(-re/2-q,-c/2-1,re/2,K+c),s.fillStyle="#000000",n&&Je&&s.fillText(ve[e],-q,4*K/5),n||s.fillText(i,-q,4*K/5),s.restore()):e>=y&&e<y+D?(l=e-y+Math.floor((E-D)/2),a=ce+de+H+J,d=fe+de-Z-K-l*(K+z)+4*K/5,s.fillStyle="#FFFFFF",s.fillRect(a,d-4*K/5-c/2-1,te/2,K+c),s.fillStyle="#000000",n&&Je&&s.fillText(ve[e],a,d),n||s.fillText(i,a,d)):e>=y+D&&e<y+D+w?(l=e-y-D+Math.floor((E-w)/2),a=ce+de-Z-K-l*(K+z),d=fe-H,s.save(),s.translate(a,d),s.rotate(-Math.PI/2),s.fillStyle="#FFFFFF",s.fillRect(2*J-2*Y,-c/2-1,re/2,K+c),s.fillStyle="#000000",n&&Je&&s.fillText(ve[e],2*J,3*K/4),n||s.fillText(i,2*J,3*K/4),s.restore()):e>=y+D+w&&e<v&&(l=e-y-D-w+Math.floor((E-F)/2),a=ce-H-J,d=fe+Z+l*(K+z)+4*K/5,s.save(),s.fillStyle="#FFFFFF",s.fillRect(a-te/2+1,d-4*K/5-c/2-1,te/2,K+c),s.fillStyle="#000000",n&&Je&&s.fillText(ve[e],a-s.measureText(ve[e]).width,d),n||s.fillText(i,a-s.measureText(i).width,d),s.restore()),l=null,s=null,a=null,d=null,c=null,t=null,r=null}function hi(e,i,n){var t,r,l,o,s,a,d,c=ve[i-1],f=[],g=[];function _(e,i){if("red"===$("#"+$(i).attr("id")+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+$(i).attr("id")+" >a").css("color"))return $("#"+f[t]+" >a").css("color","red"),!1}function u(e,i){if("red"===$("#"+$(i).attr("id")+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+$(i).attr("id")+" >a").css("color"))return $("#"+g[t]+" >a").css("color","red"),!1}if(n)for(;""!==c;)-1!==c.indexOf("/")?(s=c.slicePriorToX("/")+"_Pin"+i,a=c.slicePriorToX("/")+"_Intermediate"):(s=c+"_Pin"+i,a=c+"_Intermediate"),s=s.replaceSpecialCharacters(),a=a.replaceSpecialCharacters(),e=e.replaceSpecialCharacters(),s.restorePinTreeNodeName()!==e.restorePinTreeNodeName()?"red"===$("#"+s+" >a").css("color")&&"rgb(255, 0, 0)"===$("#"+s+" >a").css("color")||($("#"+s+" >a").css("color","red"),$("#"+a+" >a").css("color","red"),-1!==s.indexOf("_")&&$("#"+Ri(s.slicePriorToX("_"))+"_Root >a").css("color","red")):"black"===$("#"+s+" >a").css("color")&&"rgb(0, 0, 0)"===$("#"+s+" >a").css("color")||($("#"+s+" >a").css("color","black"),$("#"+a+" >a").css("color","black"),-1===$.inArray(a,f)&&f.push(a),-1!==s.indexOf("_")&&(d=Ri(s.slicePriorToX("_"))+"_Root",0===$("#"+d).find("li").length&&"red"===$("#"+d+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+d+" >a").css("color")||($("#"+d+" >a").css("color","black"),-1===$.inArray(d,g)&&g.push(d)))),c=-1!==c.indexOf("/")?c.sliceAfterX("/"):"";else for(;""!==c;){if(-1!==c.indexOf("/")?(s=c.slicePriorToX("/")+"_Pin"+i,a=c.slicePriorToX("/")+"_Intermediate"):(s=c+"_Pin"+i,a=c+"_Intermediate"),s=s.replaceSpecialCharacters(),a=a.replaceSpecialCharacters(),s.restorePinTreeNodeName()===we[i-1].replaceSpecialCharacters()||""===we[i-1]){if(("black"!==$("#"+s+" >a").css("color")||"rgb(0, 0, 0)"!==$("#"+s+" >a").css("color"))&&($("#"+s+" >a").css("color","black"),$("#"+a+" >a").css("color","black"),-1===$.inArray(a,f)&&f.push(a),-1!==s.indexOf("_")&&(d=Ri(s.slicePriorToX("_"))+"_Root","red"===$("#"+d+" >a").css("color")||"rgb(255, 0, 0)"===$("#"+d+" >a").css("color"))))if($("#"+d+" >a").css("color","black"),0!==$("#"+d).find("li").length)-1===$.inArray(d,g)&&g.push(d);else for(d=d.restorePinTreeNodeName(),t=0,l=je[d].length;t<l;t+=1)for(r=0,o=ye.length;r<o;r+=1)if(je[d][t]===parseInt(ye[r].slicePriorToX(":"),10)&&d!==ye[r].sliceAfterX(":")){$("#"+d+"_Root >a").css("color","red");break}}else"red"===$("#"+s+" >a").css("color")&&"rgb(255, 0, 0)"===$("#"+s+" >a").css("color")||($("#"+s+" >a").css("color","red"),$("#"+a+" >a").css("color","red"),-1!==s.indexOf("_")&&$("#"+Ri(s.slicePriorToX("_"))+"_Root >a").css("color","red"));c=-1!==c.indexOf("/")?c.sliceAfterX("/"):""}for(t=0,l=f.length;t<l;t+=1)$("#"+f[t]).find("li").each(_);for(t=0,l=g.length;t<l;t+=1)$("#"+g[t]).find("li").each(u);c=null,s=null,a=null,d=null,t=null,r=null,l=null,o=null}function xi(e){var i,n,t,r,l,o,s,a,d,c=$("#moduleTree"),f=$("#searchInput_Pin"),g=e,_=[],u=[],N=[];function O(e,i){return e-i}if(/^\d+$/.test(e)||e.length<2||e.length>15||0===e.toLowerCase().indexOf("pin:")&&4===e.length)return c.jstree("close_all"),c.jstree("clear_search"),void(""!==e?(Ui(),e.length<2?Mi("最小输入字元为两个。请更换至更合适的搜寻。","最小輸入字元為兩個。請更換至更合適的搜尋。","The minimum inputting characters are two. Please change to a proper search."):Mi("预期的搜寻将花费很多时间。请更换至更合适的搜寻。","預期的搜尋將花費很多時間。請更換至更合適的搜尋。","The expected search will take much time. Please change to a proper search."),f.val("")):f.val(""));try{if(-1!==e.toLowerCase().indexOf("pin:")){if(-1!==(e=e.slice(e.toLowerCase().indexOf("pin:")+4)).indexOf(")")&&(e=e.slicePriorToX(")")),parseInt(e,10)>v)return;for(a=ve[parseInt(e,10)-1],N=[],i=0,n=a.length;i<n;i+=1)"/"===a[i]&&N.push(i);if(0===N.length)-1!==(s=Ri(s=a)).indexOf("_")&&(s=s.slicePriorToX("_")),-1===$.inArray(s,_)&&_.push(s);else for(i=0,n=N.length+1;i<n;i+=1)-1!==(s=Ri(s=0===i?a.slice(0,N[0]):i===n-1?a.slice(N[n-2]+1):a.slice(N[i-1]+1,N[i]))).indexOf("_")&&(s=s.slicePriorToX("_")),-1===$.inArray(s,_)&&_.push(s)}else for(i=0;i<v;i+=1)if(-1!==(a=ve[i]).toLowerCase().indexOf(e.toLowerCase())){for(u=[],t=0,r=a.length;t<r;t+=1)0===a.slice(t).toLowerCase().indexOf(e.toLowerCase())&&u.push(t);for(N=[],t=0,r=a.length;t<r;t+=1)"/"===a[t]&&N.push(t);for(t=0,r=u.length;t<r;t+=1)if(0===N.length)s=a;else{for(N.push(u[t]),N.sort(O),l=0,o=N.length;l<o;l+=1)if(N[l]===u[t]){d=l;break}s=0===d?a.slice(0,N[1]):d===N.length-1?a.slice(N[N.length-2]+1):a.slice(N[d-1]+1,N[d+1]),N.splice(d,1),-1!==(s=Ri(s)).indexOf("_")&&(s=s.slicePriorToX("_")),-1===$.inArray(s,_)&&_.push(s)}}for(i=0,n=_.length;i<n;i+=1)c.jstree("open_node",$("#"+_[i]+"_Root"));c.jstree("close_all"),c.jstree("search",g)}catch(e){}i=null,n=null,t=null,r=null,g=null,c=null,f=null,s=null,_=[],a=null,d=null,u=[],N=[]}function Pi(){$("#ChipType").hide(),$("#MCU").hide(),$("#panel").css("overflow","hidden"),$("#ChipType").css("border","white"),$("#MCU").css("border","white")}function Ti(){$(document).mousedown((function(e){var i=((e=e||window.event).target||e.srcElement).id;return"panel"!==i&&"NUC_PinConfiguration_Canvas"!==i&&"NUC_PinConfiguration_Canvas_Lining"!==i&&("ChipTypeSelect"===i&&Un((function(){$("#ChipTypeSelect").focus()})),"MCUselect"===i&&Un((function(){$("#MCUselect").focus()})),"searchInput_Pin"===i&&$("#searchInput_Pin").val(""),i=0,this)}))}function Mi(e,i,n){Ui(),"Simplified Chinese"===Ne?window.alert(e):"Traditional Chinese"===Ne?window.alert(i):window.alert(n)}function Ii(){var e=!0;return function(){var e,i,n,t,r,a,d,c,f=!1,g="",_="",u=!1,N=[],O=[];if(!A)for(e=0,i=Qe.length;e<i;e+=1)-1!==qe.indexOf(Qe[e])&&(Qe.splice(e,1),e--);if(s="",t=n=NUTOOL_PIN.g_readConfigFileContentText,!n||/^\s*$/.test(n))return s=n,"undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default||void 0===NUTOOL_PIN.g_partNumber_package_default||""===NUTOOL_PIN.g_partNumber_package_default?(void 0!==l&&"NUC400"!==l&&Nn(g="NUC_"+l+"_Content.js",_="NUC_NUC400_Content.js","js"),o="NUC472VI8AE(LQFP100)",l="NUC400"):(void 0===l?Nn(g="NUC_NUC400_Content.js",_="NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js","js"):void 0!==l&&l!==NUTOOL_PIN.g_chipType_default&&Nn(g="NUC_"+l+"_Content.js",_="NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js","js"),o=NUTOOL_PIN.g_partNumber_package_default,l=NUTOOL_PIN.g_chipType_default):(void 0!==l&&"M251"!==l&&Nn(g="NUC_"+l+"_Content.js",_="NUC_M251_Content.js","js"),o="M251EB2AE(TSSOP28)",l="M251"),f;for(;-1!==n.indexOf("\r")&&n.indexOf("\r")<n.indexOf("MCU:");)n=n.sliceAfterX("\r");r=n.sliceBetweenXandX("MCU:","\r");if(r=r.trim(),a=wi(r),-1===$.inArray(Gi(a),Qe))return Mi("从配置档读出的芯片型号 "+a+" 不正确。","從配置檔讀出的晶片型號 "+a+" 不正確。","The chip type of "+a+" read from the config file is incorrect."),n=null,r=null,a=null,f=null;void 0!==l?Nn(g="NUC_"+l+"_Content.js",_="NUC_"+a+"_Content.js","js"):void 0===l&&Nn(g="undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default?"NUC_NUC400_Content.js":"NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js":"NUC_M251_Content.js",_="NUC_"+a+"_Content.js","js");for(e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===r){f=!0;break}if(f){for(void 0!==o?c=o:"undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default||void 0===NUTOOL_PIN.g_partNumber_package_default||""===NUTOOL_PIN.g_partNumber_package_default?(c="NUC472VI8AE(LQFP100)",l="NUC400"):(c=NUTOOL_PIN.g_partNumber_package_default,l=NUTOOL_PIN.g_chipType_default):(c="M251EB2AE(TSSOP28)",l="M251"),o=r,NUTOOL_PIN.decidepackageNumber(),e=0,i=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;e<i;e+=1)$i(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])&&N.push(d);if("M451HD"===a||"M451LD"===a||"M4521"===a||"NUC121AE"===a||"M0564"===a||"M05641"===a||0===a.indexOf("NUC126")||"M071QV"===a||"NUC029xGE"===a||"NUC029KGE"===a||"NUC400"===a||0===a.indexOf("M47")||"M433"===a||"M480MD"===a||"M480LD"===a||"AX58200"===a||0===a.indexOf("M25")||"NDA102"===a||"M261"===a||0===a.indexOf("M235")||0===a.indexOf("M029")||0===a.indexOf("M030")||0===a.indexOf("M031")||0===a.indexOf("M091")||"NANO103"===a||"NUC505"===a||"NUC123AE"===a||"MA35D0"===a||"MA35D1"===a||"MA35H0"===a||0===a.indexOf("M2003")||0===a.indexOf("N9H30")||0===a.indexOf("N9H31")||0===a.indexOf("NUC97")||0===a.indexOf("NUC98")||0===a.indexOf("M2A23"))for(e=0,i=N.length;e<i;e+=1)d=parseInt(N[e].sliceAfterX("."),10)<8?"G"+N[e].slicePriorToX(".")+"_MFPL":"G"+N[e].slicePriorToX(".")+"_MFPH",-1===$.inArray(d,O)&&O.push(d);else if("M0A21"===a||0===a.indexOf("M46")||0===a.indexOf("M2L31")||0===a.indexOf("M55M1"))for(e=0,i=N.length;e<i;e+=1)d="G"+N[e].slicePriorToX(".")+"_MFP"+Math.floor(parseInt(N[e].sliceAfterX("."),10)/4),-1===$.inArray(d,O)&&O.push(d);else if("NANO100AN"===a||"NANO100BN"===a||"NANO112"===a)for(e=0,i=N.length;e<i;e+=1)d=parseInt(N[e].sliceAfterX("."),10)<8?N[e].slicePriorToX(".")+"_L_MFP":N[e].slicePriorToX(".")+"_H_MFP",-1===$.inArray(d,O)&&O.push(d);else if("NM1500"===a||"M0519"===a||"M051DN_DE"===a||"M051BN"===a||"M051AN"===a||"M058S"===a||"MINI51AN"===a||"MINI51DE"===a||"MINI55"===a||"MINI58"===a||"NUC029AE"===a||"NUC029TAE"===a||"NUC029AN"===a||"NM1200"===a)for(e=0,i=N.length;e<i;e+=1)d=N[e].slicePriorToX(".")+"_MFP",-1===$.inArray(d,O)&&O.push(d);else if(0===a.indexOf("ML5")||0===a.indexOf("MS51")||0===a.indexOf("MG51")||0===a.indexOf("MUG51")||0===a.indexOf("N76S003")||0===a.indexOf("N76E003")||0===a.indexOf("CM1003"))for(e=0,i=N.length;e<i;e+=1)d=N[e].slicePriorToX(".")+"MF76543210",-1===$.inArray(d,O)&&O.push(d);else if(0===a.indexOf("KM1M7AF")||0===a.indexOf("KM1M7BF")||0===a.indexOf("KM1M0"))for(e=0,i=N.length;e<i;e+=1)d="IO"+N[e].slicePriorToX(".")+"MD",-1===$.inArray(d,O)&&O.push(d);else if(0===a.indexOf("KM1M4BF")){for(e=0,i=N.length;e<i;e+=1)d="IO"+N[e].slicePriorToX(".")+"MD",-1===$.inArray(d,O)&&O.push(d);0===l.indexOf("KM1M4BF5")&&O.push("SELSWD")}else if(0===a.indexOf("KM1M7CF")){for(e=0,i=N.length;e<i;e+=1)d="IO"+N[e].slicePriorToX(".")+"MD",-1===$.inArray(d,O)&&O.push(d);for(e=0;e<14;e+=1)e<10?O.push("FPSA0"+e+"_SEL"):O.push("FPSA"+e+"_SEL");for(e=0;e<12;e+=1)e<10?O.push("FPSB0"+e+"_SEL"):O.push("FPSB"+e+"_SEL")}else for(e=0,i=N.length;e<i;e+=1)d="G"+N[e].slicePriorToX(".")+"_MFP",-1===$.inArray(d,O)&&O.push(d);for(e=0,i=(N=["ALT_MFP","ALT_MFP1","ALT_MFP2","ALT_MFP3","ALT_MFP4","ALT_MFP5","ALT_MFP6","ALT_MFP7","ALT_MFP8","ALT_MFP9"]).length;e<i;e+=1)d=N[e],void 0!==NUTOOL_PIN.g_cfg_regDescriptions[d]&&-1===$.inArray(d,O)&&O.push(d);for("MINI55"!==a&&"NM1200"!==a||(O.push("ADCHER"),O.push("ADCR"),O.push("PIN_SEL")),e=0,i=O.length;e<i;e+=1)if(-1===n.indexOf(O[e])){d=O[e],u=!0,o=c;break}}f?u?(Mi("在配置档里找不到必需的MFP寄存器 "+d+"。","在配置檔裡找不到必需的MFP暫存器 "+d+"。","The prerequisite MFP register of "+d+" is missing in the config file."),""!==_&&""!==g&&Nn(_,g,"js"),f=!1):(s=t,o=r,l=a,$("#ChipTypeSelect").val(Gi(l)),function(e){var i,n,t,r,l,o,s=e,a="SYS->";if(""!==e&&void 0!==e){for(0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(a="GPIO_MD->"),Fe=[];-1!==e.indexOf("GPIOpin:");)t=(i=e.slice(e.indexOf("GPIOpin:"))).slice(i.indexOf("GPIOpin:")+8,i.indexOf("\r\n")),$i(o=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][parseInt(t,10)])&&(void 0===Fe?Fe[0]=parseInt(t,10):Fe.push(parseInt(t,10))),e=i.slice(1);for(Ve={};-1!==e.indexOf("UserDefined:");)o=(t=(n=e.slice(e.indexOf("UserDefined:"))).slice(n.indexOf("UserDefined:")+12,n.indexOf("\r\n"))).sliceAfterX("=>"),t=t.slicePriorToX("=>"),Ve[t]=o,e=n.slice(1);for(e=s;-1!==e.indexOf(a);)l=(r=e.sliceAfterX(a)).slice(r.indexOf(" = ")+3,r.indexOf("\r\n")),isNaN(parseInt(l.slice(2),16))?Mi("寄存器的值"+r.slicePriorToX("\r")+"存在一些错误，请更正它并重载配置档。","暫存器的值"+r.slicePriorToX("\r")+"存在一些錯誤，請更正它並重載配置檔。","The register value of "+r.slicePriorToX("\r")+" in the config file is incorrect.Please correct it and re-load the config file again."):Be[r.slicePriorToX(" = ")]=parseInt(l.slice(2),16),e=r.slice(1);for(e=s;-1!==e.indexOf("ALT_MFP");)l=(r=e.slice(e.indexOf("ALT_MFP"))).slice(r.indexOf(" = ")+3,r.indexOf("\r\n")),isNaN(parseInt(l.slice(2),16))?Mi("寄存器的值"+r.slicePriorToX("\r")+"存在一些错误，请更正它并重载配置档。","暫存器的值"+r.slicePriorToX("\r")+"存在一些錯誤，請更正它並重載配置檔。","The register value of "+r.slicePriorToX("\r")+" in the config file is incorrect.Please correct it and re-load the config file again."):Be[r.slicePriorToX(" = ")]=parseInt(l.slice(2),16),e=r.slice(1)}i=null,t=null,r=null,l=null,s=null,o=null}(s)):(Mi("从配置档读出的封装名称 "+r+" 不正确","從配置檔讀出的封裝名稱 "+r+" 不正確。","The package name "+r+" read from the config file is incorrect."),""!==_&&""!==g&&Nn(_,g,"js"),o="undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_partNumber_package_default||""===NUTOOL_PIN.g_partNumber_package_default?"NUC472VI8AE(LQFP100)":NUTOOL_PIN.g_partNumber_package_default:"M251EB2AE(TSSOP28)");NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&tt();return e=null,i=null,a=null,N=[],O=[],n=null,r=null,t=null,g=null,_=null,d=null,null,u=null,bMismatchedRedundant=null,c=null,f}()||(e=!1),NUTOOL_PIN.decidepackageNumber(),Ci(),e}function Ci(){return 33===(v=parseInt(NUTOOL_PIN.g_packageNumber.slice(NUTOOL_PIN.g_packageNumber.indexOf(NUTOOL_PIN.g_packageNumber.match(/\d/))),10))&&(v=32),-1!==NUTOOL_PIN.g_packageNumberIndex.toLowerCase().indexOf("pin:")?(y=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("D","R"),10),D=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("R","U"),10),w=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("U","L"),10),F=parseInt(NUTOOL_PIN.g_packageNumberIndex.sliceBetweenXandX("L",")"),10)):(y=v/4,D=v/4,w=v/4,F=v/4),E=Math.max(y,D,w,F),this}function mi(){return C=30,z=2,n=.95,I="\f",ge.getContext=function(e){return e.getContext("2d")},ge.removeContext=function(e){e.remove()},ge.addEvent=function(e,i,n){e.addEventListener(i,n,!1)},$("html").addClass("ie10+"),"undefined"==typeof NUTOOL_PER&&(Nn("","/tabulator/promise-polyfill.js","js"),Nn("","/tabulator/js/tabulator.js","js"),Nn("","/tabulator/css/tabulator.css","css")),!1}function Ui(){var e=localStorage.getItem("UIlanguage");Ne=void 0===e||null==e?"English":e,e=null}function bi(){var e=localStorage.getItem("DisplayTooltip");r=void 0===e||null==e||"No"!==e,e=null}function Li(){$(document).keypress((function(e){e.which}))}function ki(e){return!isNaN(parseFloat(e))&&isFinite(e)}function $i(e){return!(void 0===e||"P"!==e.slice(0,1)||"."!==e.slice(2,3)||!ki(e.sliceAfterX(".")))||(!(!NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode||void 0===e||"B"!==e.slice(0,1)||"P"!==e.slice(1,2)||!ki(e.sliceAfterX(".")))||("N9H30xxxIIM"===l||"N9H31KxxIFC"===l)&&void 0!==e&&-1!=e.indexOf("ADC"))}function Ai(e){return!!(NUTOOL_PIN.g_cfg_wppin&&NUTOOL_PIN.g_cfg_wppin[NUTOOL_PIN.g_packageNumberIndex]&&NUTOOL_PIN.g_cfg_wppin[NUTOOL_PIN.g_packageNumberIndex].includes(e))}function Si(e){return!!(NUTOOL_PIN.g_cfg_WPPin.length>0&&NUTOOL_PIN.g_cfg_WPPin.includes(e))}function vi(){var e,i,n,t,r,l,s,a,d,c,f,g,_,u,N,O=0,p=0,h=0,x=0;if(0===$("#NUC_PinConfiguration_Canvas").length&&$("#panel")[0].appendChild(Zi("canvas","NUC_PinConfiguration_Canvas")),s=$("#NUC_PinConfiguration_Canvas")[0],(a=ge.getContext(s)).font=B,N=a.measureText("012345678901234567890123456789").width,z=ii?0:2,Z=20,-1!==o.indexOf("SOP")){for(e=0,t=v/2;e<t;e+=1){for(f="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)f+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(f+="/");break}for(""===f&&(f=d),ve[e]=f,_="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+v/2])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,l=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<l;n+=1)_+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(_+="/");break}""===_&&(_=d),ve[e+v/2]=_,Je&&(a.measureText(f).width>O&&(O=a.measureText(f).width),a.measureText(_).width>h&&(h=a.measureText(_).width))}de=v/2*(K+z)-z+2*Z,Je?(O<N&&(O=N),h<N&&(h=N),x<N&&(x=N),p<N&&(p=N),ce=O+H+de/4,fe=130+H+de/4):(ce=N+H+Q,fe=130+H+Q)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(z=14,Z=24,j=X=Math.sqrt(v),e=0,t=v;e<t;e+=1){for(f="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)f+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(f+="/");break}""===f&&(f=d),ve[e]=f}de=Math.sqrt(v)*(2*W+z)-z+2*Z,ce=N+H+Q,fe=N+H+Q}else{for(e=0,t=y;e<t;e+=1){for(g="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)g+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(g+="/");break}""===g&&(g=d),ve[e]=g,Je&&a.measureText(g).width>p&&(p=a.measureText(g).width)}for(e=0,t=D;e<t;e+=1){for(_="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+y])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,l=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<l;n+=1)_+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(_+="/");break}""===_&&(_=d),ve[e+y]=_,Je&&a.measureText(_).width>h&&(h=a.measureText(_).width)}for(e=0,t=w;e<t;e+=1){for(u="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+y+D])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,l=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<l;n+=1)u+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(u+="/");break}""===u&&(u=d),ve[e+y+D]=u,Je&&a.measureText(u).width>x&&(x=a.measureText(u).width)}for(e=0,t=F;e<t;e+=1){for(f="",c=(d=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e+y+D+w])+":0",i=0,r=NUTOOL_PIN.g_cfg_gpios.length;i<r;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=NUTOOL_PIN.g_cfg_gpios[i].f.length-1;n>=0;n-=1)f+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),0!==n&&(f+="/");break}""===f&&(f=d),ve[e+y+D+w]=f,Je&&a.measureText(f).width>O&&(O=a.measureText(f).width)}de=E*(K+z)-z+2*Z,Je?(O<N&&(O=N),h<N&&(h=N),x<N&&(x=N),p<N&&(p=N),ce=O+H+de/4,fe=x+H+de/4):(ce=N+H+Q,fe=N+H+Q)}Je?(te=ce+de+h+H+de/4,re=fe+de+p+H+de/4):(te=ce+de+H+Q+N,re=fe+de+H+Q+N),le=screen.availWidth,oe=screen.availHeight,ae=oe-10,e=null,i=null,n=null,t=null,r=null,l=null,s=null,a=null,d=null,c=null,f=null,g=null,_=null,u=null,O=null,p=null,h=null,x=null,N=null}function yi(){var e,i;for(e=0,i=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;e<i;e+=1)De[e]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],we[e]="";e=null,i=null}function Di(){"NUC400"===l&&void 0!==Ge.GPG_MFPH?Xi("GPG_MFPH:0x00001100"):"M451HD"!==l&&"M451LD"!==l&&"M4521"!==l||void 0===Ge.GPF_MFPL?0!==l.indexOf("M47")&&"M433"!==l&&"M480MD"!==l&&"M480LD"!==l&&"AX58200"!==l&&"M251"!==l&&"M261"!==l&&"NDA102"!==l&&"M2351"!==l&&0!==l.indexOf("M029")&&0!==l.indexOf("M030")&&0!==l.indexOf("M031")&&0!==l.indexOf("M2003")||void 0===Ge.GPF_MFPL?"NUC121AE"===l&&void 0!==Ge.GPF_MFPL?Xi("GPF_MFPL:0x00110011"):"NANO100AN"!==l&&"NANO100BN"!==l||void 0===Ge.PF_L_MFP?"NANO112"===l&&void 0!==Ge.PF_L_MFP?Xi("PF_L_MFP:0x00FFFFFF"):"NUC123AE"===l&&void 0!==Ge.GPF_MFPL?Xi("GPF_MFPL:0x00001100"):"NANO103"===l&&void 0!==Ge.GPF_MFPL?Xi("GPF_MFPL:0x77777777"):"M051AN"!==l&&"M051BN"!==l&&"M051DN_DE"!==l&&"M058S"!==l&&"MINI51AN"!==l&&"MINI51DE"!==l&&"MINI55"!==l&&"MINI58"!==l&&"NUC029AE"!==l&&"NUC029TAE"!==l&&"NUC029AN"!==l&&"NM1200"!==l||void 0===Ge.P4_MFP?0===l.indexOf("KM1M4BF0")&&void 0!==Ge.IOPDMD?Xi("IOPDMD:0x00101000"):$("#moduleTree").jstree("check_node",$("#ICE_Root")):Xi("P4_MFP:0x000000C0"):Xi("PF_L_MFP:0x00007777"):Xi("GPF_MFPL:0x000000EE"):Xi("GPF_MFPL:0x01100000")}function wi(e){var i;return-1===e.indexOf("(")&&(e+="("),i=0===e.indexOf("NDA102")?"NDA102":0===e.indexOf("M05641")?"M05641":0===e.indexOf("M0564")?"M0564":0===e.indexOf("M4521")?"M4521":0===e.indexOf("M433")?"M433":0===e.indexOf("M45")||0===e.indexOf("M4TK")?"D"===(i=(i=(i=e).slicePriorToX("(")).slice(i.length-4,i.length-3))||"C"===i?"M451LD":"M451HD":0===e.indexOf("M466")?"M466":0===e.indexOf("M467")?"M460HD":0===e.indexOf("M46")?"M460LD":0===e.indexOf("M471")?"M471":0===e.indexOf("M479")?"M479":0===e.indexOf("M48")?-1!==e.indexOf("8AE")||-1!==e.indexOf("CAE")?"M480LD":"M480MD":0===e.indexOf("KM1M7AF")?"KM1M7AF":0===e.indexOf("KM1M7BF")?"KM1M7BF":0===e.indexOf("KM1M7CF")?"KM1M7CF":0===e.indexOf("KM1M4BF02")||0===e.indexOf("KM1M4BF03")||0===e.indexOf("KM1M4BF04")?"KM1M4BF0":0===e.indexOf("KM1M4BF05")?"KM1M4BF05":0===e.indexOf("KM1M4BF52")||0===e.indexOf("KM1M4BF53")||0===e.indexOf("KM1M4BF54")?"KM1M4BF5":0===e.indexOf("KM1M0DF02N")?"KM1M0D0F_100":0===e.indexOf("KM1M0DF03N")?"KM1M0D0F_80":0===e.indexOf("KM1M0DF13N")?"KM1M0D1F":0===e.indexOf("KM1M0DF04N")?"KM1M0D0F_64":0===e.indexOf("KM1M0GF")?"KM1M0GF":0===e.indexOf("M253")?"M253":0===e.indexOf("M251")||0===e.indexOf("M252")?"M251":0===e.indexOf("M256MD2AE")||0===e.indexOf("M254SD2AE")||0===e.indexOf("M254MD2AE")||0===e.indexOf("M256SD2AE")?"M256D":0===e.indexOf("M258SG6AE")||0===e.indexOf("M256QG6AE")||0===e.indexOf("M254AG6AE")||0===e.indexOf("M254KG6AE")||0===e.indexOf("M254SG6AE")||0===e.indexOf("M258QG6AE")||0===e.indexOf("M258KG6AE")?"M258G":0===e.indexOf("M254")||0===e.indexOf("M256")||0===e.indexOf("M258")?"M258":0===e.indexOf("M26")?"M261":0===e.indexOf("M2354")?"M2354":0===e.indexOf("M2351")?"M2351":0===e.indexOf("M0A2")?"M0A21":0===e.indexOf("M2L31")?"M2L31":0===e.indexOf("M2003")?"M2003":0===e.indexOf("M029G")?"M029G":0===e.indexOf("M030G")?"M030G":0===e.indexOf("M031GG")||0===e.indexOf("M031GT")?"M030G_31G":0===e.indexOf("M091")?"M091":0===e.indexOf("M030FD2AE")||0===e.indexOf("M030TD2AE")||0===e.indexOf("M030LD2AE")||0===e.indexOf("M032FC1AE")||0===e.indexOf("M032EC1AE")||0===e.indexOf("M032TC1AE")||0===e.indexOf("M032TD2AE")||0===e.indexOf("M032LC2AE")||0===e.indexOf("M032LD2AE")?"M031KM":0===e.indexOf("M031BT")?"M031BT":0===e.indexOf("M032BTAG8AN")||(0===e.indexOf("M031")||0===e.indexOf("M032"))&&"G"===e.charAt(5)?"M031G":0===e.indexOf("M032BTAIAAN")||(0===e.indexOf("M031")||0===e.indexOf("M032"))&&"I"===e.charAt(5)?"M031I":0===e.indexOf("M031")||0===e.indexOf("M032")?"M031":0===e.indexOf("M0518")?"M0518":0===e.indexOf("M071M")?"M071M":0===e.indexOf("M071Q")||0===e.indexOf("M071V")?"M071QV":0===e.indexOf("M071R1")||0===e.indexOf("M071S")?"M071R1S":0===e.indexOf("ML56")||0===e.indexOf("ML54")?"ML56":0===e.indexOf("ML51")?"D"===e.charAt(5)?"ML5156":"ML51":0!==e.indexOf("MS51")||-1===e.indexOf("C0AE(")&&-1===e.indexOf("C0BE(")&&-1===e.indexOf("B0AE(")?0!==e.indexOf("MS51")||-1===e.indexOf("B9AE(")&&-1===e.indexOf("B9BE(")?0===e.indexOf("MUG51")?"MUG51":0===e.indexOf("MS51IA9AE")?"MS51_8KDB":0===e.indexOf("MS51")&&-1!==e.indexOf("A9AE(")?"MS51_8K":0===e.indexOf("CM1003")?"CM1003":0!==e.indexOf("MG51")||-1===e.indexOf("B9AE(")&&-1===e.indexOf("C9AE(")?0!==e.indexOf("MG51")||-1===e.indexOf("C1AE(")&&-1===e.indexOf("D1AE(")?0===e.indexOf("N76S003")?"N76S003":0===e.indexOf("N76E003")?"N76E003":0===e.indexOf("M0519")?"M0519":0===e.indexOf("M0515LDE")?"M0515LDE":0!==e.indexOf("M05")||-1===e.indexOf("DN(")&&-1===e.indexOf("DE(")?0===e.indexOf("MHC54ZDN")||0===e.indexOf("PL054TDN")?"M051DN_DE":0===e.indexOf("M05")&&-1!==e.indexOf("BN(")||0===e.indexOf("E32")?"M051BN":0===e.indexOf("M058S")?"M058S":0===e.indexOf("M05")&&-1!==e.indexOf("AN(")?"M051AN":0===e.indexOf("MINI57")?"MINI57":0===e.indexOf("MINI58")?"MINI58":0===e.indexOf("MINI5")&&-1!==e.indexOf("AN(")?"MINI51AN":0===e.indexOf("MINI5")&&-1!==e.indexOf("AE(")||0===e.indexOf("MINI54XFHC")||0===e.indexOf("MINI55")||0===e.indexOf("NVS06AL")?"MINI55":0===e.indexOf("MINI5")&&-1!==e.indexOf("DE(")||0===e.indexOf("MINI54FHC")?"MINI51DE":0===e.indexOf("NUC2201")?"NUC2201":0===e.indexOf("NUC2")&&-1!==e.indexOf("AN(")?"NUC200AN":0===e.indexOf("NUC2")&&-1!==e.indexOf("AE(")?"NUC200AE":0===e.indexOf("NUC029MDE")?"NUC029MDE":0===e.indexOf("NUC029KGE")?"NUC029KGE":0===e.indexOf("NUC029LDE")||0===e.indexOf("NUC029SDE")?"NUC029xDE":0===e.indexOf("NUC029LGE")||0===e.indexOf("NUC029SGE")?"NUC029xGE":0===e.indexOf("NUC029LEE")||0===e.indexOf("NUC029SEE")?"NUC029xEE":0===e.indexOf("NUC029TAE")?"NUC029TAE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AE(")?"NUC029AE":0===e.indexOf("NUC029")&&-1!==e.indexOf("AN(")?"NUC029AN":0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO100")||-1===e.indexOf("AN(")?0!==e.indexOf("NANO100")&&0!==e.indexOf("NANO110")&&0!==e.indexOf("NANO120")&&0!==e.indexOf("NANO130")||-1===e.indexOf("BN(")?0===e.indexOf("NANO103")&&-1!==e.indexOf("AE(")?"NANO103":0===e.indexOf("NANO1")&&-1!==e.indexOf("AN(")?"NANO112":0===e.indexOf("NM112")?"NM1120":0===e.indexOf("NM11")||0===e.indexOf("NM12")?"NM1200":0===e.indexOf("NM15")?"NM1500":0===e.indexOf("NUC121")||0===e.indexOf("NUC125")?"NUC121AE":0===e.indexOf("NUC122")&&-1!==e.indexOf("AN(")?"NUC122AN":0!==e.indexOf("NUC123")||-1===e.indexOf("AN0(")&&-1===e.indexOf("AN1(")?0!==e.indexOf("NUC123")||-1===e.indexOf("AE0(")&&-1===e.indexOf("AE1(")?0!==e.indexOf("NUC1")||-1===e.indexOf("AN(")&&-1===e.indexOf("BN(")?0===e.indexOf("NUC1")&&-1!==e.indexOf("CN(")?"NUC100CN":0===e.indexOf("NUC1")&&-1!==e.indexOf("DN(")?"NUC100DN":0===e.indexOf("NUC1311")?"NUC1311":0===e.indexOf("NUC13")?"NUC131":0===e.indexOf("NUC1261")?"NUC1261":0===e.indexOf("NUC1262")?"NUC1262":0===e.indexOf("NUC1263")?"NUC1263":0===e.indexOf("NUC126")?"NUC126":0===e.indexOf("NUC505")?"NUC505":0===e.indexOf("I91")?"ISD9100":0===e.indexOf("I93")?"ISD9300":0===e.indexOf("AX58200")?"AX58200":0===e.indexOf("MA35D0")?"MA35D0":0===e.indexOf("MA35D1")?"MA35D1":0===e.indexOf("MA35H0")?"MA35H0":0===e.indexOf("M55M1H2ES")?"M55M1H2ES":0===e.indexOf("M55M1")||0===e.indexOf("M5531")?"M55M1":0===e.indexOf("N9H30")&&-1!=e.indexOf("IIM")?"N9H30xxxIIM":0===e.indexOf("N9H30")&&-1!=e.indexOf("IEC")?"N9H30xxxIEC":0===e.indexOf("N9H31")?"N9H31KxxIFC":0===e.indexOf("NUC97")?"NUC970":0===e.indexOf("NUC98")?"NUC980":0===e.indexOf("M2A23")?"M2A23":"NUC400":"NUC100AN_BN":"NUC123AE":"NUC123AN":"NANO100BN":"NANO100AN":"M051DN_DE":"MG51_64K":"MG51_32K":"MS51_16K":"MS51_32K"}function Fi(){var e,i,n,t=[],r=[];for(i=0,n=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;i<n;i+=1)e=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i],NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=parseInt(e.sliceAfterX("BP").slicePriorToX("."))+65,char=String.fromCharCode(code),e=e.replace(/BP[0-9]{1,}\./,"P"+char+".")),$i(e)&&t.push(e);if("M451HD"===l||"M451LD"===l||"M4521"===l||"NUC121AE"===l||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"NUC400"===l||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"NDA102"===l||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"NANO103"===l||"NUC505"===l||"NUC123AE"===l||"MA35D0"===l||"MA35D1"===l||"MA35H0"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23"))for(i=0,n=t.length;i<n;i+=1)e=parseInt(t[i].sliceAfterX("."),10)<8?"G"+t[i].slicePriorToX(".")+"_MFPL":"G"+t[i].slicePriorToX(".")+"_MFPH",-1===$.inArray(e,r)&&r.push(e);else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1"))for(i=0,n=t.length;i<n;i+=1)e="G"+t[i].slicePriorToX(".")+"_MFP"+Math.floor(parseInt(t[i].sliceAfterX("."),10)/4),-1===$.inArray(e,r)&&r.push(e);else if("NANO100AN"===l||"NANO100BN"===l||"NANO112"===l)for(i=0,n=t.length;i<n;i+=1)e=parseInt(t[i].sliceAfterX("."),10)<8?t[i].slicePriorToX(".")+"_L_MFP":t[i].slicePriorToX(".")+"_H_MFP",-1===$.inArray(e,r)&&r.push(e);else if("NM1500"===l||"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l)for(i=0,n=t.length;i<n;i+=1)e=t[i].slicePriorToX(".")+"_MFP",-1===$.inArray(e,r)&&r.push(e);else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("MUG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("CM1003"))for(i=0,n=t.length;i<n;i+=1)e=t[i].slicePriorToX(".")+"MF76543210",-1===$.inArray(e,r)&&r.push(e);else if(0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")||0===l.indexOf("KM1M0"))for(i=0,n=t.length;i<n;i+=1)e="IO"+t[i].slicePriorToX(".")+"MD",-1===$.inArray(e,r)&&r.push(e);else if(0===l.indexOf("KM1M4BF")){for(i=0,n=t.length;i<n;i+=1)e="IO"+t[i].slicePriorToX(".")+"MD",-1===$.inArray(e,r)&&r.push(e);0===l.indexOf("KM1M4BF5")&&r.push("SELSWD")}else if(0===l.indexOf("KM1M7CF")){for(i=0,n=t.length;i<n;i+=1)e="IO"+t[i].slicePriorToX(".")+"MD",-1===$.inArray(e,r)&&r.push(e);for(i=0;i<14;i+=1)i<10?r.push("FPSA0"+i+"_SEL"):r.push("FPSA"+i+"_SEL");for(i=0;i<12;i+=1)i<10?r.push("FPSB0"+i+"_SEL"):r.push("FPSB"+i+"_SEL")}else for(i=0,n=t.length;i<n;i+=1)e="G"+t[i].slicePriorToX(".")+"_MFP",-1===$.inArray(e,r)&&r.push(e);for(i=0,n=(t=["ALT_MFP","ALT_MFP1","ALT_MFP2","ALT_MFP3","ALT_MFP4","ALT_MFP5","ALT_MFP6","ALT_MFP7","ALT_MFP8","ALT_MFP9"]).length;i<n;i+=1)e=t[i],void 0!==NUTOOL_PIN.g_cfg_regDescriptions[e]&&-1===$.inArray(e,r)&&r.push(e);for(i=0,n=r.length;i<n;i+=1)Ge[r[i]]=0;"MINI55"!==l&&"NM1200"!==l||(Ge.ADCHER=0,Ge.ADCR=0,Ge.PIN_SEL=0),t=[],e=null,i=null,n=null}function Ei(e,i){var n,t,r,o,s,a,d,c,f,g=0,_=0,u=0,N=0,O="";if(NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=parseInt(e.sliceAfterX("BP").slicePriorToX("."))+65,char=String.fromCharCode(code),e=e.replace(/BP[0-9]{1,}\./,"P"+char+".")),"NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"NDA102"===l||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MA35D0"===l||"MA35D1"===l||"MA35H0"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23"))n=e.slice(0,2),(a=parseInt(e.slice(3),10))<8&&(f=!0),f?(g=15<<4*a>>>0,t=(Ge[d="G"+n+"_MFPL"]&~g)>>>0,i=i<<4*a>>>0,Ge[d]=(t|i)>>>0):(g=15<<4*(a-8)>>>0,t=(Ge[c="G"+n+"_MFPH"]&~g)>>>0,i=i<<4*(a-8)>>>0,Ge[c]=(t|i)>>>0);else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1"))n=e.slice(0,2),g=255<<8*((a=parseInt(e.slice(3),10))-4*(s=Math.floor(a/4)))>>>0,t=(Ge[d="G"+n+"_MFP"+s]&~g)>>>0,i=i<<8*(a-4*s)>>>0,Ge[d]=(t|i)>>>0;else if("MINI57"===l||"NM1120"===l)n=e.slice(0,2),g=15<<4*(a=parseInt(e.slice(3),10))>>>0,t=(Ge[d="G"+n+"_MFP"]&~g)>>>0,i=i<<4*a>>>0,Ge[d]=(t|i)>>>0;else if("NANO100AN"===l||"NANO100BN"===l||"NANO112"===l)n=e.slice(0,2),(a=parseInt(e.slice(3),10))<8&&(f=!0),f?(g=15<<4*a>>>0,t=(Ge[d=n+"_L_MFP"]&~g)>>>0,i=i<<4*a>>>0,Ge[d]=(t|i)>>>0):(g=15<<4*(a-8)>>>0,t=(Ge[c=n+"_H_MFP"]&~g)>>>0,i=i<<4*(a-8)>>>0,Ge[c]=(t|i)>>>0);else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("MUG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("CM1003"))n=e.slice(0,2),g=15<<4*(a=parseInt(e.slice(3),10))>>>0,t=(Ge[d=n+"MF76543210"]&~g)>>>0,i=i<<4*a>>>0,Ge[d]=(t|i)>>>0;else if(0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M0"))n=e.slice(0,2),g=15<<4*(a=parseInt(e.slice(3),10))>>>0,t=(Ge[d="IO"+n+"MD"]&~g)>>>0,i=i<<4*a>>>0,Ge[d]=(t|i)>>>0;else if("ISD9100"===l||"ISD9300"===l)n=e.slice(0,2),g=3<<2*(a=parseInt(e.slice(3),10))>>>0,t=(Ge[d="G"+n+"_MFP"]&~g)>>>0,i=i<<2*a>>>0,Ge[d]=(t|i)>>>0;else if("MINI55"===l||"NM1200"===l){for(_=0,r=NUTOOL_PIN.g_cfg_gpioMatrix.length;_<r;_+=1)if(e===NUTOOL_PIN.g_cfg_gpioMatrix[_].f[0]){for(u=1,o=NUTOOL_PIN.g_cfg_gpioMatrix[_].f.length;u<o;u+=1)n=(O=NUTOOL_PIN.g_cfg_gpioMatrix[_].f[u]).slicePriorToX("["),g=1<<(s=parseInt(O.slice(O.indexOf("[")+1,O.indexOf("]")),10))>>>0,N=0,i&1<<parseInt(O.sliceAfterX(":"),10)&&(N=1<<s>>>0),t=(Ge[n]&~g)>>>0,Ge[n]=(t|N)>>>0;break}"P3.2"===e&&1===i&&(Ge.PIN_SEL=0)}else for(_=0,r=NUTOOL_PIN.g_cfg_gpioMatrix.length;_<r;_+=1)if(e===NUTOOL_PIN.g_cfg_gpioMatrix[_].f[0]){for(u=1,o=NUTOOL_PIN.g_cfg_gpioMatrix[_].f.length;u<o;u+=1)n=(O=NUTOOL_PIN.g_cfg_gpioMatrix[_].f[u]).slicePriorToX("["),g=1<<(s=parseInt(O.slice(O.indexOf("[")+1,O.indexOf("]")),10))>>>0,N=0,i&1<<parseInt(O.sliceAfterX(":"),10)&&(N=1<<s>>>0),t=(Ge[n]&~g)>>>0,Ge[n]=(t|N)>>>0;break}n=null,g=null,t=null,_=null,u=null,r=null,o=null,s=null,N=null,O=null,a=null,d=null,c=null,f=null}function ji(e,i){var n,t,r,o=-1;return NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(t=parseInt(e.sliceAfterX("BP").slicePriorToX("."))+65,r=String.fromCharCode(t),e=e.replace(/BP[0-9]{1,}\./,"P"+r+".")),e=e.replace("GP","P"),"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l||"NM1500"===l?n=8*parseInt(e.slice(1,2),16)+parseInt(e.slice(3),10):0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("MUG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("CM1003")?n=8*parseInt(e.slice(1,2),16)+i:0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M0")?(o=e.indexOf("P"),n=8*parseInt(e.slice(o+1,o+2),16)+i):n="MINI57"===l||"NM1120"===l||"M0A21"===l?8*(e.slice(1,2).charCodeAt(0)-"A".charCodeAt(0))+i:16*(e.slice(1,2).charCodeAt(0)-"A".charCodeAt(0))+i,n}function Xi(e){var i,n,t,r,o,s,a,d,c,f,g,_,u,N,O,p,h,x,P,T=[],M=$("#moduleTree");if(s=a=parseInt(e.toLowerCase().slice(e.indexOf("0x")+2),16),"NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MINI57"===l||"NM1120"===l||"NDA102"===l||"MA35D0"===l||"MA35D1"===l||"MA35H0"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23"))for(P=-1===e.indexOf("MFPH")&&-1===e.indexOf("_H_MFP"),i=0;i<8;i+=1){if(c=(a&(d=15<<4*i>>>0))>>>4*i>>>0)if(f=P?i:i+8,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(O="",N=ji(e,f),n=1,r=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<r;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+c)){O=(O=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===O){s&=~d;continue}_=Ri(_=O),O=O.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,M.jstree("check_node",$("#"+O+"_Pin"+(u+1))),$("#"+O+"_Pin"+(u+1)).hasClass("jstree-checked")||(M.jstree("open_node",$("#"+_+"_Root")),M.jstree("open_node",$("#"+O+"_Intermediate")),M.jstree("check_node",$("#"+O+"_Pin"+(u+1))))}else s&=~d;if(0===(a&=~d))break}else if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1"))for(x=parseInt(e.substr(7,1),10),i=0;i<4;i+=1){if(c=(a&(d=255<<8*i>>>0))>>>8*i>>>0)if(f=i+4*x,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(O="",N=ji(e,f),n=1,r=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<r;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+c)){O=(O=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===O){s&=~d;continue}_=Ri(_=O),O=O.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,M.jstree("check_node",$("#"+O+"_Pin"+(u+1))),$("#"+O+"_Pin"+(u+1)).hasClass("jstree-checked")||(M.jstree("open_node",$("#"+_+"_Root")),M.jstree("open_node",$("#"+O+"_Intermediate")),M.jstree("check_node",$("#"+O+"_Pin"+(u+1))))}else s&=~d;if(0===(a&=~d))break}else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("MUG51")||0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M0")||0===l.indexOf("CM1003"))for(i=0;i<8;i+=1){if(c=(a&(d=15<<4*i>>>0))>>>4*i>>>0)if(f=i,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(O="",N=ji(e,f),n=1,r=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<r;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+c)){O=(O=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===O){s&=~d;continue}_=Ri(_=O),O=O.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,M.jstree("check_node",$("#"+O+"_Pin"+(u+1))),$("#"+O+"_Pin"+(u+1)).hasClass("jstree-checked")||(M.jstree("open_node",$("#"+_+"_Root")),M.jstree("open_node",$("#"+O+"_Intermediate")),M.jstree("check_node",$("#"+O+"_Pin"+(u+1))))}else s&=~d;if(0===(a&=~d))break}else if("ISD9100"===l||"ISD9300"===l)for(i=0;i<16;i+=1){if(c=(a&(d=3<<2*i>>>0))>>>2*i>>>0)if(f=i,g="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+f.toString(),NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&(code=g.charCodeAt(1)-65,g=g.replace(/P[A-Z]\./,"BP"+code+".")),-1!==(u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))){for(N=ji(e,f),O="",n=1,r=NUTOOL_PIN.g_cfg_gpios[N].f.length;n<r;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[n].indexOf(":"+c)){O=(O=NUTOOL_PIN.g_cfg_gpios[N].f[n]).slicePriorToX(":");break}if(""===O){s&=~d;continue}_=Ri(_=O),O=O.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,M.jstree("check_node",$("#"+O+"_Pin"+(u+1))),$("#"+O+"_Pin"+(u+1)).hasClass("jstree-checked")||(M.jstree("open_node",$("#"+_+"_Root")),M.jstree("open_node",$("#"+O+"_Intermediate")),M.jstree("check_node",$("#"+O+"_Pin"+(u+1))))}else s&=~d;if(0===(a&=~d))break}else for(i=0;i<32;i+=1){if(u=-1,c=(a&(d=1<<i>>>0))>>>i>>>0){for(p=e.slice(e.indexOf("P"),e.indexOf(":"))+"["+i+"]",n=0,r=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<r;n+=1){for(t=1,o=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<o;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(p)){g=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],u=$.inArray(g,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==u){for(c=0,t=1,o=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<o;t+=1)h=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],d=1<<(x=parseInt(h.slice(h.indexOf("[")+1,h.indexOf("]")),10))>>>0,h.slicePriorToX("["),c+=((a&d)>>>x)*Math.pow(2,t-1),a&=~d;for(N=8*parseInt(g.slice(1,2),16)+parseInt(g.slice(3),10),O="",t=1,o=NUTOOL_PIN.g_cfg_gpios[N].f.length;t<o;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios[N].f[t].indexOf(":"+c)){O=(O=NUTOOL_PIN.g_cfg_gpios[N].f[t]).slicePriorToX(":");break}if(""===O){for(t=1,o=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<o;t+=1)h=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],s&=~(d=1<<(x=parseInt(h.slice(h.indexOf("[")+1,h.indexOf("]")),10))>>>0);continue}_=Ri(_=O),O=O.replaceSpecialCharacters(),-1!==_.indexOf("_")&&(_=_.slicePriorToX("_")),T[0]=u+1,M.jstree("check_node",$("#"+O+"_Pin"+(u+1))),$("#"+O+"_Pin"+(u+1)).hasClass("jstree-checked")||(M.jstree("open_node",$("#"+_+"_Root")),M.jstree("open_node",$("#"+O+"_Intermediate")),M.jstree("check_node",$("#"+O+"_Pin"+(u+1))));break}}-1===u&&(s&=~d)}if(0===a)break}return e=e.slice(0,e.indexOf("0x")+2)+zi(s),null,i=null,n=null,null,null,r=null,s=null,a=null,d=null,c=null,f=null,g=null,_=null,T=[],u=null,N=null,O=null,M=null,p=null,h=null,null,x=null,e}function Bi(e){var i,n,t,r,o,s,a,d,c,f,g,_,u,N,O,p=parseInt(e.toLowerCase().slice(e.indexOf("0x")+2),16),h=[];if("NUC400"===l||"M451HD"===l||"M451LD"===l||"M4521"===l||"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l||"NUC505"===l||"NUC121AE"===l||"NUC123AE"===l||"NANO103"===l||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"MINI57"===l||"NM1120"===l||"NDA102"===l||"MA35D0"===l||"MA35D1"===l||"MA35H0"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23"))for(O=-1===e.indexOf("MFPH")&&-1===e.indexOf("_H_MFP"),n=0;n<8;n+=1)if((p&15<<4*n>>>0)>>>4*n>>>0,c=O?n:n+8,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+c.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==we[u]&&(g=(g=we[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ri(g.slicePriorToX("_")),h[0]=u+1,Oi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==He[_]))){for(i=0,o=He[_].length;i<o;i+=1)if(He[_][i]===g){He[_][i]="";break}for(i=0,o=He[_].length;i<o&&""===He[_][i];i+=1)i===o-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}if("M0A21"===l||0===l.indexOf("M46")||0===l.indexOf("M2L31")||0===l.indexOf("M55M1")){for(d=parseInt(e.substr(-1),10),n=0;n<4;n+=1)if((p&255<<8*n>>>0)>>>8*n>>>0,c=n+4*d,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+c.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==we[u]&&(g=(g=we[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ri(g.slicePriorToX("_")),h[0]=u+1,Oi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==He[_]))){for(i=0,o=He[_].length;i<o;i+=1)if(He[_][i]===g){He[_][i]="";break}for(i=0,o=He[_].length;i<o&&""===He[_][i];i+=1)i===o-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}else if(0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("MUG51")||0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M0")||0===l.indexOf("CM1003")){for(n=0;n<8;n+=1)if((p&15<<4*n>>>0)>>>4*n>>>0,c=n,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+c.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==we[u]&&(g=(g=we[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ri(g.slicePriorToX("_")),h[0]=u+1,Oi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==He[_]))){for(i=0,o=He[_].length;i<o;i+=1)if(He[_][i]===g){He[_][i]="";break}for(i=0,o=He[_].length;i<o&&""===He[_][i];i+=1)i===o-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}else if("ISD9100"===l||"ISD9300"===l){for(n=0;n<16;n+=1)if((p&3<<2*n>>>0)>>>2*n>>>0,c=n,f="P"+e.slice(e.indexOf("P")+1,e.indexOf("P")+2)+"."+c.toString(),-1!==(u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]))&&""!==we[u]&&(g=(g=we[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ri(g.slicePriorToX("_")),h[0]=u+1,Oi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==He[_]))){for(i=0,o=He[_].length;i<o;i+=1)if(He[_][i]===g){He[_][i]="";break}for(i=0,o=He[_].length;i<o&&""===He[_][i];i+=1)i===o-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}else for(n=0;n<32;n+=1)if(u=-1,(p&1<<n>>>0)>>>n>>>0)for(N=e.slice(e.indexOf("P"),e.indexOf(":"))+"["+n+"]",t=0,s=NUTOOL_PIN.g_cfg_gpioMatrix.length;t<s;t+=1){for(r=1,a=NUTOOL_PIN.g_cfg_gpioMatrix[t].f.length;r<a;r+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[t].f[r].indexOf(N)){f=NUTOOL_PIN.g_cfg_gpioMatrix[t].f[0],u=$.inArray(f,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==u&&""!==we[u]&&(g=(g=we[u]+"_Pin"+(u+1)).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+g)),!$("#"+g).hasClass("jstree-unchecked")&&(_=Ri(g.slicePriorToX("_")),h[0]=u+1,Oi(g,_,h),$("#"+g).addClass("jstree-unchecked"),void 0!==He[_]))){for(i=0,o=He[_].length;i<o;i+=1)if(He[_][i]===g){He[_][i]="";break}for(i=0,o=He[_].length;i<o&&""===He[_][i];i+=1)i===o-1&&$("#"+_+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}}i=null,n=null,t=null,o=null,s=null,p=null,d=null,c=null,f=null,g=null,_=null,h=[],u=null,N=null}function Gi(e){var i;return i=e,0===e.indexOf("NUC1")?i="NUC100":0===e.indexOf("NUC2")?i="NUC200":0===e.indexOf("NANO1")?i="NANO100":0===e.indexOf("NDA102")?i="NDA102":0===e.indexOf("M0518")?i="M0518":0===e.indexOf("M0519")?i="M0519":0===e.indexOf("M0564")?i="M0564":0===e.indexOf("M029G")?i="M029G":0===e.indexOf("M030G")?i="M030G":0===e.indexOf("M091")?i="M091":0===e.indexOf("M030")||0===e.indexOf("M031")?i="M031":0===e.indexOf("M05")?i="M051":0===e.indexOf("M071")?i="M071":0===e.indexOf("MINI5")?i="MINI51":0===e.indexOf("M25")?i="M251":0===e.indexOf("M235")?i="M2351":0===e.indexOf("M433")?i="M433":0===e.indexOf("M45")?i="M451":0===e.indexOf("M466")?i="M466":0===e.indexOf("M46")?i="M460":0===e.indexOf("M48")?i="M480":0===e.indexOf("KM1M7AF")?i="KM1M7AF":0===e.indexOf("KM1M7BF")?i="KM1M7BF":0===e.indexOf("KM1M7CF")?i="KM1M7CF":0===e.indexOf("KM1M0D0F")||0===e.indexOf("KM1M0D1F")?i="KM1M0DF":e.startsWith("KM1M0GF")?i="KM1M0GF":0===e.indexOf("KM1M4BF")?i="KM1M4BF":0===e.indexOf("NUC029")?i="NUC029":0===e.indexOf("MS51")?i="MS51":0===e.indexOf("MG51")?i="MG51":0===e.indexOf("ML5")?i="ML51":0===e.indexOf("MUG51")?i="MUG51":0===e.indexOf("M2L31")?i="M2L31":0===e.indexOf("M55M1H2ES")?i="M55M1H2ES":0===e.indexOf("M55M1")||0===e.indexOf("M5531")?i="M55M1":0===e.indexOf("M2003")?i="M2003":0===e.indexOf("N76E003")?i="N76E003":0===e.indexOf("N76S003")?i="N76S003":0===e.indexOf("N9H30xxxIIM")?i="N9H30xxxIIM":0===e.indexOf("N9H30xxxIEC")?i="N9H30xxxIEC":0===e.indexOf("N9H31KxxIFC")?i="N9H31KxxIFC":0===e.indexOf("NUC97")?i="NUC970":0===e.indexOf("NUC98")?i="NUC980":0===e.indexOf("M2A23")&&(i="M2A23"),i}function Ri(e){var i,n;if(void 0===Ri.specialModuleNames)if(0===l.indexOf("MUG51")?Ri.specialModuleNames=["P0","P1","P2","P3","P4","P5","P6","P7","P8","P9"]:Ri.specialModuleNames=["PA","PB","PC","PD","PE","PF","PG","PH","PI","PI","PI","PJ","PK","PL","PM","PN","P0","P1","P2","P3","P4","P5","P6","P7","P8","P9"],"NUC400"===l)Ri.specialModuleNames.push("BRAKE"),Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("TAMPER");else if(0===l.indexOf("M029G")||0===l.indexOf("M030G"))Ri.specialModuleNames.push("DAC"),Ri.specialModuleNames.push("INT");else if(0===l.indexOf("NUC1262")||0===l.indexOf("NUC1263"))Ri.specialModuleNames.push("LLSI"),Ri.specialModuleNames.push("INT");else if(0===l.indexOf("M0A21")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||0===l.indexOf("M2L31")||0===l.indexOf("MS51")||0===l.indexOf("CM1003")||0===l.indexOf("MG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||"M0564"===l||"M05641"===l||"M0515LDE"===l||"M071M"===l||"MINI58"===l||"NUC029KGE"===l||"NUC029xGE"===l||"NUC121AE"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC1311"===l)Ri.specialModuleNames.push("INT");else if("NM1120"===l)Ri.specialModuleNames.push("TM");else if("MINI57"===l)Ri.specialModuleNames.push("TM"),Ri.specialModuleNames.splice(Ri.specialModuleNames.indexOf("PG"),1);else if("M0519"===l)Ri.specialModuleNames.push("TM"),Ri.specialModuleNames.push("INT");else if(0===l.indexOf("ML5"))Ri.specialModuleNames.push("TK"),Ri.specialModuleNames.push("INT");else if(0===l.indexOf("MUG51"))Ri.specialModuleNames.push("TK"),Ri.specialModuleNames.push("INT");else if("M451LD"===l||"M451HD"===l||"M4521"===l)Ri.specialModuleNames.push("TK"),Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("TAMPER");else if(0===l.indexOf("M46")||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"M251"===l||"M253"===l||"M261"===l||"NDA102"===l||0===l.indexOf("M55M1")||0===l.indexOf("M235")||"AX58200"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23"))Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("TAMPER"),Ri.specialModuleNames.push("CFG");else if(l.startsWith("KM1M0"))for(Ri.specialModuleNames.push("OSC"),Ri.specialModuleNames.push("IRQ"),Ri.specialModuleNames.push("KEY"),Ri.specialModuleNames.push("AD"),i=0,n=26;i<n;i+=1)i<10?Ri.specialModuleNames.push("TM0"+i):Ri.specialModuleNames.push("TM"+i);else if(0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")||0===l.indexOf("KM1M4"))for(Ri.specialModuleNames.push("IRQ"),Ri.specialModuleNames.push("AD"),i=0,n=26;i<n;i+=1)i<10?Ri.specialModuleNames.push("TM0"+i):Ri.specialModuleNames.push("TM"+i);else if(0===l.indexOf("KM1M7CF"))for(Ri.specialModuleNames.push("IRQ"),Ri.specialModuleNames.push("CAN"),Ri.specialModuleNames.push("AD"),Ri.specialModuleNames.push("FPS"),Ri.specialModuleNames.push("RTC"),Ri.specialModuleNames.push("CLK"),Ri.specialModuleNames.push("OSC"),i=0,n=26;i<n;i+=1)i<10?Ri.specialModuleNames.push("TM0"+i):Ri.specialModuleNames.push("TM"+i);else"M256D"===l||"M258"===l||"M258G"===l?(Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("LCD"),Ri.specialModuleNames.push("TAMPER")):"NANO100AN"===l?(Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("DA"),Ri.specialModuleNames.push("AD"),Ri.specialModuleNames.push("PWM0"),Ri.specialModuleNames.push("PWM1"),Ri.specialModuleNames.push("SC0"),Ri.specialModuleNames.push("SC1"),Ri.specialModuleNames.push("TC"),Ri.specialModuleNames.push("SPI"),Ri.specialModuleNames.push("I2C0"),Ri.specialModuleNames.push("I2C1"),Ri.specialModuleNames.push("I2S"),Ri.specialModuleNames.push("TMR"),Ri.specialModuleNames.push("TX"),Ri.specialModuleNames.push("RX")):"NANO100BN"===l?(Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("DA"),Ri.specialModuleNames.push("AD"),Ri.specialModuleNames.push("TC"),Ri.specialModuleNames.push("TM")):"NANO103"===l||"NANO112"===l?Ri.specialModuleNames.push("AD"):"NUC100AN_BN"===l||"NUC100CN"===l||"NUC100DN"===l?(Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("PWM"),Ri.specialModuleNames.push("I2C0"),Ri.specialModuleNames.push("I2C1"),Ri.specialModuleNames.push("TM"),Ri.specialModuleNames.push("TXD"),Ri.specialModuleNames.push("RXD"),Ri.specialModuleNames.push("RTS"),Ri.specialModuleNames.push("PS2"),Ri.specialModuleNames.push("SPI"),Ri.specialModuleNames.push("SC0"),Ri.specialModuleNames.push("SC1"),Ri.specialModuleNames.push("SC2"),Ri.specialModuleNames.push("nWR"),Ri.specialModuleNames.push("I2S"),Ri.specialModuleNames.push("CTS"),Ri.specialModuleNames.push("CP"),Ri.specialModuleNames.push("AD")):"NUC200AE"===l||"NUC200AN"===l?(Ri.specialModuleNames.push("PWM"),Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("AD")):"NUC2201"===l||"M071R1S"===l||"NUC029xEE"===l?(Ri.specialModuleNames.push("PWM"),Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("AD"),Ri.specialModuleNames.push("nWR")):0===l.indexOf("NUC131")||"M0518"===l||"NUC029xDE"===l||"NUC029MDE"===l?(Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("INT")):"NUC122AN"===l?Ri.specialModuleNames.push("PWM"):"NUC123AN"===l||"NUC123AE"===l?(Ri.specialModuleNames.push("ADC"),Ri.specialModuleNames.push("I2S")):"M051DN_DE"===l||"M051AN"===l||"M051BN"===l||"M058S"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l?(Ri.specialModuleNames.push("AD"),Ri.specialModuleNames.push("AIN"),Ri.specialModuleNames.push("SPI"),Ri.specialModuleNames.push("PWM"),Ri.specialModuleNames.push("T0"),Ri.specialModuleNames.push("T1"),Ri.specialModuleNames.push("T2"),Ri.specialModuleNames.push("T3"),Ri.specialModuleNames.push("nWR"),Ri.specialModuleNames.push("CTS"),Ri.specialModuleNames.push("RTS")):"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l?(Ri.specialModuleNames.push("AIN"),Ri.specialModuleNames.push("PWM"),Ri.specialModuleNames.push("T0"),Ri.specialModuleNames.push("T1"),Ri.specialModuleNames.push("T2"),Ri.specialModuleNames.push("T3")):"NM1200"===l?(Ri.specialModuleNames.push("AIN"),Ri.specialModuleNames.push("PWM")):"NM1500"===l?(Ri.specialModuleNames.push("AINA"),Ri.specialModuleNames.push("AINB"),Ri.specialModuleNames.push("PWM"),Ri.specialModuleNames.push("INT"),Ri.specialModuleNames.push("TM")):"ISD9100"!==l&&"ISD9300"!==l||Ri.specialModuleNames.push("CMP");if(void 0!==e)for(i=0,n=Ri.specialModuleNames.length;i<n;i+=1){if(0===e.indexOf(Ri.specialModuleNames[i])){e=0!==e.indexOf("ADC")?Ri.specialModuleNames[i]:"ADC";break}if(l.startsWith("KM1M0")&&e.startsWith("AN")){e="AD";break}}return e}function Ki(){NUTOOL_PIN.g_pinFunctionString="",a="undefined"==typeof NUTOOL_PER?"NUC200AE"===l?'#include "NUC230_240.h"\r\n':"NUC200AN"===l?'#include "NUC200Series.h"\r\n':"NANO100AN"===l||"NANO100BN"===l?'#include "Nano100Series.h"\r\n':"NANO103"===l?'#include "Nano103.h"\r\n':"NANO112"===l?'#include "Nano1X2Series.h"\r\n':"NUC100AN_BN"===l||"NUC100CN"===l||"NUC100DN"===l?'#include "NUC100Series.h"\r\n':"NUC121AE"===l?'#include "NUC121.h"\r\n':"NUC122AN"===l?'#include "NUC122.h"\r\n':"NUC123AN"===l||"NUC123AE"===l?'#include "NUC123.h"\r\n':0===l.indexOf("M029G")?'#include "M029G.h"\r\n':0===l.indexOf("M030G")?'#include "M030G.h"\r\n':0===l.indexOf("M091")?'#include "M091Series.h"\r\n':0===l.indexOf("M030")||0===l.indexOf("M031")?'#include "M031Series.h"\r\n':0===l.indexOf("M256D")||0===l.indexOf("M258")||0===l.indexOf("M258G")?'#include "M251.h"\r\n':0===l.indexOf("M433")||0===l.indexOf("M46")?'#include "NuMicro.h"\r\n':0===l.indexOf("M480")?'#include "M480.h"\r\n':0===l.indexOf("KM1M0")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M7")?'#include "NuMicro.h"\r\n':"NUC505"===l?'#include "NUC505Series.h"\r\n':"M051DN_DE"===l||"M051BN"===l||"M051AN"===l?'#include "M051Series.h"\r\n':"M451LD"===l||"M451HD"===l?'#include "M451Series.h"\r\n':"MINI51AN"===l?'#include "Mini51.h"\r\n':"MINI51DE"===l?'#include "Mini51Series.h"\r\n':"MINI55"===l?'#include "Mini55Series.h"\r\n':"MINI57"===l||"NM1120"===l?'#include "Mini57Series.h"\r\n':"MINI58"===l?'#include "Mini58Series.h"\r\n':"ML5156"===l||0===l.indexOf("ML51")||0===l.indexOf("ML56")?'#include "Function_Define_ML51.h"\r\n':0===l.indexOf("MUG51")?'#include "Function_Define_MUG51.h"\r\n':0===l.indexOf("MS51_8K")?'#include "MS51_8K.h"\r\n':0===l.indexOf("MG51_32K")?'#include "MG51_32K.h"\r\n':0===l.indexOf("N76S003")?'#include "N76S003.h"\r\n':0===l.indexOf("N76E003")?'#include "N76E003.h"\r\n':"NUC029AN"===l||"NUC029TAE"===l?'#include "NUC029xAN.h"\r\n':"NUC029AE"===l?'#include "NUC029FAE.h"\r\n':"NUC029KGE"===l||"NUC029xGE"===l?'#include "NUC029xGE.h"\r\n':"NUC029xDE"===l?'#include "NUC029xDE.h"\r\n':"NUC029xEE"===l?'#include "NUC029xEE.h"\r\n':"NM1200"===l?'#include "Mini51.h"\r\n':"NM1500"===l?'#include "MT500Series.h"\r\n':"NUC400"===l?'#include "NUC472_442.h"\r\n':"M0515LDE"===l||"NDA102"===l||"M071M"===l||"M071QV"===l||"M071R1S"===l||0===l.indexOf("MA35D0")||0===l.indexOf("MA35H0")?'#include "NuMicro.h"\r\n':0===l.indexOf("MA35")?'#include "'+l.toLowerCase()+'.dtsi"\r\n':0===l.indexOf("M55M1")||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23")?'#include "NuMicro.h"\r\n':'#include "'+l+'.h"\r\n':'#include "NuCodeGenProj.h"\r\n'}function Hi(){var e,i,n,t,r,o,s,c,g,u,N,O,p,h,x,P,M,I,C,m,U,b,k=[],A=[],S=[],y=[],D=[],w="SYS->";if("undefined"!=typeof NUTOOL_PER&&Ki(),"h"!==NUTOOL_PIN.g_pinFunctionString&&"dtsi"!==NUTOOL_PIN.g_pinFunctionString||a.sliceAfterX(".")===NUTOOL_PIN.g_pinFunctionString||(a=a.slicePriorToX(".")+"."+NUTOOL_PIN.g_pinFunctionString+'"\r\n'),d="",0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(w=""),k=Qi(Ge),"KM1M7CF"!==l&&k.sort(),0!==NUTOOL_PIN.g_cfg_gpiosDefines.length){if(-1===a.indexOf(".dtsi"))for(e=0,c=k.length;e<c;e+=1)Be[k[e]]=Ge[k[e]],y[k[e]]=[];for(e=1;e<=v;e+=1)""!==we[e-1]&&(P=e,x=we[e-1],void 0===A[M=Ri(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][P-1])]?(A[M]=[],A[M][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][P-1]+":"+x):A[M].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][P-1]+":"+x));for(e=0,c=(S=Qi(A).sort(di)).length;e<c;e+=1)for(A[S[e]].sort(di),i=0,g=A[S[e]].length;i<g;i+=1)for(C=I=A[S[e]][i],I=I.slicePriorToX(":"),(C=C.sliceAfterX(":"))===I&&(C="GPIO"),t=0,N=NUTOOL_PIN.g_cfg_gpiosDefines.length;t<N;t+=1)if(I===NUTOOL_PIN.g_cfg_gpiosDefines[t].f[0]){for(r=1,O=NUTOOL_PIN.g_cfg_gpiosDefines[t].f.length;r<O;r+=1)if(0===NUTOOL_PIN.g_cfg_gpiosDefines[t].f[r].indexOf(C+":")){b=NUTOOL_PIN.g_cfg_gpiosDefines[t].f[r];do{for(-1===b.indexOf("/")?(m=b,b=""):(m=b.slicePriorToX("/"),b=b.sliceAfterX("/")),U=m,m=-1===a.indexOf(".dtsi")?m.sliceAfterX("@").slicePriorToX("%"):m.sliceAfterX("@").sliceAfterX("%"),U=-1===U.indexOf(":")?U.slicePriorToX("@"):U.slice(U.indexOf(":")+1,U.indexOf("@")),";"===m.slice(-1)&&(m=m.slice(0,-1)),n=0,u=(D=m.split(";")).length;n<u;n+=1)void 0===y[m=D[n].trim()]&&(y[m]=[]),y[m].push(U);if("KM1M7CF"===l){var F,E,j=NUTOOL_PIN.g_cfg_gpiosDefines[t].f[r].slicePriorToX(":");for(o=0,p=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;o<p;o+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[o].indexOf(I)){F=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[o].sliceAfterX(":");break}if(null!=F){if(-1!==F.indexOf("FPSA"))for(s=0,h=NUTOOL_PIN.g_cfg_gpios_FPSA_defines.length;s<h;s+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSA_defines[s].slicePriorToX(":").indexOf(j)){void 0===y[E=F+"_SEL"]&&(y[E]=[]),y[E].push(NUTOOL_PIN.g_cfg_gpios_FPSA_defines[s].sliceAfterX(":"));break}if(-1!==F.indexOf("FPSB"))for(s=0,h=NUTOOL_PIN.g_cfg_gpios_FPSB_defines.length;s<h;s+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSB_defines[s].slicePriorToX(":").indexOf(j)){void 0===y[E=F+"_SEL"]&&(y[E]=[]),y[E].push(NUTOOL_PIN.g_cfg_gpios_FPSB_defines[s].sliceAfterX(":"));break}}}}while(""!==b);break}break}if(0===l.indexOf("ML5")||0===l.indexOf("MUG51")){for(e=0,c=k.length;e<c;e+=1)d+="    //"+w+k[e]+" = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";for(d+="\r\n","undefined"==typeof NUTOOL_PER&&(d+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\r\n"),f="",e=0,c=k.length;e<c;e+=1)if(y[k[e]].length>0)for(i=y[k[e]].length-1;i>=0;i-=1)d+="    "+y[k[e]][i]+";\r\n",f=f+"    "+y[k[e]][i]+";"}else if(0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("CM1003")){for(e=0,c=k.length;e<c;e+=1)d+="    //"+w+k[e]+" = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";for(d+="\r\n","undefined"==typeof NUTOOL_PER&&(d+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\r\n"),f="",e=0,c=k.length;e<c;e+=1)if(y[k[e]].length>0)for(i=0,g=y[k[e]].length;i<g;i+=1)for(t=0,N=(D=y[k[e]][i].split(";")).length;t<N;t+=1)""!==D[t]&&("NULL"!==D[t].toString().toUpperCase()&&(d+="    "+D[t]+";\r\n"),f=f+"    "+D[t]+";")}else if(0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")||0===l.indexOf("KM1M0")){for(e=0,c=k.length;e<c;e+=1)d+="    //"+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";for(d+="\r\n","undefined"==typeof NUTOOL_PER&&(d+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\r\n"),f="",e=0,c=k.length;e<c;e+=1)if(y[k[e]].length>0)for(d+="    "+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = ",f=f+"    "+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(d+=y[k[e]][i]+" | ",f=f+y[k[e]][i]+" | "):(d+=y[k[e]][i]+";\r\n",f=f+y[k[e]][i]+";");else d+="    "+w+"GPIO_MD(0x"+k[e][3]+")->IOPnMD = 0x00000000;\r\n"}else if(0===l.indexOf("KM1M4BF")){for(e=0,c=k.length;e<c;e+=1)-1!==k[e].indexOf("IOP")?d+="    //"+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n":d+="    //"+w+"DBG->SELSWD = 0x"+zi(Ge[k[e]]).toUpperCase().slice(-2)+"UL;\r\n";for(d+="\r\n","undefined"==typeof NUTOOL_PER&&(d+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\r\n"),f="",e=0,c=k.length;e<c;e+=1)if(-1!==k[e].indexOf("IOP"))if(y[k[e]].length>0)for(d+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",f=f+"    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(d+=y[k[e]][i]+" | ",f=f+y[k[e]][i]+" | "):(d+=y[k[e]][i]+";\r\n",f=f+y[k[e]][i]+";");else d+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x00000000;\r\n";else 0==zi(Ge[k[e]])?d+="    "+w+"DBG->SELSWD = DEBUG_INTERFACE_DISABLE;\r\n":d+="    "+w+"DBG->SELSWD = DEBUG_INTERFACE_ENABLE;\r\n"}else if(0===l.indexOf("KM1M7CF")){for(e=0,c=k.length;e<c;e+=1)-1!==k[e].indexOf("IOP")?d+="    //"+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n":d+="    //"+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";for(d+="\r\n","undefined"==typeof NUTOOL_PER&&(d+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\r\n"),f="",e=0,c=k.length;e<c;e+=1)if(-1!==k[e].indexOf("IOP"))if(y[k[e]].length>0)for(d+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",f=f+"    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(d+=y[k[e]][i]+" | ",f=f+y[k[e]][i]+" | "):(d+=y[k[e]][i]+";\r\n",f=f+y[k[e]][i]+";");else d+="    "+w+"GPIO_MD"+k[e][3]+"->IOPnMD = 0x00000000;\r\n";else if(y[k[e]].length>0)for(d+="    "+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = ",f=f+"    "+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(d+=y[k[e]][i]+" | ",f=f+y[k[e]][i]+" | "):(d+=y[k[e]][i]+";\r\n",f=f+y[k[e]][i]+";");else d+="    "+w+k[e].slicePriorToX("_")+"->FPS"+k[e][3]+"n_SEL = 0x00000000;\r\n"}else if(0===l.indexOf("M55M1"))for(d+="\r\n",f="",e=0,c=we.length;e<c;e+=1)""!=we[e]&&(d+="    SET_"+we[e]+"_"+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e].replace(".","")+"();  // Pin: "+(e+1)+"\r\n",f+="    SET_"+we[e]+"_"+NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e].replace(".","")+"();  // Pin: "+(e+1)+"\r\n");else if(-1!==a.indexOf(".dtsi")){for(d+='/ {\r\n    model = "Nuvoton '+l+'";\r\n};\r\n\r\n',f="",(k=Qi(y)).sort(),e=0,c=k.length;e<c;e+=1)C=k[e].toLowerCase(),d+="&"+C+' {\r\n    pinctrl-names = "default";\r\n    pinctrl-0 = <&pinctrl_'+C+">;\r\n};\r\n\r\n";for(d+="&pinctrl {\r\n",e=0,c=k.length;e<c;e+=1){for(U=0,i=0,g=y[k[e]].length;i<g;i+=1)y[k[e]][i].length>U&&(U=y[k[e]][i].length);for(U+=1,C=k[e].toLowerCase(),d+="    "+C+" {\r\n        pinctrl_"+C+": "+C+"grp {\r\n            nuvoton,pins =\r\n",f+="    "+C+" {\r\n        pinctrl_"+C+": "+C+"grp {\r\n            nuvoton,pins =\r\n",i=0,g=y[k[e]].length;i<g;i+=1){for(d+="                <"+y[k[e]][i],f+="                <"+y[k[e]][i],t=0,N=U-y[k[e]][i].length;t<N;t+=1)d+=" ",f+=" ";d+="&pcfg_default>",f+="&pcfg_default>",i!==g-1?(d+=",\r\n",f+=",\r\n"):(d+=";\r\n",f+=",\r\n")}d+=e!==c-1?"        };\r\n    };\r\n\r\n":"        };\r\n    };\r\n"}d+="};\r\n\r\n"}else{for(e=0,c=k.length;e<c;e+=1)d+="    //"+w+k[e]+" = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";for(d+="\r\n","undefined"==typeof NUTOOL_PER&&(d+="    /* If the macros do not exist in your project, please refer to the corresponding header file in Header folder of the tool package */\r\n"),f="",e=0,c=k.length;e<c;e+=1)if(y[k[e]].length>0)for(d+="    "+w+k[e]+" = ",f=f+"    "+w+k[e]+" = ",i=y[k[e]].length-1;i>=0;i-=1)0!==i?(d+=y[k[e]][i]+" | ",f=f+y[k[e]][i]+" | "):(d+=y[k[e]][i]+";\r\n",f=f+y[k[e]][i]+";");else d+="    "+w+k[e]+" = 0x00000000;\r\n"}}else{for(e=0,c=k.length;e<c;e+=1)d+="    "+w+k[e]+" = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerHTML","")}for(_="",e=1;e<=v;e+=1)""!==we[e-1]?_+="Pin"+nn(e)+":"+tn(we[e-1])+"\r\n":(x=(x=ve[e-1].slice(ve[e-1].indexOf(De[e-1]))).slicePriorToX("/"),_+="Pin"+nn(e)+":"+x+"\r\n");for(x in T="/* User-defined pins */\r\n",Ve)Ve.hasOwnProperty(x)&&""!==Ve[x].trim()&&(ki((U=Ve[x].replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"_").toUpperCase()).charAt(0))&&(U="_"+U),T+="#define "+U+" "+x.replace(/[.]/g,"").replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",<>\{\}\[\]\\\/]/gi,"_")+"\r\n");"/* User-defined pins */\r\n"===T&&(T=""),L||("STADC"===C&&""===f&&(f="We do not Have the Define for STADC;"),$("#NUC_PinConfiguration_Canvas")[0].setAttribute("innerHTML",f))}function Wi(){var e,i,n,t,r,o,s,f,_,u,N,O,p,h,x,P,M,I,C,m,U,b,L,k=[],$=[],A=[],S="",y=[],D=[],w="SYS->",F=localStorage.getItem("ProjectName");for(O=function(e,i,n){return L=!1,(-1!==e.indexOf("_"+i)||-1!==e.indexOf(i+":")||0===e.indexOf(i+"_")||-1!==e.indexOf(","+i+"_")||-1!==e.lastIndexOf(i)&&e.lastIndexOf(i)+i.length===e.length||"GPIO"===i&&-1!==e.indexOf("_MFP_G"+n)||0===e.indexOf(i)&&-1!==e.indexOf("_FPS"))&&(L=!0),"GPIO"===i&&-1===e.indexOf("SYS_G"+n)&&-1===e.indexOf("SYS_MFP_"+n)&&-1===e.indexOf("SYS_"+n)&&-1===e.indexOf("MD_"+n)&&-1===e.indexOf("GPIO_"+n)&&(L=!1),L},p=function(e){return 0===e.indexOf("SYS_MFP")?e.substring(0,11)+"_Msk":0===e.indexOf("SYS_GP")&&-1!==e.indexOf("_MFP_")?-1===e.indexOf("_MFPL_")&&-1===e.indexOf("_MFPH_")?e.substring(0,15)+"_Msk":e.slicePriorToX("MFP_")+"MFP_Msk":-1===e.indexOf("SYS_GP")&&e.indexOf("_MFP_")!==e.lastIndexOf("_MFP_")?e.substring(0,e.lastIndexOf("_MFP_")+5)+"Msk":0===e.indexOf("GPIO_IO")?e.substring(0,e.lastIndexOf("MD_")+3)+"Msk":0===e.indexOf("GPIO_P")?"GPIO_MD_IOPnMD_Pn"+e.substring(7,e.lastIndexOf("GPIO_P")+8)+"MD_Msk":0===e.indexOf("GPIO_FPS")?"":e.slicePriorToX("MFP_")+"MFP_Msk"},0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(w=""),"undefined"!=typeof NUTOOL_PER&&Ki(),"h"!==NUTOOL_PIN.g_pinFunctionString&&"dtsi"!==NUTOOL_PIN.g_pinFunctionString||a.sliceAfterX(".")===NUTOOL_PIN.g_pinFunctionString||(a=a.slicePriorToX(".")+"."+NUTOOL_PIN.g_pinFunctionString+'"\r\n'),(k=Qi(Ge)).sort(),e=0,r=k.length;e<r;e+=1)Be[k[e]]=Ge[k[e]],D[k[e]]=[];for(e=1;e<=v;e+=1)""!==we[e-1]&&(j=e,_=we[e-1],void 0===$[N=Ri(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][j-1])]?($[N]=[],$[N][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][j-1]+":"+_):$[N].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][j-1]+":"+_));for(e=0,r=(y=Qi($).sort(di)).length;e<r;e+=1)for($[y[e]].sort(di),i=0,o=$[y[e]].length;i<o;i+=1){for(h=X=$[y[e]][i],X=X.slicePriorToX(":"),u=Ri((h=h.sliceAfterX(":")).slicePriorToX("_")).toString(),-1===A.indexOf(u)&&A.push(u),h===X&&(h="GPIO"),n=0,s=NUTOOL_PIN.g_cfg_gpiosDefines.length;n<s;n+=1)if(X===NUTOOL_PIN.g_cfg_gpiosDefines[n].f[0]){for(t=1,f=NUTOOL_PIN.g_cfg_gpiosDefines[n].f.length;t<f;t+=1)if(0===NUTOOL_PIN.g_cfg_gpiosDefines[n].f[t].indexOf(h+":")){C=NUTOOL_PIN.g_cfg_gpiosDefines[n].f[t];do{-1===C.indexOf("/")?(x=C,C=""):(x=C.slicePriorToX("/"),C=C.sliceAfterX("/")),I=x,x=x.sliceAfterX("@").slicePriorToX("%"),-1===I.indexOf(":")||(h=I.slicePriorToX(":")),I=I.slicePriorToX("@"),void 0!==D[x]&&D[x].push(I)}while(""!==C);break}break}if(0===l.indexOf("KM1M7CF")){for(n=0,s=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[n].slicePriorToX(":").indexOf(X)){P=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[n].sliceAfterX(":")+"_SEL";break}if(null!=P){if(-1!==P.indexOf("FPSA")){for(n=0,s=NUTOOL_PIN.g_cfg_gpios_FPSA_defines.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSA_defines[n].slicePriorToX(":").indexOf(h)){M=NUTOOL_PIN.g_cfg_gpios_FPSA_defines[n];break}}else if(-1!==P.indexOf("FPSB"))for(n=0,s=NUTOOL_PIN.g_cfg_gpios_FPSB_defines.length;n<s;n+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPSB_defines[n].slicePriorToX(":").indexOf(h)){M=NUTOOL_PIN.g_cfg_gpios_FPSB_defines[n];break}null!=M&&void 0!==D[P]&&D[P].push(M)}}}if(A.sort(di),d="",g="",0===l.indexOf("M55M1"))for(n=0,s=A.length;n<s;n+=1){for(S=$i(A[n]+".0")?"GPIO":A[n],m="void "+F+"_init_"+A[n].toLowerCase()+"(void)\r\n{\r\n",b=!1,e=0,r=k.length;e<r;e+=1)if(D[k[e]].length>0&&O(D[k[e]].join(),S,A[n])){var E;for(U=!1,b=!0,i=D[k[e]].length-1;i>=0;i-=1){var j=D[k[e]][i].slicePriorToX("MFP_").sliceAfterX("_MFP").sliceAfterX("_");if(O(D[k[e]][i],S,A[n])){I=D[k[e]][i].slicePriorToX(":"),U&&(m+="();   // Pin: "+E+"\r\n",g+="();<br />");var X=j.slice(0,2)+"."+j.slice(2);E=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].indexOf(X)+1,m+="    SET_"+I+"_"+j,g+="    SET_"+I+"_"+j,U=!0}}m+="();   // Pin: "+E+"\r\n",g+="();<br />"}for(m+="\r\n    return;\r\n}\r\n\r\n",b?d+=m:g+=A[n]+" did not generate modularized code!!<br />",m="void "+F+"_deinit_"+A[n].toLowerCase()+"(void)\r\n{\r\n",b=!1,e=0,r=k.length;e<r;e+=1)if(D[k[e]].length>0&&O(D[k[e]].join(),S,A[n])){for(U=!1,b=!0,i=D[k[e]].length-1;i>=0;i-=1){if(O(D[k[e]][i],S,A[n]))U&&(m+="();\r\n"),m+="    SET_GPIO_"+(j=D[k[e]][i].slicePriorToX("MFP_").sliceAfterX("_MFP").sliceAfterX("_")),g+="    SET_GPIO_"+j,U=!0}m+="();\r\n"}m+="\r\n    return;\r\n}\r\n\r\n",b&&(d+=m)}else for(n=0,s=A.length;n<s;n+=1){for(S=$i(A[n]+".0")?"GPIO":A[n],m="void "+F+"_init_"+A[n].toLowerCase()+"(void)\r\n{\r\n",b=!1,e=0,r=k.length;e<r;e+=1)if(D[k[e]].length>0&&O(D[k[e]].join(),S,A[n])){for(U=!1,b=!0,m+="    "+w+k[e]+" &= ~(",g+="    "+w+k[e]+" &= ~(",i=D[k[e]].length-1;i>=0;i-=1)O(D[k[e]][i],S,A[n])&&(U&&(m+=" | ",g+=" | "),m+=p(I=D[k[e]][i].sliceAfterX(":")),g+=p(I),U=!0);for(m+=");\r\n",g+=");<br />",U=!1,m+="    "+w+k[e]+" |= (",g+="    "+w+k[e]+" |= (",i=D[k[e]].length-1;i>=0;i-=1)O(D[k[e]][i],S,A[n])&&(U&&(m+=" | ",g+=" | "),m+=I=D[k[e]][i].sliceAfterX(":"),g+=I,U=!0);m+=");\r\n",g+=");<br />"}for(m+="\r\n    return;\r\n}\r\n\r\n",b?d+=m:g+=A[n]+" did not generate modularized code!!<br />",m="void "+F+"_deinit_"+A[n].toLowerCase()+"(void)\r\n{\r\n",b=!1,e=0,r=k.length;e<r;e+=1)if(D[k[e]].length>0&&O(D[k[e]].join(),S,A[n])){for(U=!1,b=!0,m+="    "+w+k[e]+" &= ~(",i=D[k[e]].length-1;i>=0;i-=1)O(D[k[e]][i],S,A[n])&&(U&&(m+=" | "),m+=p(I=D[k[e]][i].sliceAfterX(":")),U=!0);m+=");\r\n"}m+="\r\n    return;\r\n}\r\n\r\n",b&&(d+=m)}for("undefined"==typeof NUTOOL_PER?d+="void "+F+"_init(void)\r\n{\r\n":d+="void Pin_Init(void)\r\n{\r\n",e=0,r=k.length;e<r;e+=1)d+="    //"+w+k[e]+" = 0x"+zi(Ge[k[e]]).toUpperCase()+"UL;\r\n";for(d+="\r\n",e=0,r=A.length;e<r;e+=1)d+="    "+F+"_init_"+A[e].toLowerCase()+"();\r\n";for(d+="\r\n    return;\r\n}\r\n\r\n","undefined"==typeof NUTOOL_PER?d+="void "+F+"_deinit(void)\r\n{\r\n":d+="void Pin_Deinit(void)\r\n{\r\n",e=0,r=A.length;e<r;e+=1)d+="    "+F+"_deinit_"+A[e].toLowerCase()+"();\r\n";for(d+="\r\n    return;\r\n}",c="",e=0,r=A.length;e<r;e+=1)c+="void "+F+"_init_"+A[e].toLowerCase()+"(void);\r\n",c+="void "+F+"_deinit_"+A[e].toLowerCase()+"(void);\r\n";for(_ in"undefined"==typeof NUTOOL_PER?(c+="void "+F+"_init(void);\r\n",c+="void "+F+"_deinit(void);\r\n"):(c+="void Pin_Init(void);\r\n",c+="void Pin_Deinit(void);\r\n"),T="/* User-defined pins */\r\n",Ve)Ve.hasOwnProperty(_)&&""!==Ve[_].trim()&&(ki((I=Ve[_].replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"_").toUpperCase()).charAt(0))&&(I="_"+I),T+="#define "+I+" "+_.replace(/[.]/g,"").replace(/\s/g,"_").replace(/[`~!@#$%^&*()|+\-=?;:'",<>\{\}\[\]\\\/]/gi,"_")+"\r\n");"/* User-defined pins */\r\n"===T&&(T=""),k=null,$=null,A=null,y=null,D=null,gpio_MFPsDefine=null}function zi(e,i){var n=Number(e).toString(16);for(i=null==i?i=8:i;n.length<i;)n="0"+n;return n}function Yi(){var e,i,n,t,s,a,d,c=[],f=[],g={},_=$("#mfpTree"),u=0;for(c=Qi(Ge),"KM1M7CF"!==l&&c.sort(),e=0,n=c.length;e<n;e+=1)u<c[e].length&&(u=c[e].length);for(e=0,n=c.length;e<n;e+=1){if(s={},a={},(d=c[e]).length<u)for(i=0,t=u-d.length;i<t;i+=1)d+=I;a.id=c[e],s.data=d+":0x"+zi(Ge[c[e]]),s.attr=a,f[e]=s}(a={}).id="mfp_tree",Ui(),g.data="Simplified Chinese"===Ne?"MFP寄存器":"Traditional Chinese"===Ne?"MFP暫存器":"MFP Registers",g.attr=a,g.state="open",g.children=f,se=18*Qi(Ge).length+20>ae/3?ae/3:18*Qi(Ge).length+20,0===_.length&&($("#rootTree_Pin")[0].appendChild(Zi("div","mfpTree","Loading...")),_=$("#mfpTree"),$("#ChipType").hover((function(){$(this).css("background-color","#FAFAFA"),Ji()}),(function(){$(this).css("background-color","#FFFFFF")})),$("#MCU").hover((function(){$(this).css("background-color","#FAFAFA"),Ji()}),(function(){$(this).css("background-color","#FFFFFF")}))),_[0].setAttribute("style","background-color: #FFFFFF; float:left; overflow-y: scroll; width:"+G+"px; height: "+se+"px; border-bottom: 5px solid #F2F2F2;"),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?ii?_.hover((function(){$(this).css("background-color","#FAFAFA"),Ji(),$("#pin_side_0").show(),$("#NUC_PinConfiguration_Canvas_Lining").hide()}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").hide(),$("#NUC_PinConfiguration_Canvas_Lining").show()})):_.hover((function(){$(this).css("background-color","#FAFAFA"),Ji(),$("#pin_side_0").css("opacity","0.8"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","0")}),(function(){$(this).css("background-color","#FFFFFF"),$("#pin_side_0").css("opacity","0.1"),$("#NUC_PinConfiguration_Canvas_Lining").css("opacity","1")})):_.hover((function(){$(this).css("background-color","#FAFAFA"),Ji()}),(function(){$(this).css("background-color","#FFFFFF")})),_.jstree({json_data:{data:g},themes:{theme:"default",icons:!1},core:{animation:0},plugins:["themes","json_data","ui","crrm"]}).bind("hover_node.jstree",(function(e,i){var n=i.rslt.obj.attr("id").slicePriorToX(":"),t="";r&&NUTOOL_PIN.g_cfg_regDescriptions.hasOwnProperty(n)&&(-1===NUTOOL_PIN.g_cfg_regDescriptions[n].indexOf("nonexistent")&&(t="Simplified Chinese"===Ne||"Traditional Chinese"===Ne?"位址: ":"Address: "),et(n,t+=NUTOOL_PIN.g_cfg_regDescriptions[n],"right"))})).bind("dblclick.jstree",(function(e){var i=$(e.target).closest("li")[0].id;"mfp_tree"!==i&&void 0===Ge.ALT_MFP&&"MINI55"!==l&&"NM1200"!==l&&_.jstree("rename",$("#"+i))})).bind("rename.jstree",(function(e,i){var n,t,r=i.rslt.obj.attr("id"),o=i.rslt.old_name,s=i.rslt.new_name;n=s,t=!1,"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().indexOf("p")&&4===n.toLowerCase().lastIndexOf("_mfp")&&8===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):"NM1500"===l||"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().indexOf("p")&&2===n.toLowerCase().lastIndexOf("_mfp")&&6===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("MUG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("CM1003")?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().lastIndexOf("p")&&2===n.toLowerCase().lastIndexOf("mf")&&12===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):0===l.indexOf("KM1M7CF")?(8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().lastIndexOf("iop")&&4===n.toLowerCase().lastIndexOf("md")||0===n.toLowerCase().lastIndexOf("fps")&&6===n.toLowerCase().lastIndexOf("_sel"))&&(t=!0):0===l.indexOf("KM1M7AF")||0===l.indexOf("KM1M7BF")||0===l.indexOf("KM1M4BF")||0===l.indexOf("KM1M0F")?8===n.slice(n.toLowerCase().indexOf("0x")+2).length&&0===n.toLowerCase().lastIndexOf("iop")&&4===n.toLowerCase().lastIndexOf("md")&&6===n.toLowerCase().lastIndexOf(":0x")&&(t=!0):8!==n.slice(n.toLowerCase().indexOf("0x")+2).length||0!==n.toLowerCase().lastIndexOf("gp")||3!==n.toLowerCase().lastIndexOf("_mfp")||7!==n.toLowerCase().lastIndexOf(":0x")&&8!==n.toLowerCase().lastIndexOf(":0x")||(t=!0),t?(Bi(o),s=Xi(s),Vi()):_.jstree("rename_node",$("#"+r),o)})).bind("destroy.jstree",(function(){e=null,i=null,n=null,t=null,c=[],f=[],s=null,g=null,a=null,_=null,u=null,d=null})),_.css("font-size","16px"),_.css("font-family",'Monaco, Consolas, "Lucida Console", monospace;')}function Vi(){var e,i,n,t,r,l=[],o=0;for(e=0,n=(l=Qi(Ge)).length;e<n;e+=1)o<l[e].length&&(o=l[e].length);for(e=0,n=l.length;e<n;e+=1){if((r=l[e]).length<o)for(i=0,t=o-r.length;i<t;i+=1)r+=I;$("#mfpTree").jstree("rename_node",$("#"+l[e]),r+":0x"+zi(Ge[l[e]]).toUpperCase())}e=null,n=null,l=[],o=null,r=null}function Zi(e,i,n,t){var r;return t?((r=document.createElement("input")).value=n,r.type=e):(r=document.createElement(e)).innerHTML=n,r.id=i,r}function Qi(e){var i,n=[],t=0;for(i in e)e.hasOwnProperty(i)&&(n[t]=i,t+=1);return t=null,n}function qi(){var e,i,n,t,r,s,a,d,c,f,g,_,u=[],N=[],O={};if(void 0!==NUTOOL_PIN.g_cfg_addGPIO&&void 0!==NUTOOL_PIN.g_cfg_addGPIO[o])for(u=Qi(O="function"==typeof NUTOOL_PIN.g_cfg_addGPIO[o]?NUTOOL_PIN.g_cfg_addGPIO[o]():NUTOOL_PIN.g_cfg_addGPIO[o]),e=0;e<u.length;e+=1)for(c=u[e]+":0",t=0,d=NUTOOL_PIN.g_cfg_gpios.length;t<d;t+=1)if(c===NUTOOL_PIN.g_cfg_gpios[t].f[0]){for(i=0,s=O[u[e]].length;i<s;i+=1)for(f=O[u[e]][i],n=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;n>=0;n-=1)if(c=NUTOOL_PIN.g_cfg_gpios[t].f[n],parseInt(c.slice(c.indexOf(":")+1),10)<parseInt(f.slice(f.indexOf(":")+1),10)){NUTOOL_PIN.g_cfg_gpios[t].f.splice(n+1,0,f);break}break}for(O={},void 0!==NUTOOL_PIN.g_cfg_unusedGPIO&&void 0!==NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]?O="function"==typeof NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]?NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]():NUTOOL_PIN.g_cfg_unusedGPIO[NUTOOL_PIN.g_packageNumberIndex]:void 0!==NUTOOL_PIN.g_cfg_unusedGPIO&&(void 0!==NUTOOL_PIN.g_cfg_unusedGPIO[o]?O="function"==typeof NUTOOL_PIN.g_cfg_unusedGPIO[o]?NUTOOL_PIN.g_cfg_unusedGPIO[o]():NUTOOL_PIN.g_cfg_unusedGPIO[o]:void 0!==NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")]&&(O="function"==typeof NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")]?NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")]():NUTOOL_PIN.g_cfg_unusedGPIO[o.slicePriorToX("(")])),u=Qi(O),e=0;e<u.length;e+=1)if("ALL"===u[e])for(t=0,d=NUTOOL_PIN.g_cfg_gpios.length;t<d;t+=1)for(i=0,s=O[u[e]].length;i<s;i+=1)for(f=O[u[e]][i].toUpperCase(),r=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;r>=0;r-=1)0===l.indexOf("MA35D0")||0===l.indexOf("MA35H0")?0===NUTOOL_PIN.g_cfg_gpios[t].f[r].toUpperCase().indexOf(f+"_")&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(r,1):0===NUTOOL_PIN.g_cfg_gpios[t].f[r].toUpperCase().indexOf(f)&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(r,1);else if("PARTIAL"===u[e])for(t=0,d=NUTOOL_PIN.g_cfg_gpios.length;t<d;t+=1)for(i=0,s=O[u[e]].length;i<s;i+=1)for(f=O[u[e]][i].toUpperCase(),r=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;r>=0;r-=1)NUTOOL_PIN.g_cfg_gpios[t].f[r].slicePriorToX(":").toUpperCase()===f&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(r,1);else for(c=u[e]+":0",t=0,d=NUTOOL_PIN.g_cfg_gpios.length;t<d;t+=1)if(c===NUTOOL_PIN.g_cfg_gpios[t].f[0]){for(i=0,s=O[u[e]].length;i<s;i+=1)for(f=O[u[e]][i].toUpperCase(),r=NUTOOL_PIN.g_cfg_gpios[t].f.length-1;r>=0;r-=1)0===NUTOOL_PIN.g_cfg_gpios[t].f[r].toUpperCase().indexOf(f)&&NUTOOL_PIN.g_cfg_gpios[t].f.splice(r,1);break}for(e=(N=Qi(NUTOOL_PIN.g_cfg_regDescriptions)).length-1;e>=0;e-=1)void 0===Ge[N[e]]&&delete NUTOOL_PIN.g_cfg_regDescriptions[N[e]];for(je=[],e=0;e<v;e+=1)for(c=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+":0",i=0,s=NUTOOL_PIN.g_cfg_gpios.length;i<s;i+=1)if(c===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,a=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<a;n+=1)-1!==(_=g=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":")).indexOf("_")&&(_=_.slicePriorToX("_")),_=Ri(_),void 0===je[_]?(je[_]=[],je[_][0]=e+1,Xe[_]=[],Xe[_][0]=g):(je[_].push(e+1),Xe[_].push(g));break}e=null,i=null,n=null,t=null,r=null,s=null,a=null,d=null,c=null,f=null,g=null,_=null,u=[],N=[],O=null}function Ji(){var e;for(e=0;e<$e.length;e+=1)$e[e].mouseLeave();e=null}function en(e,i){var n,t,r=e-1,l=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r];-1!==o.indexOf("SOP")?t=r-(n=Math.floor(r/v*2))*v/2:-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")||r<y?(n=0,t=r):r>=y&&r<y+D?(n=1,t=r-y):r>=y+D&&r<y+D+w?(n=2,t=r-y-D):r>=y+D+w&&r<v&&(n=3,t=r-y-D-w),$e[n].lastPinIndex=t,Si(l)||Ai(l)?$e[n].savedPinPadColor[t]=me:"savedPinPadColor"!==i&&($e[n].savedPinPadColor[t]=i),$e[n].mouseLeave()}function nn(e){var i=e.toString();return-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||("string"==typeof e&&(e=parseInt(e,10)),e-=1,i=NUTOOL_PIN.g_horizontalIndexArray[Math.floor(e/X)]+(e%X+1)),i}function tn(e){return void 0!==Ve[e]&&""!==Ve[e].trim()&&(e=Ve[e]),e}function rn(){var e,i,n,t={},r={init:function(i,n,t){var l,s,a;if(r.inner=i,r.stage=n[0],r.whichSide=t,r.pin=[],r.savedPinPadColor=[],r.savedPinName=[],r.x=[],r.y=[],r.currentPinIndex=-1,r.lastPinIndex=-1,ge.addEvent(r.stage,"click",r.pinClickHandler),ge.addEvent(r.stage,"mousemove",(function(e){r.mousePosition=r.getMousePos($("#NUC_PinConfiguration_Canvas")[0],e),r.decideWhichPin()})),$("html").hasClass("ie10+")&&ge.addEvent(r.stage,"dblclick",(function(){jn("userDefined")})),-1!==o.indexOf("SOP")){for(r.oneSidePinNumber=v/2,r.pin[0]=1+t*r.oneSidePinNumber,s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+t*v/2])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.savedPinPadColor[0]=s,r.x[0]=0,r.y[0]=0,l=1;l<r.oneSidePinNumber;l+=1)s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+t*v/2])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.pin[l]=l+1+t*r.oneSidePinNumber,r.savedPinPadColor[l]=s;for(l=0;l<r.oneSidePinNumber;l+=1)r.pin[l]<=v/2?(r.x[l]=ce-H,r.y[l]=fe+Z+(r.pin[l]-1)*(K+z)):(r.x[l]=ce+de/2,r.y[l]=fe+de-Z-K-(r.pin[l]-v/2-1)*(K+z));switch(t){case 0:r.w=H,r.h=K,r.stage.setAttribute("width",r.w+2*V),r.stage.setAttribute("height",r.h+r.y[r.oneSidePinNumber-1]-r.y[0]+2*V),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[0]-V)+"px; top:"+(r.y[0]-V)+"px;");break;case 1:r.w=H,r.h=K,r.stage.setAttribute("width",r.w+2*V),r.stage.setAttribute("height",r.h+r.y[0]-r.y[r.oneSidePinNumber-1]+2*V),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[r.oneSidePinNumber-1]-V)+"px; top:"+(r.y[r.oneSidePinNumber-1]-V)+"px;")}}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(r.oneSidePinNumber=v,r.w=0,r.pin[0]=1,s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.savedPinPadColor[0]=s,r.x[0]=0,r.y[0]=0,l=1;l<r.oneSidePinNumber;l+=1)s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.pin[l]=l+1,r.savedPinPadColor[l]=s;for(l=0;l<r.oneSidePinNumber;l+=1)r.x[l]=Z+W+Math.floor(l/X)*(2*W+z),r.y[l]=Z+W+(X-1-l%X)*(2*W+z);r.r=W,r.stage.setAttribute("width",de),r.stage.setAttribute("height",de),r.stage.setAttribute("style","z-index:2; opacity:0.1; filter:alpha(opacity=50); position:absolute; left:"+ce+"px; top:"+fe+"px;")}else{switch(t){default:case 0:for(r.oneSidePinNumber=y,r.pin[0]=1,s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.pin[l]=l+1,r.savedPinPadColor[l]=s;break;case 1:for(r.oneSidePinNumber=D,r.pin[0]=1+y,s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+y])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+y])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.pin[l]=l+1+y,r.savedPinPadColor[l]=s;break;case 2:for(r.oneSidePinNumber=w,r.pin[0]=1+y+D,s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+y+D])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+y+D])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.pin[l]=l+1+y+D,r.savedPinPadColor[l]=s;break;case 3:for(r.oneSidePinNumber=F,r.pin[0]=1+y+D+w,s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][0+y+D+w])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.savedPinPadColor[0]=s,l=1;l<r.oneSidePinNumber;l+=1)s=Si(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l+y+D+w])||Ai(a)?me:$i(a)?"#FFFFFF":be,r.pin[l]=l+1+y+D+w,r.savedPinPadColor[l]=s}for(r.x[0]=0,r.y[0]=0,l=0;l<r.oneSidePinNumber;l+=1)switch(t){default:case 0:e=Math.floor((E-y)/2),r.x[l]=ce+Z+(r.pin[l]-1+e)*(K+z)-Y,r.y[l]=fe+de;break;case 1:e=Math.floor((E-D)/2),r.x[l]=ce+de,r.y[l]=fe+de-Z-K-(r.pin[l]-y-1+e)*(K+z);break;case 2:e=Math.floor((E-w)/2),r.x[l]=ce+de-Z-K-(r.pin[l]-y-D-1+e)*(K+z)-Y,r.y[l]=fe-H+Y;break;case 3:e=Math.floor((E-F)/2),r.x[l]=ce-H,r.y[l]=fe+Z+(r.pin[l]-y-D-w-1+e)*(K+z)}switch(t){default:case 0:r.w=K,r.h=H,r.stage.setAttribute("width",r.w+r.x[r.oneSidePinNumber-1]-r.x[0]+2*V),r.stage.setAttribute("height",r.h+2*V),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[0]-V)+"px; top:"+(r.y[0]-V)+"px;");break;case 1:r.w=H,r.h=K,r.stage.setAttribute("width",r.w+2*V),r.stage.setAttribute("height",r.h+r.y[0]-r.y[r.oneSidePinNumber-1]+2*V),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[r.oneSidePinNumber-1]-V)+"px; top:"+(r.y[r.oneSidePinNumber-1]-V)+"px;");break;case 2:r.w=K,r.h=H,r.stage.setAttribute("width",r.w+r.x[0]-r.x[r.oneSidePinNumber-1]+2*V),r.stage.setAttribute("height",r.h+2*V),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[r.oneSidePinNumber-1]-V)+"px; top:"+(r.y[r.oneSidePinNumber-1]-V)+"px;");break;case 3:r.w=H,r.h=K,r.stage.setAttribute("width",r.w+2*V),r.stage.setAttribute("height",r.h+r.y[r.oneSidePinNumber-1]-r.y[0]+2*V),r.stage.setAttribute("style","z-index:1; position:absolute; left:"+(r.x[0]-V)+"px; top:"+(r.y[0]-V)+"px;")}}return r.ctx=ge.getContext(r.stage),s=null,a=null,r},draw:function(){var e,i,n,t;if(r.ctx.strokeStyle="#000000",-1!==o.indexOf("SOP"))switch(r.whichSide){case 0:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(Y+V,r.y[e]-r.y[0]+V,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(Y+V,r.y[e]-r.y[0]+V,r.w,r.h),-1!==(i=ve[r.pin[e]-1]).lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),!$i(i)&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(i,Y+V,r.y[e]-r.y[0]+V+4*K/5);break;case 1:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(Y+V,r.y[e]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(Y+V,r.y[e]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),!$i(i=(i=ve[r.pin[e]-1]).slicePriorToX("/"))&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(i,Y+V,r.y[e]-r.y[r.oneSidePinNumber-1]+V+4*K/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))for(e=0;e<r.oneSidePinNumber;e+=1)i=ve[r.pin[e]-1],r.savedPinName[e]=i,-1===i.toLowerCase().indexOf("toolnotshow")&&(r.ctx.beginPath(),r.ctx.arc(r.x[e],r.y[e],r.r,0,2*Math.PI,!0),r.ctx.strokeStyle="white",r.ctx.stroke(),r.ctx.strokeStyle="#000000",r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fill(),-1!==i.lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),i.length>6&&(i=i.slice(0,6)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(i,r.x[e]-r.ctx.measureText(i).width/2,r.y[e]+parseInt(r.ctx.font,10)/2));else switch(r.whichSide){case 0:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(r.x[e]-r.x[0]+V,Y+V,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(r.x[e]-r.x[0]+V,Y+V,r.w,r.h),-1!==(i=ve[r.pin[e]-1]).lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),!$i(i)&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",n=r.x[e]-r.x[0]+V,t=Y+V+H,r.ctx.save(),r.ctx.translate(n,t),r.ctx.rotate(-Math.PI/2),r.ctx.fillText(i,Y,4*K/5),r.ctx.restore();break;case 1:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(Y+V,r.y[e]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(Y+V,r.y[e]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),!$i(i=(i=ve[r.pin[e]-1]).slicePriorToX("/"))&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(i,Y+V,r.y[e]-r.y[r.oneSidePinNumber-1]+V+4*K/5);break;case 2:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(r.x[e]-r.x[r.oneSidePinNumber-1]+V,V,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(r.x[e]-r.x[r.oneSidePinNumber-1]+V,V,r.w,r.h),!$i(i=(i=ve[r.pin[e]-1]).slicePriorToX("/"))&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",n=r.x[e]-r.x[r.oneSidePinNumber-1]+V,t=V+H,r.ctx.save(),r.ctx.translate(n,t),r.ctx.rotate(-Math.PI/2),r.ctx.textAlign="end",r.ctx.fillText(i,H,4*K/5),r.ctx.restore();break;case 3:for(e=0;e<r.oneSidePinNumber;e+=1)r.ctx.strokeRect(Y+V,r.y[e]-r.y[0]+V,r.w,r.h),r.ctx.fillStyle=r.savedPinPadColor[e],r.ctx.fillRect(Y+V,r.y[e]-r.y[0]+V,r.w,r.h),-1!==(i=ve[r.pin[e]-1]).lastIndexOf("/")&&(i=i.slice(i.lastIndexOf("/")+1)),!$i(i)&&i.length>4&&(i=i.slice(0,4)+".."),r.savedPinName[e]=i,r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(i,Y+V,r.y[e]-r.y[0]+V+4*K/5)}i=null,n=null,t=null},restore:function(){ge.removeContext($("#"+r.inner)),r=null},getMousePos:function(e,i){var n=e.getBoundingClientRect();return{x:i.clientX-n.left,y:i.clientY-n.top}},decideWhichPin:function(){var e,i,n;if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))for(e=r.mousePosition.x-ce*Le/100,i=r.mousePosition.y-fe*Le/100,n=0;n<r.oneSidePinNumber;n+=1){if(e>=(r.x[n]-r.r)*Le/100&&e<=(r.x[n]+r.r)*Le/100&&i>=(r.y[n]-r.r)*Le/100&&i<=(r.y[n]+r.r)*Le/100){r.currentPinIndex=n;break}r.currentPinIndex=-1}else for(n=0;n<r.oneSidePinNumber;n+=1){if(e=r.x[n]*Le/100,r.mousePosition.x>=e&&r.mousePosition.x<=e+r.w*Le/100&&r.mousePosition.y>=r.y[n]*Le/100&&r.mousePosition.y<=(r.y[n]+r.h)*Le/100){r.currentPinIndex=n;break}r.currentPinIndex=-1}-1!==r.currentPinIndex?r.mouseEnter():r.mouseLeave()},mouseEnter:function(){var e,i,n,s,a,d,c,f,g,_,u,N;for(e=0,i=$e.length;e<i;e+=1)$e[e].lastPinIndex!==r.currentPinIndex&&$e[e].mouseLeave();if(r.currentPinIndex!==r.lastPinIndex){if(-1!==(u=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r.pin[r.currentPinIndex]-1]).toLowerCase().indexOf("toolnotshow"))return;if(n=r.lastPinIndex=r.currentPinIndex,r.ctx.strokeStyle="#000000",r.ctx.fillStyle=Ue,-1!==o.indexOf("SOP"))switch(r.whichSide){case 0:ii&&r.ctx.strokeRect(Y+V,r.y[n]-r.y[0]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[n]-r.y[0]+V,r.w,r.h),r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],Y+V,r.y[n]-r.y[0]+4*K/5+V);break;case 1:ii&&r.ctx.strokeRect(Y+V,r.y[n]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[n]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],Y+V,r.y[n]-r.y[r.oneSidePinNumber-1]+V+4*K/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))r.ctx.beginPath(),r.ctx.arc(r.x[n],r.y[n],r.r,0,2*Math.PI,!0),r.ctx.fill(),N=u=""!==we[n]?tn(we[n]):NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r.pin[r.currentPinIndex]-1],u.length>6&&(N=u.slice(0,6)+".."),r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(N,r.x[n]-r.ctx.measureText(N).width/2,r.y[n]+parseInt(r.ctx.font,10)/2);else switch(r.whichSide){case 0:ii&&r.ctx.strokeRect(r.x[n]-r.x[0]+V,Y+V,r.w,r.h),r.ctx.fillRect(r.x[n]-r.x[0]+V,Y+V,r.w,r.h),r.ctx.font=B,r.ctx.fillStyle="black",s=r.x[n]-r.x[0]+V,a=Y+V+H,r.ctx.save(),r.ctx.translate(s,a),r.ctx.rotate(-Math.PI/2),r.ctx.fillText(r.savedPinName[n],Y,4*K/5),r.ctx.restore();break;case 1:ii&&r.ctx.strokeRect(Y+V,r.y[n]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[n]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],Y+V,r.y[n]-r.y[r.oneSidePinNumber-1]+V+4*K/5);break;case 2:ii&&r.ctx.strokeRect(r.x[n]-r.x[r.oneSidePinNumber-1]+V,V,r.w,r.h),r.ctx.fillRect(r.x[n]-r.x[r.oneSidePinNumber-1]+V,V,r.w,r.h),r.ctx.font=B,r.ctx.fillStyle="black",s=r.x[n]-r.x[r.oneSidePinNumber-1]+V,a=V+H,r.ctx.save(),r.ctx.translate(s,a),r.ctx.rotate(-Math.PI/2),r.ctx.textAlign="end",r.ctx.fillText(r.savedPinName[n],H,4*K/5),r.ctx.restore();break;case 3:ii&&r.ctx.strokeRect(Y+V,r.y[n]-r.y[0]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[n]-r.y[0]+V,r.w,r.h),r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[n],Y+V,r.y[n]-r.y[0]+4*K/5+V)}(!$i(u)||Si(u)||Ai(u))&&(Ai(u)?d=function(e){return NUTOOL_PIN.g_cfg_wppin_comment&&NUTOOL_PIN.g_cfg_wppin_comment[e]&&""!==String(NUTOOL_PIN.g_cfg_wppin_comment[e])?NUTOOL_PIN.g_cfg_wppin_comment[e]:e}(u):$i(u)?Si(u)&&(0===l.indexOf("KM1M4BF0")?d="When NDMOD pin input is L level, SWDCLK would be selected. Configurable only when NDMOD pin input is H level.":0===l.indexOf("KM1M4BF5")?d="When SELSWD.SWDEN = 1, SWDCLK would be selected. Configurable only when SELSWD.SWDEN = 0.":0===l.indexOf("KM1M0D0F")?"P0.0"===u?d="When NDMOD pin input is L level, DBG_SWDD would be selected. Configurable only when NDMOD pin input is H level.":"P0.1"===u&&(d="When NDMOD pin input is L level, DBG_SWDCLK would be selected. Configurable only when NDMOD pin input is H level."):0===l.indexOf("KM1M0D1F")?"P0.1"===u?d="When NDMOD pin input is L level, DBG_SWDD would be selected. Configurable only when NDMOD pin input is H level.":"P0.2"===u&&(d="When NDMOD pin input is L level, DBG_SWDCLK would be selected. Configurable only when NDMOD pin input is H level."):0===l.indexOf("KM1M0GF")&&("P1.0"===u?d="When NDMOD pin input is L level, DBG_SWDD would be selected. Configurable only when NDMOD pin input is H level.":"P1.1"===u&&(d="When NDMOD pin input is L level, DBG_SWDCLK would be selected. Configurable only when NDMOD pin input is H level."))):d=u,"unknown"!==d&&(t.stage=$("#panel")[0].appendChild(Zi("canvas",r.inner+"_tooltip_pin")),-1===d.indexOf("/")||-1===d.indexOf("XT1_IN")&&-1===d.indexOf("XT1_OUT")&&-1===d.indexOf("XTAL1")&&-1===d.indexOf("XTAL2")||(-1!==d.indexOf("XTAL1")?d+=" (XTAL1":-1!==d.indexOf("XTAL2")?d+=" (XTAL2":-1!==d.indexOf("XT1_IN")?d+=" (XT1_IN":d+=" (XT1_OUT",d+="Simplified Chinese"===Ne?"由User Configuration决定。)":"Traditional Chinese"===Ne?"由User Configuration決定。)":" is decided by User Configuration.)"),ii?(t.w=r.ctx.measureText(d).width,t.h=K,g="12px Arial",_=t.h-4,-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?(c=(ce+r.x[r.currentPinIndex])*Le/100,f=(fe+r.y[r.currentPinIndex]+10)*Le/100):(c=(r.x[r.currentPinIndex]+r.w)*Le/100,f=r.y[r.currentPinIndex]*Le/100)):(Le<100?(t.w=r.ctx.measureText(d).width/Le*100,t.h=K/Le*100,g=12/Le*100+"px Times Arial",_=t.h-5/Le*100,c=r.x[r.currentPinIndex]+r.w,f=r.y[r.currentPinIndex]):(t.w=r.ctx.measureText(d).width,t.h=K,g="12px Arial",_=t.h-4,c=r.x[r.currentPinIndex]+r.w,f=r.y[r.currentPinIndex]),-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||(c+=ce,f+=fe+10)),t.stage.setAttribute("style","z-index:2; position:absolute; left:"+c+"px; top:"+f+"px;"),t.stage.setAttribute("width",t.w+3*ie),t.stage.setAttribute("height",t.h),t.ctx=ge.getContext(t.stage),t.ctx.font=g,t.ctx.strokeStyle="#000000",t.ctx.lineWidth=2,t.ctx.strokeRect(0,0,t.w+3*ie,t.h),t.ctx.fillStyle="#FFF6C0",t.ctx.fillRect(ne,ne,t.w+3*ie-2*ne,t.h-2*ne),t.ctx.fillStyle="#000000",t.ctx.fillText(d,ie,_),d=null))}},mouseLeave:function(){var e,t=r.lastPinIndex;if(-1!==r.lastPinIndex){if(r.ctx.strokeStyle="#000000",r.ctx.fillStyle=r.savedPinPadColor[t],-1!==o.indexOf("SOP"))switch(r.whichSide){case 0:ii&&r.ctx.strokeRect(Y+V,r.y[t]-r.y[0]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[t]-r.y[0]+V,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],Y+V,r.y[t]-r.y[0]+4*K/5+V);break;case 1:ii&&r.ctx.strokeRect(Y+V,r.y[t]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[t]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],Y+V,r.y[t]-r.y[r.oneSidePinNumber-1]+V+4*K/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA"))-1===(e=""!==we[t]?tn(we[t]):r.savedPinName[t]).toLowerCase().indexOf("toolnotshow")&&(r.ctx.beginPath(),r.ctx.arc(r.x[t],r.y[t],r.r,0,2*Math.PI,!0),r.ctx.fill(),e.length>6&&(e=e.slice(0,6)+".."),r.ctx.font=B,r.ctx.fillStyle="black",r.ctx.fillText(e,r.x[t]-r.ctx.measureText(e).width/2,r.y[t]+parseInt(r.ctx.font,10)/2));else switch(r.whichSide){case 0:ii&&r.ctx.strokeRect(r.x[t]-r.x[0]+V,Y+V,r.w,r.h),r.ctx.fillRect(r.x[t]-r.x[0]+V,Y+V,r.w,r.h),r.ctx.fillStyle="black",i=r.x[t]-r.x[0]+V,n=Y+V+H,r.ctx.save(),r.ctx.translate(i,n),r.ctx.rotate(-Math.PI/2),r.ctx.fillText(r.savedPinName[t],Y,4*K/5),r.ctx.restore();break;case 1:ii&&r.ctx.strokeRect(Y+V,r.y[t]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[t]-r.y[r.oneSidePinNumber-1]+V,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],Y+V,r.y[t]-r.y[r.oneSidePinNumber-1]+V+4*K/5);break;case 2:ii&&r.ctx.strokeRect(r.x[t]-r.x[r.oneSidePinNumber-1]+V,V,r.w,r.h),r.ctx.fillRect(r.x[t]-r.x[r.oneSidePinNumber-1]+V,V,r.w,r.h),r.ctx.fillStyle="black",i=r.x[t]-r.x[r.oneSidePinNumber-1]+V,n=V+H,r.ctx.save(),r.ctx.translate(i,n),r.ctx.rotate(-Math.PI/2),r.ctx.textAlign="end",r.ctx.fillText(r.savedPinName[t],H,4*K/5),r.ctx.restore();break;case 3:ii&&r.ctx.strokeRect(Y+V,r.y[t]-r.y[0]+V,r.w,r.h),r.ctx.fillRect(Y+V,r.y[t]-r.y[0]+V,r.w,r.h),r.ctx.fillStyle="black",r.ctx.fillText(r.savedPinName[t],Y+V,r.y[t]-r.y[0]+4*K/5+V)}r.lastPinIndex=-1,ge.removeContext($("#"+r.inner+"_tooltip_pin")),t=null}},pinClickHandler:function(){var i,n,t,s,a,d,c,f,g=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][r.pin[r.currentPinIndex]-1],_=[],u=0,N=ge.getContext($("#NUC_PinConfiguration_Canvas")[0]),O=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].indexOf(g)+1;if(-1!==r.currentPinIndex&&dt(O))ct();else if(-1!==r.currentPinIndex)if(ln(),"N9H30xxxIIM"!==l&&"N9H31KxxIFC"!==l||-1==g.indexOf("ADC")){if($i(g)){for(parseInt(g.sliceAfterX("."),10),s=ji(g+=":0",parseInt(g.sliceAfterX("."),10)),-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?(a=r.x[r.currentPinIndex]+ce,d=r.y[r.currentPinIndex]+fe+10):(a=r.x[r.currentPinIndex],d=r.y[r.currentPinIndex]),i=0,n=NUTOOL_PIN.g_cfg_gpios[s].f.length;i<n;i+=1)_[i]=NUTOOL_PIN.g_cfg_gpios[s].f[i].slicePriorToX(":"),N.measureText(_[i]).width>u&&(u=N.measureText(_[i]).width);for(_.push("Reset"),ze=[],i=0,n=_.length;i<n;i+=1){if(t=!ii&&Le>100?d+i*ee:d+i*ee/Le*100,f="#6495ED",i!==n-1&&_[i]===we[r.pin[r.currentPinIndex]-1]&&(f=($.inArray(r.pin[r.currentPinIndex],Ye),Ce)),-1!==l.indexOf("KM1M7CF")){p=Math.floor(i/10);ze[i]=on().init(r.pin[r.currentPinIndex],i.toString(),_[i],u,a+r.w+u*p/Le*100+3*ie*p,t-10*p*ee/Le*100,f,!0)}else ze[i]=on().init(r.pin[r.currentPinIndex],i.toString(),_[i],u,a+r.w,t,f,!0);c=(c=i.toString()).replaceSpecialCharacters(),$("#Pin_MultiFunction_Selection_"+c).hover(ze[i].mouseEnter,ze[i].mouseLeave),ze[i].draw()}}}else{switch(parseInt(g.sliceAfterX("."),10),s=ji(g+=":0",parseInt(g.sliceAfterX("."),10)),a=r.x[r.currentPinIndex],d=r.y[r.currentPinIndex],u=60,g.slicePriorToX(":")){case"ADC3":_.push("VSENSE");break;case"ADC4":_.push("YM");break;case"ADC5":_.push("YP");break;case"ADC6":_.push("XM");break;case"ADC7":_.push("XP")}for(_.push("Reset"),ze=[],i=0,n=_.length;i<n;i+=1){if(t=!ii&&Le>100?d+i*ee:d+i*ee/Le*100,f="#6495ED",i!==n-1&&_[i]===we[r.pin[r.currentPinIndex]-1]&&(f=($.inArray(r.pin[r.currentPinIndex],Ye),Ce)),-1!==l.indexOf("KM1M7CF")){var p=Math.floor(i/10);ze[i]=on().init(r.pin[r.currentPinIndex],i.toString(),_[i],u,a+r.w+u*p/Le*100+3*ie*p,t-10*p*ee/Le*100,f,!0)}else ze[i]=on().init(r.pin[r.currentPinIndex],i.toString(),_[i],u,a+r.w,t,f,!0);c=(c=i.toString()).replaceSpecialCharacters(),$("#Pin_MultiFunction_Selection_"+c).hover(ze[i].mouseEnter,ze[i].mouseLeave),ze[i].draw()}}g=null,_=[],u=null,N=null,t=null,s=null,e=null,a=null,d=null,c=null,f=null}};return r}function ln(){var e,i;for(e=0,i=ze.length;e<i;e+=1)ze[e].restore();ze=[]}function on(){var e={},i={init:function(e,n,t,r,l,o,s,a){var d,c,f;return i.pin=e,i.label=t,i.color=s,i.inner="Pin_MultiFunction_Selection_"+n,i.stage=$("#panel")[0].appendChild(Zi("canvas",i.inner)),ii?(i.w=r,i.h=ee,d=l*Le/100,c=o*Le/100,f="12px Arial",i.textYposition=14):(d=l,c=o,Le<100?(i.w=r/Le*100,i.h=ee/Le*100,f=12/Le*100+"px Times Arial",i.textYposition=14/Le*100):(i.w=r,i.h=ee,f="12px Arial",i.textYposition=14)),i.positionX=d,i.positionY=c,i.stage.setAttribute("width",i.w+3*ie),i.stage.setAttribute("height",i.h),L||i.stage.setAttribute("innerText",t),i.stage.setAttribute("style","z-index:2; position:absolute; left:"+d+"px; top:"+c+"px;"),i.ctx=ge.getContext(i.stage),i.ctx.font=f,i.bInstallClickListener=a,a&&ge.addEvent(i.stage,"click",i.pinMultiFunctionSelectionsClickHandler),d=null,c=null,f=null,i},mouseEnter:function(){var n,t,s,a;if(i.ctx.fillStyle="#B0C4DE",i.ctx.fillRect(ne,ne,i.w+3*ie-2*ne,i.h-2*ne),i.ctx.fillStyle="#000000",i.ctx.fillText(i.label,ie,i.textYposition),r&&NUTOOL_PIN.g_cfg_gpiosDescriptions.length>0&&"Reset"!==i.label&&("MA35D0"===l||"MA35D1"===l||"MA35H0"===l||!$i(i.label))&&"unknown"!==(s=an(i.label,i.pin))){for(e.stage=$("#panel")[0].appendChild(Zi("canvas",i.inner+"_tooltip")),a=s.split("<br >"),e.w=0,n=0,t=a.length;n<t;n++)i.ctx.measureText(a[n]).width>e.w&&(e.w=i.ctx.measureText(a[n]).width);for(-1!==o.indexOf("SOP")||-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?i.pin>v/2?e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX-e.w-3*ie-ne)+"px; top:"+i.positionY+"px;"):e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX+i.w+3*ie+ne)+"px; top:"+i.positionY+"px;"):i.pin>y/2&&i.pin<=y+D+w/2?e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX-e.w-3*ie-ne)+"px; top:"+i.positionY+"px;"):e.stage.setAttribute("style","z-index:2; position:absolute; left:"+(i.positionX+i.w+3*ie+ne)+"px; top:"+i.positionY+"px;"),e.stage.setAttribute("width",e.w+3*ie),e.stage.setAttribute("height",i.h*a.length),L||e.stage.setAttribute("innerText",s),e.ctx=ge.getContext(e.stage),e.ctx.font=i.ctx.font,e.ctx.strokeStyle="#000000",e.ctx.lineWidth=2,e.ctx.strokeRect(0,0,e.w+3*ie,i.h*a.length),e.ctx.fillStyle="#FFF6C0",e.ctx.fillRect(ne,ne,e.w+3*ie-2*ne,i.h*a.length-2*ne),e.ctx.fillStyle="#000000",n=0,t=a.length;n<t;n++)e.ctx.fillText(a[n],ie,i.textYposition+n*i.h);s=null}},mouseLeave:function(){i.ctx.fillStyle=i.color,i.ctx.fillRect(ne,ne,i.w+3*ie-2*ne,i.h-2*ne),i.ctx.fillStyle="#000000",i.ctx.fillText(i.label,ie,i.textYposition),ge.removeContext($("#"+i.inner+"_tooltip"))},draw:function(){i.ctx.strokeStyle="#000000",i.ctx.strokeRect(0,0,i.w+3*ie,i.h),i.ctx.fillStyle=i.color,i.ctx.fillRect(ne,ne,i.w+3*ie-2*ne,i.h-2*ne),i.ctx.fillStyle="#000000",i.ctx.fillText(i.label,ie,i.textYposition)},restore:function(){ge.removeContext($("#"+i.inner+"_tooltip")),ge.removeContext($("#"+i.inner)),On(),i=null},pinMultiFunctionSelectionsClickHandler:function(){var e,n,t,r,l,o,s,a;if(Ji(),"Reset"===i.label){if(0!==Ye.length)for(e=0,n=Ye.length;e<n;e+=1)Ye[e]===i.pin&&Ye.splice(e,1);if(t=(t=we[i.pin-1]+"_Pin"+i.pin).replaceSpecialCharacters(),$("#moduleTree").jstree("uncheck_node",$("#"+t)),!$("#"+t).hasClass("jstree-unchecked")){if(l=Ri(t.slicePriorToX("_")),(o=[])[0]=i.pin,Oi(t,l,o),Vi(),void 0!==He[l]){for(e=0,n=He[l].length;e<n;e+=1)if(He[l][e]===t){He[l][e]="";break}for(e=0,n=He[l].length;e<n&&""===He[l][e];e+=1)e===n-1&&$("#"+l+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}l=null,o=[]}en(i.pin,"#FFFFFF"),ln()}else{if(s=!1,t=i.label+"_Pin"+i.pin,-1!==$.inArray(t.restorePinTreeNodeName()+"_Intermediate",Ae))for(e=0,n=Se.length;e<n;e+=1)if(Se[e].restorePinTreeNodeName()===t.restorePinTreeNodeName()&&Se[e]!==t&&(!0===$("#"+Se[e]).hasClass("jstree-checked")||0===we[parseInt(Se[e].slice(Se[e].indexOf("_Pin")+4),10)-1].replaceSpecialCharacters().indexOf(Se[e].restorePinTreeNodeName()))){s=!0,a=Se[e].slice(Se[e].indexOf("_Pin")+4);break}s?(-1!==(r=Ri(i.label)).indexOf("_")&&(r=r.slicePriorToX("_")),void 0!==i.pin&&null!==i.pin&&function(e,i,n){var t,r,l,o;$("#rootTree_Pin").is(":visible")&&(Ui(),"Simplified Chinese"===Ne?(t="通知",r="预期的"+i+"已被第"+n+"脚位设置。请问你要取消旧的且改设置到现在的脚位吗?",l="要",o="不要"):"Traditional Chinese"===Ne?(t="通知",r="預期的"+i+"已被第"+n+"腳位設置。請問你要取消舊的且改設置到現在的腳位嗎?",l="要",o="不要"):(t="Notice",r="The expected "+i+" has been configured by the pin"+n+". Would you like to cancel the old one and configure to the current pin?",l="Yes",o="No"),On(),$('<div id="noticeForMultipleSelectionsDialog"><p>'+r+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#noticeForMultipleSelectionsDialog").dialog("destroy")},buttons:[{text:l,click:function(){e(),$("#noticeForMultipleSelectionsDialog").dialog("isOpen")&&$("#noticeForMultipleSelectionsDialog").dialog("destroy")}},{text:o,click:function(){ln(),$("#noticeForMultipleSelectionsDialog").dialog("isOpen")&&$("#noticeForMultipleSelectionsDialog").dialog("destroy")}}]}));t=null,r=null,l=null,o=null}((function(){sn(r,i.pin,i.label)}),i.label,nn(a))):sn(Ri(t.slicePriorToX("_")),i.pin,i.label),s=null,a=null}t=null}};return i}function sn(e,i,n){var t,r,l,o,s=$("#moduleTree"),a=we[i-1]+"_Pin"+i,d=[];if(a=a.replaceSpecialCharacters(),s.jstree("uncheck_node",$("#"+a)),!$("#"+a).hasClass("jstree-unchecked")){if(l=Ri(a.slicePriorToX("_")),(o=[])[0]=i,Oi(a,l,o),void 0!==He[l]){for(t=0,r=He[l].length;t<r;t+=1)if(He[l][t]===a){He[l][t]="";break}for(t=0,r=He[l].length;t<r&&""===He[l][t];t+=1)t===r-1&&$("#"+l+"_Root").removeClass("jstree-undetermined").addClass("jstree-unchecked")}l=null,o=[]}a=(a=n+"_Pin"+i).replaceSpecialCharacters(),s.jstree("check_node",$("#"+a)),$("#"+a).hasClass("jstree-checked")||(s.jstree("open_node",$("#"+e+"_Root")),s.jstree("open_node",$("#"+n+"_Intermediate")),s.jstree("check_node",$("#"+a))),en(i,Ce),void 0===Ye?Ye[0]=i:Ye.push(i),ln(),e=e.replaceSpecialCharacters(),n=n.replaceSpecialCharacters(),s.jstree("close_all"),s.jstree("open_node",$("#"+e+"_Root")),s.jstree("open_node",$("#"+n+"_Intermediate")),(d=Qi(je)).sort(),s.scrollTop(18*$.inArray(e,d)),t=null,r=null,a=null,s=null,d=[]}function an(e,i){var n,t,r="",l="",o=!1,s=!1;for(n=0,t=NUTOOL_PIN.g_cfg_gpiosDescriptions.length;n<t;n+=1)if(l=r=NUTOOL_PIN.g_cfg_gpiosDescriptions[n].replace("Note:","<br >Note:"),s=!1,-1!==r.indexOf("@")&&(l=l.slice(l.indexOf("@")+1,l.indexOf(":")),s=!0),!(0!==r.indexOf(e+":")&&0!==r.indexOf(e+"@")||s&&l!==NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i-1])){o=!0;break}return n=null,t=null,r=o?r.slice(r.indexOf(":")+1):"unknown"}function dn(){je=[],ye=[],Ge=[],Re=[],De=[],we=[],ve=[],Ye=[],void 0!==Ri.specialModuleNames&&delete Ri.specialModuleNames,si(),ln(),$("#panel").unbind("mouseenter mouseleave"),ge.removeContext($("#NUC_PinConfiguration_Canvas")),ge.removeContext($("#NUC_PinConfiguration_Canvas_Lining")),$("#mfpTree").jstree("destroy"),$("#supportedModules").jstree("destroy"),$("#moduleTree").jstree("destroy"),$("#mfpTree").remove(),$("#supportedModules").remove(),$("#moduleTree").remove(),$("div").remove(".tooltip")}function cn(){var e,i,n=$("#MCUselect"),r={},s=[],a=!1;for(n.children().length>0&&n.children().remove(),e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)try{s.push(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")")}catch(e){}for(s.sort(di),e=0,i=s.length;e<i;e+=1)(r=document.createElement("option")).id=r.innerHTML=r.value=s[e],n[0].appendChild(r);for(e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")"===o){a=!0;break}if(a)if(ri){for(e=0,i=NUTOOL_PIN.g_cfg_chips.length;e<i;e+=1)if(NUTOOL_PIN.g_cfg_chips[e].name===U){U=NUTOOL_PIN.g_cfg_chips[e].name+"("+NUTOOL_PIN.g_cfg_chips[e].pkg+")";break}n.val(U).change()}else n.val(o);else n.val($("#MCUselect option:first-child").val()).change();$("#ChipTypeSelect").val(Gi(l)),n.on("change",(function(){t!==$(this).val()&&(t=$(this).val(),setTimeout(fn,0))})),e=null,i=null,s=[],r=null,a=null,n=null}function fn(){if(Pi(),t!==o){try{window.external.updateCurrentDialogSize()}catch(e){}Nn("NUC_"+l+"_Content.js","NUC_"+(l=wi(t))+"_Content.js","js",gn)}}function gn(){dn(),o=t,NUTOOL_PIN.decidepackageNumber(),Ci(),ni=!1,NUTOOL_PIN.g_bSwitchSpeech8bitCPUMode&&tt(),Be=[],Fe=[],Ve={},s=null,_n(),Le=100,Pn(),On()}function _n(){Fi(),"undefined"==typeof NUTOOL_PER&&cn(),qi(),vi(),Yi(),ci(),ai(),yi()}function un(e,i){var n;return"js"===i?((n=document.createElement("script")).setAttribute("type","text/javascript"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("src",e):n.setAttribute("src",`./src/${e}`)):"css"===i&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),"undefined"!=typeof NUTOOL_PER?n.setAttribute("href",e):n.setAttribute("href",`./src/${e}`)),n}function Nn(e,i,n,t){var r,l,o,s="js"===n?"script":"css"===n?"link":"none",a="js"===n?"src":"css"===n?"href":"none",d=window.document.getElementsByTagName(s),c="NUC_Reset_Content.js";for("undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="PinConfigure/"+e,c="PinConfigure/"+c),l=un(c,n),r=d.length;r>=0;r-=1)d[r]&&null!==d[r].getAttribute(a)&&(d[r].getAttribute(a)===e||d[r].getAttribute(a)===c)&&d[r].parentNode.removeChild(d[r]);for(d[0].parentNode.appendChild(l),"undefined"!=typeof NUTOOL_PER&&"js"===n&&(e="PinConfigure/"+e,i="PinConfigure/"+i),"PeripheralConfigure/"!==i&&(o=un(i,n),"function"==typeof t&&(o.onload=function(){t()})),!L&&window.console&&window.console.log("In replacejscssfile, oldfilename:"+e+" / newfilename:"+i),r=d.length;r>=0;r-=1)d[r]&&null!==d[r].getAttribute(a)&&(d[r].getAttribute(a)===e||d[r].getAttribute(a)===i)&&d[r].parentNode.removeChild(d[r]);d[0].parentNode.appendChild(o)}function On(){$("#conflictDialog").dialog("isOpen")&&$("#conflictDialog").dialog("destroy"),$("#adjustedModulesDialog").dialog("isOpen")&&$("#adjustedModulesDialog").dialog("destroy"),$("#warningForSavingDialog").dialog("isOpen")&&$("#warningForSavingDialog").dialog("destroy"),$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy"),$("#noticeForMultipleSelectionsDialog").dialog("isOpen")&&$("#noticeForMultipleSelectionsDialog").dialog("destroy"),$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy"),$("#printReportDialog").dialog("isOpen")&&$("#printReportDialog").dialog("destroy"),$("#runAnotherToolDialog").dialog("isOpen")&&$("#runAnotherToolDialog").dialog("destroy"),$("#connectToTargetDialog").dialog("isOpen")&&$("#connectToTargetDialog").dialog("destroy"),$("#languageDialog").dialog("isOpen")&&$("#languageDialog").dialog("destroy")}function pn(){var e,i,n,t,r,l,o=ge.getContext($("#NUC_PinConfiguration_Canvas")[0]),s=0;"Simplified Chinese"===Ne?(n="被用户配置",t="悬停工具提示",r="滑鼠焦点",l="非可配置的","双击用户定义",o.font="12px 新細明體"):"Traditional Chinese"===Ne?(n="被使用者配置",t="懸停工具提示",r="滑鼠焦點",l="非可配置的","雙擊用戶定義",o.font="12px 新細明體"):(n="Configured by User",t="Tooltip on Hover",r="Focused by Mouse",l="Not Configurable","Dblclicked for UserDefined",o.font=B),o.strokeStyle="black",e=ce-Pe-H-Me,i=fe-Te-(s+=1)*(K+Ie),o.strokeRect(e,i,H,K),o.fillStyle=Ce,o.fillRect(e,i,H,K),o.fillStyle="black",o.fillText(n,e+H+3,i+4*K/5),e=ce-Pe-H-Me,i=fe-Te-(s+=1)*(K+Ie),o.strokeRect(e,i,H,K),o.fillStyle=me,o.fillRect(e,i,H,K),o.fillStyle="black",o.fillText(t,e+H+3,i+4*K/5),e=ce-Pe-H-Me,i=fe-Te-(s+=1)*(K+Ie),o.strokeRect(e,i,H,K),o.fillStyle=Ue,o.fillRect(e,i,H,K),o.fillStyle="black",o.fillText(r,e+H+3,i+4*K/5),e=ce-Pe-H-Me,i=fe-Te-(s+=1)*(K+Ie),o.strokeRect(e,i,H,K),o.fillStyle=be,o.fillRect(e,i,H,K),o.fillStyle="black",o.fillText(l,e+H+3,i+4*K/5)}function hn(e,i,n){var t,r,o,s,a,d;for(i=i.restorePinTreeNodeName().restoreSpecialCharacters(),d=(a=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",t=0,o=NUTOOL_PIN.g_cfg_gpios.length;t<o;t+=1)if(d===NUTOOL_PIN.g_cfg_gpios[t].f[0]){for(r=0,s=NUTOOL_PIN.g_cfg_gpios[t].f.length;r<s;r+=1)if(void 0===n||!1===n)if("AD"!==i){if(0===NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf(i)){if(Ei(a,NUTOOL_PIN.g_cfg_gpios[t].f[r].slice(NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf(":")+1)),-1!==l.indexOf("KM1M7CF")){for(k=0,o=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;k<o;k+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].indexOf(a)){c=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].sliceAfterX(":");break}null!=c&&(Ge[c+"_SEL"]=0)}break}}else{if(0!==NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf("ADC")&&0===NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf(i)){Ei(a,NUTOOL_PIN.g_cfg_gpios[t].f[r].slice(NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf(":")+1));break}if(l.startsWith("KM1M0")&&0===NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf("AN")){Ei(a,NUTOOL_PIN.g_cfg_gpios[t].f[r].slice(NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf(":")+1));break}}else if((d=(d=NUTOOL_PIN.g_cfg_gpios[t].f[r]).slicePriorToX(":"))===i){if(Ei(a,NUTOOL_PIN.g_cfg_gpios[t].f[r].slice(NUTOOL_PIN.g_cfg_gpios[t].f[r].indexOf(":")+1)),-1!==l.indexOf("KM1M7CF")){var c,f;for(k=0,o=NUTOOL_PIN.g_cfg_gpios_FPS_mapping.length;k<o;k+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].indexOf(a)){c=NUTOOL_PIN.g_cfg_gpios_FPS_mapping[k].sliceAfterX(":");break}if(null!=c){for(m=0,o=NUTOOL_PIN.g_cfg_gpios_FPS_value.length;m<o;m+=1)if(-1!==NUTOOL_PIN.g_cfg_gpios_FPS_value[m].indexOf(i)){f=NUTOOL_PIN.g_cfg_gpios_FPS_value[m].sliceAfterX(":");break}Ge[c+"_SEL"]=null!=f?f>>>0:0}}break}break}-1!==l.indexOf("KM1M4BF5")&&(0!=we.filter((function(e){return/DBG_SWDD/.test(e)})).length||0!=we.filter((function(e){return/DBG_SWDCLK/.test(e)})).length?Ge.SELSWD=1:Ge.SELSWD=0),t=null,r=null,o=null,s=null,a=null,d=null}function xn(){vi(),"none"===$("#mfpTree").css("display")?$("#moduleTree").height(ae-$("#supportedModules").height()):($("#mfpTree").height(se),$("#moduleTree").height(ae-$("#ChipType").height()-$("#MCU").height()-se-6-$("#supportedModules").height())),ai(),function(){var e,i,n,t,r=[];for(e=0,i=(r=Qi(we)).length;e<i;e+=1)n=r[e],""!==(t=we[n])&&(pi(n=parseInt(n,10),t,!1),en(n+1,Ce));for(e=0,i=Ye.length;e<i;e+=1)en(n=Ye[e],Ce);r=[],n=null,t=null,e=null,i=null}()}function Pn(){var e=$("#panel");ii?(e.find("canvas").css("zoom"," "+Le+"%"),e.width(le-G-8),e.height(window.innerHeight-R-8),$("#NUC_PinConfiguration_Canvas").width(te*Le/100),$("#NUC_PinConfiguration_Canvas").height(re*Le/100),$("#NUC_PinConfiguration_Canvas_Lining").width(te*Le/100),$("#NUC_PinConfiguration_Canvas_Lining").height(re*Le/100),-1!==o.indexOf("SOP")?($("#pin_side_0").width(($e[0].w+2*V)*Le/100),$("#pin_side_0").height(($e[0].h+$e[0].y[$e[0].oneSidePinNumber-1]-$e[0].y[0]+2*V)*Le/100),$("#pin_side_1").width(($e[1].w+2*V)*Le/100),$("#pin_side_1").height(($e[1].h+$e[1].y[0]-$e[1].y[$e[1].oneSidePinNumber-1]+2*V)*Le/100)):-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")?($("#pin_side_0").width(de*Le/100),$("#pin_side_0").height(de*Le/100)):($("#pin_side_0").width(($e[0].w+$e[0].x[$e[0].oneSidePinNumber-1]-$e[0].x[0]+2*V)*Le/100),$("#pin_side_0").height(($e[0].h+2*V)*Le/100),$("#pin_side_1").width(($e[1].w+2*V)*Le/100),$("#pin_side_1").height(($e[1].h+$e[1].y[0]-$e[1].y[$e[1].oneSidePinNumber-1]+2*V)*Le/100),$("#pin_side_2").width(($e[2].w+$e[2].x[0]-$e[2].x[$e[2].oneSidePinNumber-1]+2*V)*Le/100),$("#pin_side_2").height(($e[2].h+2*V)*Le/100),$("#pin_side_3").width(($e[3].w+2*V)*Le/100),$("#pin_side_3").height(($e[3].h+$e[3].y[$e[3].oneSidePinNumber-1]-$e[3].y[0]+2*V)*Le/100)),e.css("border","3px solid white")):($("#parentOfPanel").css("zoom"," "+Le+"%"),e.width((window.innerWidth-G-8)/Le*100),e.height((window.innerHeight-R-8)/Le*100),e.css({position:"absolute",left:G/Le*100+"px"})),ln(),e=null}function Tn(){le=window.innerWidth,oe=window.innerHeight,ae=oe-10,se=18*Qi(Ge).length+20>ae/3?ae/3:18*Qi(Ge).length+20,$("#panel").width(le-G-8),$("#panel").height(window.innerHeight-R-8-45),"none"===$("#mfpTree").css("display")?$("#moduleTree").height(ae-$("#supportedModules").height()-45):($("#mfpTree").height(se),$("#moduleTree").height(ae-$("#ChipType").height()-$("#MCU").height()-se-6-$("#supportedModules").height()-45)),Le=100,Pn(),recordedDialogSize=null}function Mn(){for(var e,i,n,t,r,l,o,s=[],a=0;ye.length>0&&a<1e3;)for(a+=1,e=parseInt(ye[0].slicePriorToX(":"),10),i=ve[e-1],r=-1,l=0,o=De[e-1];r!==l;)r=i.indexOf(o),l=i.lastIndexOf(o),n=Ri((t=(t=i.slice(r).slicePriorToX("/")+"_Pin"+e).replaceSpecialCharacters()).slicePriorToX("_")),s[0]=e,Oi(t,n,s),$("#"+t).removeClass("jstree-checked"),$("#"+t).addClass("jstree-unchecked"),$("#"+n+"_Root").removeClass("jstree-undetermined"),$("#"+n+"_Root").removeClass("jstree-checked"),$("#"+n+"_Root").addClass("jstree-unchecked"),i=i.slice(r+1);Vi(),$("#moduleTree").find("li").each((function(e,i){$("#"+$(i).attr("id")+" >a").css("color","black")})),$("#moduleTree").jstree("close_all"),ye=[],s=[],He=[],We=[],e=null,i=null,n=null,t=null,r=null,l=null,o=null,a=null}function In(e){var i,n,t,r,l,o,s,a,d,c,f,g,_,u,N,O,p,h,x,P,T,M,I,C,m,U=[],b="",L=[],k=!0;if(0!==NUTOOL_PIN.g_cfg_shareBits.length){for(void 0===(d=localStorage.getItem("UIlanguage"))||null==d?(M=" or ",I=" should be ",C=".",m="(configure it again)"):"Simplified Chinese"===d?(M="或",I="应为",C="。",m="(再次配置它)"):"Traditional Chinese"===d?(M="或",I="應為",C="。",m="(再次配置它)"):(M=" or ",I=" should be ",C=".",m="(configure it again)"),i=0,l=NUTOOL_PIN.g_cfg_shareBits.length;i<l;i+=1)for(O=NUTOOL_PIN.g_cfg_shareBits[i],n=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;n<o;n+=1){for(_=-1,t=1,s=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<s;t+=1)if(-1!==NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].indexOf(O)){u=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[0],_=$.inArray(u,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex]);break}if(-1!==_&&-1===$.inArray(_,U)){for(U.push(_),f=0,t=1,s=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<s;t+=1)x=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],c=1<<(T=parseInt(x.slice(x.indexOf("[")+1,x.indexOf("]")),10))>>>0,P=x.slicePriorToX("["),f+=((Ge[P]&c)>>>T)*Math.pow(2,t-1);for(N=we[_],g=0,p=ji(u,parseInt(u.sliceAfterX("."),10)),t=1,s=NUTOOL_PIN.g_cfg_gpios[p].f.length;t<s;t+=1)if(0===NUTOOL_PIN.g_cfg_gpios[p].f[t].indexOf(N+":")){g=NUTOOL_PIN.g_cfg_gpios[p].f[t],g=parseInt(g.slice(g.indexOf(":")+1),10);break}if(""===N&&(N=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][_]),f!==g){for(k=!1,L=[],t=1,s=NUTOOL_PIN.g_cfg_gpioMatrix[n].f.length;t<s;t+=1)if(-1!==$.inArray(NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t].slicePriorToX(":"),NUTOOL_PIN.g_cfg_shareBits)&&(x=NUTOOL_PIN.g_cfg_gpioMatrix[n].f[t],c=1<<(T=parseInt(x.slice(x.indexOf("[")+1,x.indexOf("]")),10))>>>0,P=x.slicePriorToX("["),Ge[P]&c))for(c=1<<t-1>>>0,r=1,a=NUTOOL_PIN.g_cfg_gpios[p].f.length;r<a;r+=1)g=NUTOOL_PIN.g_cfg_gpios[p].f[r],(g=parseInt(g.slice(g.indexOf(":")+1),10))&c&&(0===NUTOOL_PIN.g_cfg_gpios[p].f[r].indexOf(N)?L.push(N+m):L.push(NUTOOL_PIN.g_cfg_gpios[p].f[r]));for(0===L.length&&L.push(NUTOOL_PIN.g_cfg_gpios[p].f[0].slicePriorToX(":")),h="",t=0,s=L.length;t<s;t+=1)0!==t&&t===s-1?h+=M:0!==t&&(h+=", "),h+=L[t].slicePriorToX(":"),t===s-1&&(h+=C);b=b+N+"(Pin"+(_+1)+")"+I+h+" <br />"}}}k||e("shareBit",b)}return void 0!==Xe.USB&&-1!==(h=we.join()).indexOf("USB_D+")&&-1!==h.indexOf("USB_D-")&&-1===h.indexOf("USB_OTG_ID")&&(k=!1,e("USB_OTG_ID",b)),k}function Cn(e,i){var n,t,r,l=localStorage.getItem("UIlanguage");if("shareBit"===e)void 0===l||null==l?(n="Shared Bits Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />Unless they are all fixed, the operations of saving configuration, generating code and printing report will not be permitted.",r="Confirm"):"Simplified Chinese"===l?(n="共享位元错误",t="一些寄存器位元可能被复数个多功能给设置。这些位元称之为共享位元。下面共享位元与多功能组成的对应关系会是不正确的。<br /><br />"+i+"<br />除非它们都被修正，否则存档丶产生程式码及印出报告这些操作将不被允许。",r="确定"):"Traditional Chinese"===l?(n="共享位元錯誤",t="一些暫存器位元可能被複數個多功能給設置。這些位元稱之為共享位元。下面共享位元與多功能組成的對應關係會是不正確的。<br /><br />"+i+"<br />除非它們都被修正，否則存檔、產生程式碼及印出報告這些操作將不被允許。",r="確定"):(n="Shared Bits Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />Unless they are all fixed, the operations of saving configuration, generating code and printing report will not be permitted.",r="Confirm");else{if("USB_OTG_ID"!==e)return;void 0===l||null==l?(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",r="Confirm"):"Simplified Chinese"===l?(n="不正确的USB设置",t="当USB开启时，USB_OTG_ID必须被设置。",r="确定"):"Traditional Chinese"===l?(n="不正確的USB設置",t="當USB開啟時，USB_OTG_ID必須被設置。",r="確定"):(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",r="Confirm")}On(),$('<div id="showPinErrorDialog"><p>'+t+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:n,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#showPinErrorDialog").dialog("destroy")},buttons:[{text:r,click:function(){$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy")}}]}),n=null,t=null,r=null,l=null}function mn(e,i){var n,t,r,l,o=localStorage.getItem("UIlanguage");if("shareBit"===e)void 0===o||null==o?(n="Shared Bit Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",r="Close",l="Fix"):"Simplified Chinese"===o?(n="共享位元错误",t="一些寄存器位元可能被复数个多功能给设置。这些位元称之为共享位元。下面共享位元与多功能组成的对应关系会是不正确的。<br /><br />"+i+"<br />若你仍想要关掉应用程式，请按'关闭'。但所有设置将会回复到初始值。若你想要修正他们，请按'修正'。",r="关闭",l="修正"):"Traditional Chinese"===o?(n="共享位元錯誤",t="一些暫存器位元可能被複數個多功能給設置。這些位元稱之為共享位元。下面共享位元與多功能組成的對應關係會是不正確的。<br /><br />"+i+"<br />若你仍想要關掉應用程式，請按'關閉'。但所有設置將會回復到初始值。若你想要修正他們，請按'修正'。",r="關閉",l="修正"):(n="Shared Bit Error",t="Some bits of GPIO registers would be configured by multiple multi-functions.These bits are called Shared Bits. The following corresponding relations between shared bits and multi-functions are incorrect.<br /><br />"+i+"<br />If you still want to close the application, please press Close. But all the configuration will be restored to the default.If you want to fix them, please press Fix.",r="Close",l="Fix");else{if("USB_OTG_ID"!==e)return;void 0===o||null==o?(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",r="Close",l="Fix"):"Simplified Chinese"===o?(n="不正确的USB设置",t="当USB开启时，USB_OTG_ID必须被设置。",r="关闭",l="修正"):"Traditional Chinese"===o?(n="不正確的USB設置",t="當USB開啟時，USB_OTG_ID必須被設置。",r="關閉",l="修正"):(n="Incorrect USB Settings",t="USB_OTG_ID must be configured when enabling USB.",r="Close",l="Fix")}On(),$('<div id="showPinErrorDialog"><p>'+t+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:n,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#showPinErrorDialog").dialog("destroy")},buttons:[{text:r,click:function(){$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy"),Mn(),Di(),window.external.closeFromJS()}},{text:l,click:function(){$("#showPinErrorDialog").dialog("isOpen")&&$("#showPinErrorDialog").dialog("destroy")}}]}),n=null,t=null,r=null,o=null}function Un(e){var i,n,t,r,l,o,s=!0,a=[];if($("#rootTree_Pin").is(":visible")){for(i=0,n=(a=Qi(Ge)).length;i<n;i+=1)if(Re[a[i]]!==Ge[a[i]]){s=!1;break}s?e():(Ui(),"Simplified Chinese"===Ne?(t="警告",r="配置档已被修改过。请问你要储存它吗?",l="要",o="不要"):"Traditional Chinese"===Ne?(t="警告",r="配置檔已被修改過。請問你要儲存它嗎?",l="要",o="不要"):(t="Warning",r="The configuration has been modified.<br />Would you like to save it?",l="Yes",o="No"),On(),$('<div id="warningForSavingDialog"><p>'+r+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!0,draggable:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#warningForSavingDialog").dialog("destroy")},buttons:[{text:l,click:function(){if(In(Cn))try{external.saveConfigFromJS("NUC_BROWSE_PROJECT_PATH")}catch(e){}e(),$("#warningForSavingDialog").dialog("isOpen")&&$("#warningForSavingDialog").dialog("destroy")}},{text:o,click:function(){e(),wn(),$("#warningForSavingDialog").dialog("isOpen")&&$("#warningForSavingDialog").dialog("destroy")}}]}),t=null,r=null,l=null,o=null),s=null,a=[]}}function bn(e){var i,n,t,r,l,o,s,a,d="",c=localStorage.getItem("UIlanguage");for(void 0===c||null==c?(i="Adjustment of the Conflict",n="Some modules have been adjusted. The others unable to adjust have been removed. Here is the list:<hr>",t=" Pin",r="",l="from",s="Undo",a="Confirm"):"Simplified Chinese"===c?(i="冲突的调整",n="一些模组已被调整，其它无法调整的已被移除。列表如下:<hr>",t="第",r="脚位",l="从",o="已移除",s="复原",a="确定"):"Traditional Chinese"===c?(i="衝突的調整",n="一些模組已被調整，其它無法調整的已被移除。列表如下:<hr>",t="第",r="腳位",l="從",o="已移除",s="復原",a="確定"):(i="Adjustment of the Conflict",n="Some modules have been adjusted. The others unable to adjust have been removed. Here is the list:<hr>",t=" Pin",r="",l="from",o=" has been removed",s="Undo",a="Confirm");-1!==e.indexOf(";");)d=e.sliceAfterX("/").slicePriorToX(";"),-1!==e.slicePriorToX(";").indexOf("removed")?(d="",e.slicePriorToX(":")!==we[parseInt(e.sliceAfterX(":").slicePriorToX("/"),10)-1]&&(n+="<b><big>"+tn(e.slicePriorToX(":"))+":"+t+nn(e.sliceAfterX(":").slicePriorToX("/"))+r+o+"</big></b><br />",n+=tn(we[parseInt(e.sliceAfterX(":").slicePriorToX("/"),10)-1])+":"+t+nn(e.sliceAfterX(":").slicePriorToX("/"))+r+"<hr>")):-1!==e.slicePriorToX(";").indexOf("end")?(d="",n+=tn(e.slicePriorToX(":"))+":"+t+nn(e.sliceAfterX(":").slicePriorToX("/"))+r+"<hr>"):n+=tn(e.slicePriorToX(":"))+":"+t+nn(e.sliceAfterX(":").slicePriorToX("/"))+r+"("+l+t+nn(e.sliceAfterX("/").slicePriorToX(";"))+r+")<br />",e=e.sliceAfterX(";");""!==d&&(n+=tn(we[parseInt(d,10)-1])+":"+t+nn(d)+r+"<hr>"),On(),$('<div id="adjustedModulesDialog"><p>'+n+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,resizable:!1,title:i,width:500,height:400,show:"fade",hide:"fade",close:function(){$("#adjustedModulesDialog").dialog("destroy")},buttons:[{text:s,click:function(){!function(){var e,i,n=Qi(Ge);for(ni=!0,Be=[],e=0,i=n.length;e<i;e+=1)Be[n[e]]=Ke[n[e]];for(Fe=[],e=0,i=Ee.length;e<i;e+=1)Fe[e]=Ee[e];ye=[],Ge=[],De=[],we=[],si(),ln(),ge.removeContext($("#NUC_PinConfiguration_Canvas")),ge.removeContext($("#NUC_PinConfiguration_Canvas_Lining")),$("#mfpTree").jstree("destroy"),$("#supportedModules").jstree("destroy"),$("#moduleTree").jstree("destroy"),$("#mfpTree").remove(),$("#supportedModules").remove(),$("#moduleTree").remove(),$("div").remove(".tooltip"),Fi(),0===$("#NUC_PinConfiguration_Canvas").length&&$("#panel")[0].appendChild(Zi("canvas","NUC_PinConfiguration_Canvas")),Yi(),ci(),ai(),yi()}(),$("#adjustedModulesDialog").dialog("isOpen")&&$("#adjustedModulesDialog").dialog("destroy")}},{text:a,click:function(){$("#adjustedModulesDialog").dialog("isOpen")&&$("#adjustedModulesDialog").dialog("destroy")}}]}),i=null,n=null,d=null,t=null,r=null,l=null,o=null,a=null,c=null}function Ln(e,i){var n,t,r,s,a,d,c,f,g,_,u,N,O,p,h,x,P=[];Ui(),"Simplified Chinese"===Ne?(n="方案",t="方案名称",r="方案日期",s="型号",a="芯片系列",d="微控器名称",c="微控器封装",f="芯片图示",g="脚位配置",_="模组配置",u="多工泛用脚位配置",N="寄存器配置"):"Traditional Chinese"===Ne?(n="方案",t="方案名稱",r="方案日期",s="型號",a="晶片系列",d="微控器名稱",c="微控器封裝",f="晶片圖示",g="腳位配置",_="模組配置",u="多工泛用腳位配置",N="暫存器配置"):(n="Project",t="Project Name",r="Project Date",s="Part No.",a="Chip Series",d="MCU Name",c="MCU Package",f="ChipView",g="Pin Configuration",_="Module Configuration",u="GPIO Configuration",N="Register Configuration"),O="<!DOCTYPE html>",O+="<html>",O+="<head><title>Print Report</title></head>",O+="<body>",O+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+n+'</caption><tr> <td style="border: 1px solid black;">'+t+'</td> <td style="border: 1px solid black;">'+e+'</td> </tr> <tr> <td style="border: 1px solid black;">'+r+'</td> <td style="border: 1px solid black;">'+((p=new Date).getMonth()+1+"/"+p.getDate()+"/"+p.getFullYear()+" "+p.getHours()+":"+p.getMinutes()+":"+p.getSeconds())+"</td> </tr> </table>",h=o.slicePriorToX("("),O+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+s+'</caption><tr> <td style="border: 1px solid black;">'+a+'</td> <td style="border: 1px solid black;">'+l+'</td> </tr> <tr> <td style="border: 1px solid black;">'+d+'</td> <td style="border: 1px solid black;">'+h+'</td> </tr> <tr> <td style="border: 1px solid black;">'+c+'</td> <td style="border: 1px solid black;">'+NUTOOL_PIN.g_packageNumber+"</td> </tr></table>",O+="<br><br><br><br><br><br><br>",O+="<hr>",null!==i&&(-1!==i.indexOf("checkbox_byChipView")&&(O=function(e,i){var n,t,r,l,s,a,d,c,f,g,_,u,N,O,p,h,x,P,T,M=0;if($("#panel")[0].appendChild(Zi("canvas","NUC_ChipView_Canvas")),(r=$("#NUC_ChipView_Canvas")[0]).setAttribute("style","z-index:1; position:absolute; left:0px; top:0px; border: 1px solid white;"),l=30,a=(s=200)+H+Q+de+H+de/4,d=s+H+de+H+s,r.setAttribute("width",a),r.setAttribute("height",d),(c=ge.getContext(r)).scale(.85,.85),f=s+H+Q,g=s+H,-1!==o.indexOf("SOP")){f-=l,c.strokeRect(f,g,de/2,de),c.fillStyle="white",c.fillRect(f,g,de/2,de),c.beginPath(),c.arc(f+10,g+10,5,0,2*Math.PI,!0),c.stroke(),P=1;do{P+=1,c.font=P+"px Arial Black"}while(c.measureText(Oe).width<de/2);for(M=P,c.save(),c.translate(f+de/4,g+de/2-c.measureText(Oe).width/2),c.rotate(Math.PI/2),c.fillStyle="#FE2E2E",c.fillText(Oe,0,0),c.restore(),_=o.slicePriorToX("("),n=0,t=NUTOOL_PIN.g_cfg_chips.length;n<t;n+=1)if(NUTOOL_PIN.g_cfg_chips[n].name+"("+NUTOOL_PIN.g_cfg_chips[n].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[n].display&&(_=NUTOOL_PIN.g_cfg_chips[n].display);break}c.fillStyle="black",T=1;do{T+=1,c.font="bold "+T+"px Calibri"}while(c.measureText(_).width<de/2);T>P&&(T=P,c.font="bold "+T+"px Calibri"),M=T/2+5,c.save(),c.translate(f+de/4-M,g+de/2-c.measureText(_).width/2),c.rotate(Math.PI/2),c.fillText(_,0,0),c.restore(),P=1;do{P+=1,c.font="bold "+P+"px Calibri"}while(c.measureText(NUTOOL_PIN.g_packageNumber).width<de/4);for(M=M+P/2+5,c.save(),c.translate(f+de/4-M,g+de/2-c.measureText(NUTOOL_PIN.g_packageNumber).width/2),c.rotate(Math.PI/2),c.fillText(NUTOOL_PIN.g_packageNumber,0,0),c.restore(),c.font=B,c.fillStyle="black",n=0,t=v/2;n<t;n+=1)N=f+q,O=g+Z+n*(K+z)+4*K/5,c.strokeText((n+1).toString(),N,O),""!==we[n]&&(x=tn(we[n]),N=f-H-J,c.save(),c.textAlign="end",c.fillText(x,N,O),c.restore()),N=f-H+Y,O=g+Z+n*(K+z),c.strokeRect(N,O,H,K),c.fillStyle=$e[0].savedPinPadColor[n],c.fillRect(N,O,H,K),-1!==(h=ve[n]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),!$i(h)&&h.length>4&&(h=h.slice(0,4)+".."),c.font=B,c.fillStyle="black",c.fillText(h,N,O+4*K/5,H,K),N=f+de/2,O=g+de-Z-K-n*(K+z)+4*K/5,p=c.measureText((n+1+v/2).toString()),c.strokeText((n+1+v/2).toString(),N-p.width-q,O),""!==we[n+v/2]&&(x=tn(we[n+v/2]),N=f+de/2+H+J,c.fillText(x,N,O)),N=f+de/2,O=g+de-Z-K-n*(K+z),c.strokeRect(N,O,H,K),c.fillStyle=$e[1].savedPinPadColor[n],c.fillRect(N,O,H,K),!$i(h=(h=ve[n+v/2]).slicePriorToX("/"))&&h.length>4&&(h=h.slice(0,4)+".."),c.font=B,c.fillStyle="black",c.fillText(h,N,O+4*K/5)}else if(-1!==o.indexOf("WLCSP")||-1!==o.indexOf("BGA")){for(f-=l,c.lineWidth=2,c.strokeRect(f,g,de,de),c.fillStyle="white",c.fillRect(f,g,de,de),c.beginPath(),c.arc(f+10,g+de-10,5,0,2*Math.PI,!0),c.stroke(),c.font=B,c.fillStyle="black",n=0,t=X;n<t;n+=1)N=f+q,O=g+Z+W+(X-1-n%X)*(2*W+z),c.fillText((n+1).toString(),N,O);for(n=0,t=j;n<t;n+=1)N=f+Z+W+n*(2*W+z)-4,O=g+de-5,c.fillText(NUTOOL_PIN.g_horizontalIndexArray[n],N,O);for(n=0;n<v;n+=1)N=f+Z+W+Math.floor(n/X)*(2*W+z),O=f+Z+W+(X-1-n%X)*(2*W+z),c.beginPath(),c.arc(N,O,W,0,2*Math.PI,!0),c.strokeStyle="black",c.stroke(),c.fillStyle=$e[0].savedPinPadColor[n],c.fill(),-1!==(h=""!==we[n]?tn(we[n]):$e[0].savedPinName[n]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),h.length>6&&(h=h.slice(0,6)+".."),c.font=B,c.fillStyle="black",c.fillText(h,N-c.measureText(h).width/2,O+parseInt(c.font,10)/2)}else{f-=l,c.strokeRect(f,g,de,de),c.fillStyle="white",c.fillRect(f,g,de,de),c.beginPath(),c.arc(f+10,g+de-10,5,0,2*Math.PI,!0),c.stroke(),P=1;do{P+=1,c.font=P+"px Arial Black"}while(c.measureText(Oe).width<de/2);for(c.fillStyle="#FE2E2E",c.fillText(Oe,f+de/2-c.measureText(Oe).width/2,g+de/2),_=o.slicePriorToX("("),n=0,t=NUTOOL_PIN.g_cfg_chips.length;n<t;n+=1)if(NUTOOL_PIN.g_cfg_chips[n].name+"("+NUTOOL_PIN.g_cfg_chips[n].pkg+")"===o){void 0!==NUTOOL_PIN.g_cfg_chips[n].display&&(_=NUTOOL_PIN.g_cfg_chips[n].display);break}c.fillStyle="black",T=1;do{T+=1,c.font="bold "+T+"px Calibri"}while(c.measureText(_).width<de/2);T>P&&(T=P,c.font="bold "+T+"px Calibri"),M=T/2+10,c.fillText(_,f+de/2-c.measureText(_).width/2,g+de/2+M),P=1;do{P+=1,c.font="bold "+P+"px Calibri"}while(c.measureText(NUTOOL_PIN.g_packageNumber).width<de/4);for(M=M+P/2+10,c.fillText(NUTOOL_PIN.g_packageNumber,f+de/2-c.measureText(NUTOOL_PIN.g_packageNumber).width/2,g+de/2+M),c.font=B,c.fillStyle="black",u=Math.floor((E-y)/2),n=0,t=y;n<t;n+=1)N=f+Z+(n+u)*(K+z),O=g+de,c.save(),c.translate(N,O),c.rotate(-Math.PI/2),c.strokeText((n+1).toString(),q,4*K/5),c.restore(),""!==we[n]&&(x=tn(we[n]),O=g+de+H,c.save(),c.translate(N,O),c.rotate(-Math.PI/2),c.textAlign="end",c.fillText(x,-q,4*K/5),c.restore()),N=f+Z+(n+u)*(K+z)-Y,O=g+de,c.strokeRect(N,O,K,H),c.fillStyle=$e[0].savedPinPadColor[n],c.fillRect(N,O,K,H),-1!==(h=ve[n]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),!$i(h)&&h.length>4&&(h=h.slice(0,4)+".."),O+=H,c.font=B,c.fillStyle="black",c.save(),c.translate(N,O),c.rotate(-Math.PI/2),c.fillText(h,Y,4*K/5),c.restore();for(u=Math.floor((E-D)/2),n=0,t=D;n<t;n+=1)N=f+de,O=g+de-Z-K-(n+u)*(K+z)+4*K/5,p=c.measureText((n+1+y).toString()),c.strokeText((n+1+y).toString(),N-p.width-q,O),""!==we[n+y]&&(x=tn(we[n+y]),N=f+de+H+J,c.fillText(x,N,O)),N=f+de,O=g+de-Z-K-(n+u)*(K+z),c.strokeRect(N,O,H,K),c.fillStyle=$e[1].savedPinPadColor[n],c.fillRect(N,O,H,K),!$i(h=(h=ve[n+y]).slicePriorToX("/"))&&h.length>4&&(h=h.slice(0,4)+".."),c.font=B,c.fillStyle="black",c.fillText(h,N,O+4*K/5);for(u=Math.floor((E-w)/2),n=0,t=w;n<t;n+=1)N=f+de-Z-K-(n+u)*(K+z)-Y,O=g-H,c.save(),c.translate(N,O),c.rotate(-Math.PI/2),p=c.measureText((n+1+y+D).toString()),c.strokeText((n+1+y+D).toString(),-H-p.width-q,4*K/5),c.restore(),""!==we[n+y+D]&&(x=tn(we[n+y+D]),c.save(),c.translate(N,O),c.rotate(-Math.PI/2),c.fillText(x,2*J,4*K/5),c.restore()),O=g-H+Y,c.strokeRect(N,O,K,H),c.fillStyle=$e[2].savedPinPadColor[n],c.fillRect(N,O,K,H),!$i(h=(h=ve[n+y+D]).slicePriorToX("/"))&&h.length>4&&(h=h.slice(0,4)+".."),c.font=B,c.fillStyle="black",O+=H,c.save(),c.translate(N,O),c.rotate(-Math.PI/2),c.textAlign="end",c.fillText(h,H,4*K/5),c.restore();for(u=Math.floor((E-F)/2),n=0,t=F;n<t;n+=1)N=f+q,O=g+Z+(n+u)*(K+z)+4*K/5,c.strokeText((n+1+y+D+w).toString(),N,O),""!==we[n+y+D+w]&&(x=tn(we[n+y+D+w]),N=f-H-J,c.save(),c.textAlign="end",c.fillText(x,N,O),c.restore()),N=f-H+Y,O=g+Z+(n+u)*(K+z),c.strokeRect(N,O,H,K),c.fillStyle=$e[3].savedPinPadColor[n],c.fillRect(N,O,H,K),-1!==(h=ve[n+y+D+w]).lastIndexOf("/")&&(h=h.slice(h.lastIndexOf("/")+1)),!$i(h)&&h.length>4&&(h=h.slice(0,4)+".."),c.font=B,c.fillStyle="black",c.fillText(h,N,O+4*K/5,H,K)}ii||(e+="<h4>"+i+"</h4>",e+='<img src="'+document.getElementById("NUC_ChipView_Canvas").toDataURL()+'">',e+="<hr>",null);return $("#NUC_ChipView_Canvas").remove(),f+=l,n=null,t=null,r=null,l=null,f=null,g=null,s=null,a=null,d=null,c=null,null,_=null,u=null,N=null,O=null,h=null,null,P=null,T=null,M=null,e}(O,f)),-1!==i.indexOf("checkbox_byRegister")&&(O=function(e,i){var n,t,r=[];for(e+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+i+"</caption>",(r=Qi(Ge)).sort(),n=0,t=r.length;n<t;n+=1)e+='<tr><td style="border: 1px solid black;">'+r[n]+'</td> <td style="border: 1px solid black;">0x'+zi(Ge[r[n]]).toUpperCase()+"</td></tr>";return e+="</table>",n=null,t=null,e}(O,N)),-1!==i.indexOf("checkbox_byPin")&&(O=function(e,i){var n,t=e,r=!0;for(e+='<table style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="box" rules="all" ><caption style="text-align:left">'+i+"</caption>",n=1;n<=v;n+=1)""!==we[n-1]&&(e+='<tr><td style="border: 1px solid black;">Pin'+nn(n)+'</td> <td style="border: 1px solid black;">'+tn(we[n-1])+"</td></tr>",r=!1);e+="</table>",r&&(e=t);return t=null,r=null,e}(O,g)),-1!==i.indexOf("checkbox_byModule")&&(O=function(e,i){var n,t,r,l,o,s,a,d=e,c=!0,f=[],g=[];for(n=1;n<=v;n+=1)""!==we[n-1]&&(s=n,-1!==(a=o=we[n-1]).indexOf("_")&&(a=a.slicePriorToX("_")),void 0===f[a=Ri(a)]?(f[a]=[],f[a][0]=tn(o)+"(Pin:"+nn(s)+")"):f[a].push(tn(o)+"(Pin:"+nn(s)+")"),c=!1);for(g=Qi(f),e+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+i+"</caption>",n=0,r=g.length;n<r;n+=1)for(f[g[n]].sort(di),t=0,l=f[g[n]].length;t<l;t+=1)e+='<tr><td style="border: 1px solid black;">'+g[n]+'</td> <td style="border: 1px solid black;">'+f[g[n]][t]+"</td></tr>";e+="</table>",c&&(e=d);return n=null,t=null,r=null,l=null,f=[],g=[],d=null,c=null,o=null,s=null,a=null,e}(O,_)),-1!==i.indexOf("checkbox_byGPIO")&&(O=function(e,i){var n,t,r,l,o,s,a,d,c=e,f=!0,g=[],_=[];for(n=1;n<=v;n+=1)""!==we[n-1]&&(s=n,o=tn(we[n-1]),void 0===g[a=Ri(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1])]?(g[a]=[],g[a][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1]+": "+o+"(Pin:"+nn(s)+")"):g[a].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][s-1]+": "+o+"(Pin:"+nn(s)+")"),f=!1);for(_=Qi(g).sort(di),e+='<table  style="border: 10px ridge black; background-color: white;" align="left" cellpadding="5" cellspacing="5" frame="border" rules="all"><caption style="text-align:left">'+i+"</caption>",n=0,r=_.length;n<r;n+=1)for(g[_[n]].sort(di),t=0,l=g[_[n]].length;t<l;t+=1)e+='<tr><td style="border: 1px solid black;">'+(d=g[_[n]][t]).slicePriorToX(":")+'</td> <td style="border: 1px solid black;">'+d.sliceAfterX(": ")+"</td></tr>";e+="</table>",f&&(e=c);return n=null,t=null,r=null,l=null,g=[],_=[],c=null,f=null,o=null,s=null,a=null,d=null,e}(O,u))),O+="</body>",O+="</html>",(x=window.open("dummy.htm","",P)).document.open(),x.document.write(O),x.document.close(),x.moveTo(0,0),x.focus(),x.print(),n=null,t=null,r=null,s=null,a=null,d=null,c=null,f=null,g=null,_=null,u=null,N=null,p=null,O=null,h=null,x=null,P=null}function kn(e){for($("#ChipTypeSelect").val(e),l=e,t=null,i=0,max=NUTOOL_PIN.g_cfg_chips.length;i<max;i+=1)newPartNumber_package===NUTOOL_PIN.g_cfg_chips[i].name&&(t=NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")");null!==t&&t!==o&&(Pi(),dn(),o=t,NUTOOL_PIN.decidepackageNumber(),Ci(),ni=!1,Be=[],Fe=[],Ve={},s=null,_n(),Le=100,Pn(),On())}function $n(){for(t=null,i=0,max=NUTOOL_PIN.g_cfg_chips.length;i<max;i+=1)newPartNumber_package===NUTOOL_PIN.g_cfg_chips[i].name&&(t=NUTOOL_PIN.g_cfg_chips[i].name+"("+NUTOOL_PIN.g_cfg_chips[i].pkg+")");null!==t&&t!==o&&(Pi(),dn(),o=t,NUTOOL_PIN.decidepackageNumber(),Ci(),ni=!1,Be=[],Fe=[],Ve={},s=null,_n(),Le=100,Pn(),On())}function An(){$("#rootTree_Pin").is(":visible")&&("undefined"==typeof NUTOOL_PER?"none"===$("#mfpTree").css("display")?($("#ChipType").show(),$("#MCU").show(),$("#mfpTree").show(),$("#mfpTree").height(se),$("#moduleTree").height(ae-$("#ChipType").height()-$("#MCU").height()-se-6-$("#supportedModules").height())):($("#ChipType").hide(),$("#MCU").hide(),$("#mfpTree").hide(),$("#moduleTree").height(ae-$("#supportedModules").height())):"none"===$("#mfpTree").css("display")?($("#mfpTree").show(),$("#mfpTree").height(se),$("#moduleTree").height(ae-$("#ChipType").height()-$("#MCU").height()-se-6-$("#supportedModules").height())):($("#mfpTree").hide(),$("#moduleTree").height(ae-$("#supportedModules").height())))}function Sn(){try{ti=!0,Ii()||(Mi("配置档不正确。","配置檔不正確。","The config file is incorrect."),ni=!1),Pi(),dn(),_n(),Vi(),Le=100,Pn(),$("#MCUselect").val(o),t=o;var e=NUTOOL_PIN.g_readConfigFileContentText;Ze=JSON.parse(e.sliceAfterX("LockedPins=").slicePriorToX("\r\n")),On(),ti=!1}catch(e){}}function vn(){if(In(Cn))try{yn();var i=`/****************************************************************************\r\n * @file     ${o}.ncfg\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} config file\r\n *\r\n * @note Please do not modify this file.\r\n *       Otherwise, it may not be loaded successfully.\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${o}\r\n${_}${u}${T}${d}${M}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,n=new Blob([i],{type:"text/plain;charset=utf-8"});saveAs(n,`${o}.ncfg`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function yn(){var e,i,n,t=[],r="SYS->";for(0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:GPIO_")&&(r="GPIO_MD->"),d="",(t=Qi(Ge)).sort(),e=0,i=t.length;e<i;e+=1)d+=r+t[e]+" = 0x"+zi(Ge[t[e]]).toUpperCase()+"\r\n";for(_="",e=1;e<=v;e+=1)""!==we[e-1]?_+="Pin"+nn(e)+":"+we[e-1]+"\r\n":(n=(n=ve[e-1].slice(ve[e-1].indexOf(De[e-1]))).slicePriorToX("/"),_+="Pin"+nn(e)+":"+n+"\r\n");for(u="",e=0,i=Fe.length;e<i;e+=1)u+="GPIOpin:"+Fe[e]+"\r\n";for(n in T="",Ve)Ve.hasOwnProperty(n)&&""!==Ve[n].trim()&&(T+="UserDefined:"+n+"=>"+Ve[n]+"\r\n");M="LockedPins="+JSON.stringify(Ze)+"\r\n",e=null,i=null,t=[],n=null}function Dn(){var e,i,n,t,r,l,o,s,a,d,c=[];for(N="Pin,Current Multi Function,Group\r\n",e=0,i=1;e<v;e+=1)l=""!==we[e]?NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e]+"/"+tn(we[e]).replace(/[.]/g,"").replace(/\s/g,"_").replace(/[`~!@#$%^&*()|=?;:'",<>\{\}\[\]\\\/]/gi,"_"):NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],s=null==NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex]?"":NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex][e],-1===l.indexOf("NC_ToolNotShow")&&(N+=nn(e+1)+","+l+","+s+"\r\n",$i(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])&&""!==we[e]&&((d={}).id=i,d.pin=nn(e+1),d.pinName=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e],d.pinNumber=e+1,d.description=we[e],void 0!==Ve[we[e]]&&""!==Ve[we[e]].trim()?d.userDefined=Ve[we[e]]:d.userDefined="",i+=1,c.push(d)));for(N+="\r\nPin,Description,Group\r\n",e=0;e<v;e+=1){for(l="",a=(o=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][e])+":0",i=0,t=NUTOOL_PIN.g_cfg_gpios.length;i<t;i+=1)if(a===NUTOOL_PIN.g_cfg_gpios[i].f[0]){for(n=0,r=NUTOOL_PIN.g_cfg_gpios[i].f.length;n<r;n+=1)l+=NUTOOL_PIN.g_cfg_gpios[i].f[n].slicePriorToX(":"),n!==NUTOOL_PIN.g_cfg_gpios[i].f.length-1&&(l+="/");break}""===l&&(l=o),s=null==NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex]?"":NUTOOL_PIN.g_cfg_OrCAD[NUTOOL_PIN.g_packageNumberIndex][e],-1===l.indexOf("NC_ToolNotShow")&&(N+=nn(e+1)+","+l+","+s+"\r\n")}return c}function wn(){var e,i,n=[];for(n=Qi(Ge),Re=[],e=0,i=n.length;e<i;e+=1)Re[n[e]]=Ge[n[e]];e=null,i=null,n=[]}function Fn(){$("#rootTree_Pin").is(":visible")&&(Je=!Je,si(),ln(),xn(),$("#panel").css("overflow-x","scroll"),$("#panel").css("overflow-y","scroll"),Le=100,Pn())}function En(e,i,n){!L&&window.console&&window.console.log(i+": "+n),Ve[i]=n.trim(),pi(parseInt(e,10)-1,i.trim(),!1),-1===o.indexOf("WLCSP")&&-1===o.indexOf("BGA")||en(parseInt(e,10),"savedPinPadColor")}function jn(e){var i,n,t,r,o,s,a,d,c,f,g,_,u,N="checked=true",O="",p=[],h="",x="",P="",T="",M="",I="",C=null,m=[],U=localStorage.getItem("UIlanguage"),b="",L="",k="";if(function(e,i){var n,t,r,l=["*","?",'"',"<",">","|"],o=!0;for(n=0,t=l.length;n<t;n+=1)if(r=l[n],-1!==i.indexOf(l[n])){Mi("工程路径不应该包含"+r+"。请修正它。","專案路徑不應該包含"+r+"。請修正它。","The project path should not contain "+r+". Please fix it."),o=!1;break}for(l.push("\\"),l.push("/"),l.push(":"),n=0,t=l.length;n<t;n+=1)if(r=l[n],-1!==e.indexOf(r)){Mi("工程名称不应该包含"+r+"。请修正它。","專案名稱不應該包含"+r+"。請修正它。","The project name should not contain "+r+". Please fix it."),o=!1;break}return i.charAt(0).match(/^[a-zA-Z]/)&&i.charAt(1).match(/^[:]/)&&i.charAt(2).match(/^[\/\\]/)||(Mi("工程路径开头应为磁碟机代号、磁碟区分隔符号和元件分隔符号(C:)。请修正它。","專案路徑開頭應為磁碟機代號、磁碟區分隔符號和元件分隔符號(C:)。請修正它。","The project path should begin with a drive letter, a volume separator and a component separator (C:). Please fix it."),o=!1),e.slice(-1).match(/^[ .]/)&&(Mi("工程名称不应以空格或句号结尾。请修正它。","專案名稱不應以空格或句號結尾。請修正它。","The project name should not end with a space or peroid. Please fix it."),o=!1),o},g=function(){-1!==Ne.indexOf("Simplified")?(h="脚位",x="脚位名称",P="描述",T="用户定义",M="仅限英文字母、数字和底线。\r\n最大输入长度为30。",I="没有可用数据，因为尚未配置。"):-1!==Ne.indexOf("Traditional")?(h="腳位",x="腳位名稱",P="描述",T="用戶定義",M="僅限英文字母、數字和底線。\r\n最大輸入長度為30。",I="沒有可用數據，因為尚未配置。"):(h="Pin",x="Pin Name",P="Description",T="User Defined",M="English letters, digits and underscores only.\r\nMaximum length of input is 30.",I="No data available because not configured yet."),$("#reviewReportTable")[0]||$("<div id='reviewReportTable'></div>").insertAfter($("#generateCodeDialogMainPart_div")),m=Dn(),_=m.length>10?"282px":"100%",m.length>0?(C=new Tabulator("#reviewReportTable",{height:_,data:m,layout:"fitColumns",columns:[{title:h,field:"pin",headerFilter:!0},{title:x,field:"pinName",headerFilter:!0},{title:P,field:"description",headerFilter:!0},{title:T,field:"userDefined",headerFilter:!0,editor:!0,validator:["regex:^[a-zA-Z0-9 _]+$","maxLength:30"],tooltip:M}],cellEdited:function(e){En(e._cell.row.data.pinNumber,e._cell.row.data.description,e._cell.value)},langs:{Simplified:{headerFilters:{default:"过滤"}},Traditional:{headerFilters:{default:"過濾..."}},English:{headerFilters:{default:"filter..."}}}}),-1!==Ne.indexOf("Simplified")?C.setLocale("Simplified"):-1!==Ne.indexOf("Traditional")?C.setLocale("Traditional"):C.setLocale("English")):0===m.length&&(C=new Tabulator("#reviewReportTable",{height:_,placeholder:I}))},!1!==In(Cn)){if(void 0===U||null==U?(t="Generate Code",r="User Defined Functions",o="Project Name","Please input a folder path for storing the generated code:",s="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",O="Or you can choose a folder from recent projects","Browse",d="Modularize Code",f="Review Report",u="Confirm"):(null==localStorage.getItem("CheckCriteriaPin")&&"No",null==localStorage.getItem("CheckCriteriaModule")&&"No",null==localStorage.getItem("CheckCriteriaGPIO")&&"No",null!=(b=localStorage.getItem("CheckModularizeCode"))&&"No"!==b||(b="No",N=""),null==(L=localStorage.getItem("ProjectName"))&&(L=""),null==localStorage.getItem("ProjectLocation")&&"",null==(k=localStorage.getItem("ProjectLocationHistory"))&&(k=""),"Simplified Chinese"===U?(t="产生程式码",r="用户定义功能",o="工程名称","请输入文件夹路径，用于存放生成的代码:",s="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",O="或是您可以从最近的工程中选择一个","浏览",d="模组化代码",f="检阅报告",u="确定"):"Traditional Chinese"===U?(t="產生程式碼",r="用戶定義功能",o="專案名稱","請輸入資料夾路徑，用於存放生成的程式碼:",s="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",O="或是您可以從最近的專案中選擇一個","瀏覽",d="模組化程式碼",f="檢閱報告",u="確定"):(t="Generate Code",r="User Defined Functions",o="Project Name","Please input a folder path for storing the generated code:",s="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",O="Or you can choose a folder from recent projects","Browse",d="Modularize Code",f="Review Report",u="Confirm")),""===L.trim()&&(L="MyProject"),""!==k.trim()){for('<br /><label><select id="generateCodeDialogSelect" style="width: 450px;height:32px;"><option value="default">'+O+"</option>",i=0,n=(p=k.split(">")).length-1;i<n;i++)'<option value="'+p[i]+'">'+p[i]+"</option>";"</select></label>"}0===l.indexOf("M55M1")||-1===["CM1003","ML51","ML5156","ML56","MG51","MG51_32K","MG51_64K","MS51_8K","MS51_8KDB","MS51_16K","MS51_32K","MUG51","N76S003","N76E003"].indexOf(l)&&0!==NUTOOL_PIN.g_cfg_gpiosDefines.length&&NUTOOL_PIN.g_cfg_gpiosDefines[0].f.length>1&&0===NUTOOL_PIN.g_cfg_gpiosDefines[0].f[1].indexOf("GPIO:")?c="checkbox":(d="",c="hidden",N=""),On(),void 0===e?(a='<div id="generateCodeDialogMainPart_div"><label>'+o+': <input type="text" id="inputText_projectName" value="'+L+'" style="width:250px;height:24px;"></label><br /><br /><label><p>'+s+"</p></div>",a+='<div id="reviewReportTable"></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:t,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},create:function(e,i){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")?$("<div class='generateCodeByModule'><input type='"+c+"' id='checkbox_ModularizeCode' "+N+"/>"+d+"<input type='checkbox' id='checkbox_ReviewReport'/>"+f+"</div>").prependTo(n):$("<div class='generateCodeByModule'><label><input type='"+c+"' id='checkbox_ModularizeCode' "+N+"/>"+d+" </label></div>").prependTo(n)},buttons:[{id:"generateCodeDialog_buttonOk",text:u,click:function(){localStorage.setItem("ProjectName",$("#inputText_projectName").val()),$("#checkbox_ModularizeCode").is(":checked")?localStorage.setItem("CheckModularizeCode","Yes"):localStorage.setItem("CheckModularizeCode","No"),$("#generateCodeDialog_buttonOk").button("disable"),""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Xn()}catch(e){}$("#generateCodeDialog").dialog("isOpen")?$("#generateCodeDialog").dialog("destroy"):$("#generateCodeDialog_buttonOk").button("enable")}}]})):0===e.indexOf("userDefined")&&(a='<div id="reviewReportTable"><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$('<div id="generateCodeDialog">'+a+"</div>").dialog({modal:!1,resizable:!1,title:r,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#generateCodeDialog").dialog("destroy")},buttons:[{id:"generateCodeDialog_buttonOk",text:u,click:function(){-1!==e.indexOf("runAnotherTool")?Wn():$("#generateCodeDialog").dialog("isOpen")&&$("#generateCodeDialog").dialog("destroy")}}]}),g()),$("#generateCodeDialogInput").keypress((function(e){if(22===e.which)$("#generateCodeDialogInput").val(window.clipboardData.getData("Text"))})),$("#generateCodeDialogBrowseFolder").click((function(){""===$("#inputText_projectName").val().trim()&&$("#inputText_projectName").val("MyProject");try{Xn()}catch(e){}""!==NUTOOL_PIN.g_pinFunctionString&&-1!==NUTOOL_PIN.g_pinFunctionString.indexOf(":")&&$("#generateCodeDialogInput").val(NUTOOL_PIN.g_pinFunctionString),$("#generateCodeDialog").focus()})),$("#generateCodeDialogSelect").change((function(){"default"!==$("#generateCodeDialogSelect").val()&&($("#generateCodeDialogInput").val($("#generateCodeDialogSelect").val()),$("#generateCodeDialogSelect").val($("#generateCodeDialogSelect option:first-child").val()))})),$("#checkbox_ReviewReport").change((function(){$("#checkbox_ReviewReport").is(":checked")?(g(),$("#generateCodeDialogMainPart_div").hide(),$("#generateCodeDialog_buttonOk").button("disable")):($("#reviewReportTable").remove(),$("#generateCodeDialogMainPart_div").show(),$("#generateCodeDialog_buttonOk").button("enable"))}))}}function Xn(){if("Yes"==localStorage.getItem("CheckCriteriaPin")&&Bn(),"Yes"==localStorage.getItem("CheckCriteriaModule")&&Gn(),"Yes"==localStorage.getItem("CheckCriteriaGPIO")&&Rn(),Ki(),-1==a.indexOf(".h")){Hi();var i=`/****************************************************************************\r\n * @file     ${$("#inputText_projectName").val()}.c\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} generated code file\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\n *\r\n/********************\r\nMCU:${o}\r\n`+(null==O?"":`Pin Configuration:\r\n${O}`)+(null==p?"":`Module Configuration:\r\n${p}`)+(null==h?"":`GPIO Configuration:\r\n${h}`)+"********************/\r\n\r\n"+`${a}\r\n`+`${d}`+`/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,n=new Blob([i],{type:"text/plain;charset=utf-8"});saveAs(n,`${$("#inputText_projectName").val()}.dts`)}if($("#checkbox_ModularizeCode").is(":checked")){Wi();var t=`/****************************************************************************\r\n * @file     ${$("#inputText_projectName").val()}.c\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} generated code file\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\n\r\n/********************\r\nMCU:${o}\r\n`+(null==O?"":`Pin Configuration:\r\n${O}`)+(null==p?"":`Module Configuration:\r\n${p}`)+(null==h?"":`GPIO Configuration:\r\n${h}`)+"********************/\r\n\r\n"+`${a}`+(null==T?"":`\r\n${T}`)+`${d}`+`\r\n\r\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,r=new Blob([t],{type:"text/plain;charset=utf-8"});saveAs(r,`${$("#inputText_projectName").val()}.c`);var l=`/****************************************************************************\r\n * @file     ${$("#inputText_projectName").val()}.h\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} generated code file\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\n\r\n#ifndef __${$("#inputText_projectName").val().toUpperCase()}_H__\r\n#define __${$("#inputText_projectName").val().toUpperCase()}_H__\r\n\r\n#ifdef __cplusplus\r\nextern "C"\r\n{\r\n#endif\r\n${c}#ifdef __cplusplus\r\n}\r\n#endif\r\n#endif /*__${$("#inputText_projectName").val().toUpperCase()}_H__*/\r\n\r\n/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,s=new Blob([l],{type:"text/plain;charset=utf-8"});saveAs(s,`${$("#inputText_projectName").val()}.h`)}else{Hi();t=`/****************************************************************************\r\n * @file     ${$("#inputText_projectName").val()}.c\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} generated code file\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\n\r\n/********************\r\nMCU:${o}\r\n`+(null==O?"":`Pin Configuration:\r\n${O}`)+(null==p?"":`Module Configuration:\r\n${p}`)+(null==h?"":`GPIO Configuration:\r\n${h}`)+"********************/\r\n\r\n"+`${a}`+(null==T?"":`\r\n${T}`)+"/*\r\n * @brief This function provides the configured MFP registers\r\n * @param None\r\n * @return None\r\n */\r\nvoid SYS_Init(void)\r\n{\r\n"+`${d}\r\n    return;\r\n}\r\n\r\n`+`/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,r=new Blob([t],{type:"text/plain;charset=utf-8"});saveAs(r,`${$("#inputText_projectName").val()}.c`)}yn();var f=`/****************************************************************************\r\n * @file     ${$("#inputText_projectName").val()}.ncfg\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} config file\r\n *\r\n * @note Please do not modify this file.\r\n *       Otherwise, it may not be loaded successfully.\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${o}\r\n${_}${u}${T}${d}${M}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,g=new Blob([f],{type:"text/plain;charset=utf-8"});saveAs(g,`${$("#inputText_projectName").val()}.ncfg`)}function Bn(e){var i;for(O="",i=1;i<=v;i+=1)""!==we[i-1]&&(O+=void 0!==e&&"primitiveDescription"===e?"Pin"+nn(i)+":"+we[i-1]+"\r\n":"Pin"+nn(i)+":"+tn(we[i-1])+"\r\n");i=null}function Gn(){var e,i,n,t,r,l,o,s=[],a=[];for(e=1;e<=v;e+=1)""!==we[e-1]&&(l=e,-1!==(o=r=we[e-1]).indexOf("_")&&(o=o.slicePriorToX("_")),void 0===s[o=Ri(o)]?(s[o]=[],s[o][0]=tn(r)+"(Pin:"+nn(l)+")"):s[o].push(tn(r)+"(Pin:"+nn(l)+")"));for(p="",e=0,n=(a=Qi(s)).length;e<n;e+=1)for(s[a[e]].sort(di),i=0,t=s[a[e]].length;i<t;i+=1)p+=s[a[e]][i]+"\r\n";e=null,i=null,n=null,t=null,s=[],a=[],r=null,l=null,o=null}function Rn(){var e,i,n,t,r,l,o,s=[],a=[];for(e=1;e<=v;e+=1)""!==we[e-1]&&(l=e,r=tn(we[e-1]),void 0===s[o=Ri(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l-1])]?(s[o]=[],s[o][0]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l-1]+":"+r+"(Pin:"+nn(l)+")"):s[o].push(NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][l-1]+":"+r+"(Pin:"+nn(l)+")"));for(h="",e=0,n=(a=Qi(s).sort(di)).length;e<n;e+=1)for(s[a[e]].sort(di),i=0,t=s[a[e]].length;i<t;i+=1)h+=s[a[e]][i]+"\r\n";e=null,i=null,n=null,t=null,s=[],a=[],r=null,l=null,o=null}function Kn(){var e,i,n,t,r,l,o,s,a,d,c,f=localStorage.getItem("UIlanguage");$("#rootTree_Pin").is(":visible")&&In(Cn)&&(void 0===f||null==f?(e="Print Report",i="Project Name",n="Select the criteria by which the configured information is being cataloged.",t="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.","IE8 does not support this feature. If you want to use this feature, please upgrade IE. Thanks.",r="ChipView",l="Pin",o="Module",s="GPIO",a="Register",d="Confirm","Leave"):"Simplified Chinese"===f?(i="方案名称",e="印出报告",n="选择用来展示配置资讯的标准。",t="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。","IE8不支援这个功能。倘若您想要使用此功能,请升级至IE9以上。谢谢。",r="芯片图示",l="脚位",o="模組",s="多工泛用脚位",a="寄存器",d="确定","离开"):"Traditional Chinese"===f?(i="方案名稱",e="印出報告",n="選擇用來展示配置資訊的標準。",t="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。","IE8不支援這個功能。倘若您想要使用此功能,請升級至IE9以上。謝謝。",r="晶片圖示",l="腳位",o="模組",s="多工泛用腳位",a="暫存器",d="確定","離開"):(e="Print Report",i="Project Name",n="Select the criteria by which the configured information is being exhibited.",t="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.","IE8 does not support this feature. If you want to use this feature, please upgrade to IE9 or higher one. Thanks.",r="ChipView",l="Pin",o="Module",s="GPIO",a="Register",d="Confirm","Leave"),On(),(ii?$('<div id="printReportDialog"><label>'+i+': <input type="text" id="inputText_projectName" value=""></label><br /><p>'+n+'</p><input type="checkbox" id="checkbox_byRegister" checked=true/>'+a+'</label><br /><label><input type="checkbox" id="checkbox_byPin" checked=true/>'+l+'</label><br /><label><input type="checkbox" id="checkbox_byModule" />'+o+'</label><br /><label><input type="checkbox" id="checkbox_byGPIO" />'+s+"</label><br /><label><p>"+t+'</p></label><input type="text" size="1" style="position:relative;top:-5000px;"/></div>'):$('<div id="printReportDialog"><label>'+i+': <input type="text" id="inputText_projectName" value=""></label><br /><p>'+n+'</p><label><input type="checkbox" id="checkbox_byChipView" checked=true/>'+r+'</label><br /><input type="checkbox" id="checkbox_byRegister" checked=true/>'+a+'</label><br /><label><input type="checkbox" id="checkbox_byPin" checked=true/>'+l+'</label><br /><label><input type="checkbox" id="checkbox_byModule" />'+o+'</label><br /><label><input type="checkbox" id="checkbox_byGPIO" />'+s+"</label><br /><label><p>"+t+'</p></label><input type="text" size="1" style="position:relative;top:-5000px;"/></div>')).dialog({modal:!0,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#printReportDialog").dialog("destroy")},buttons:[{text:d,click:function(){$("#checkbox_byChipView").is(":checked")&&(c="checkbox_byChipView/"),$("#checkbox_byRegister").is(":checked")&&(c+="checkbox_byRegister/"),$("#checkbox_byPin").is(":checked")&&(c+="checkbox_byPin/"),$("#checkbox_byModule").is(":checked")&&(c+="checkbox_byModule/"),$("#checkbox_byGPIO").is(":checked")&&(c+="checkbox_byGPIO/"),Ln($("#inputText_projectName").val(),c),$("#printReportDialog").dialog("isOpen")&&$("#printReportDialog").dialog("destroy")}}]}),null,e=null,null,null,n=null,t=null,l=null,o=null,s=null,d=null,null,f=null,c=null)}function Hn(){if(In(Cn))try{Dn();var i=`/****************************************************************************\r\n * @file     ${o}.csv\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} pin descriptions file\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${o}\r\n${N}/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,n=new Blob([i],{type:"text/plain;charset=utf-8"});saveAs(n,`${o}.csv`)}catch(e){console.log("saveConfig failed, meg:"+e)}}function Wn(){var i,n,t,r,l,s,a,d,c="NuCAD";!1!==In(Cn)&&(d=localStorage.getItem("UIlanguage"),$("#rootTree_Pin").is(":visible")&&(void 0!==NUTOOL_PIN.g_anotherNameForNuCAD&&""!==NUTOOL_PIN.g_anotherNameForNuCAD&&(c=NUTOOL_PIN.g_anotherNameForNuCAD),void 0===d||null==d?(i="Run "+c,n="Select a tool to run.",t="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",s="Use NC pin to present a unconfigured pin",r="User Defined Functions",a="Confirm","Leave"):"Simplified Chinese"===d?(i="执行"+c,n="选择一个工具来执行。",t="请注意，本软件不能取代技术参考手册或规格书。用户必须参考最新文档以确保正确性。",s="使用NC脚位来显示未配置的脚位",r="用户定义功能",a="确定","离开"):"Traditional Chinese"===d?(i="執行"+c,n="選擇一個工具來執行。",t="請注意，本軟件不能取代技術參考手冊或規格書。用戶必須參考最新文檔以確保正確性。",s="使用NC腳位來顯示未配置的腳位",r="用戶定義功能",a="確定","離開"):(i="Run "+c,n="Select a tool to run.",t="Please note that the tool is not a replacement for the technical reference manual or datasheet. The user must refer to the latest documentation for the correctness.",s="Use NC pins to present unconfigured pins",r="User Defined Functions",a="Confirm","Leave"),On(),l='<div id="runAnotherToolDialog"><div id="runAnotherToolDialogMainPart_div"><p>'+n+'</p><input type="radio" id="OrCAD" value="OrCAD" name="RunAnotherTool" Checked><label for="OrCAD">OrCAD</label><br /><br /><label><input type="checkbox" id="checkbox_useNCpin"/>'+s+"</label><p>"+t+"</p></div>",l+='<input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$(l).dialog({modal:!1,draggable:!0,resizable:!1,title:i,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#runAnotherToolDialog").dialog("destroy")},create:function(e,i){var n=$(this).dialog("widget").find(".ui-dialog-buttonpane");$("html").hasClass("ie10+")&&$("<div class='generateCodeByModule'><label><input type='checkbox' id='checkbox_ReviewReport'/>"+r+"</label></div>").prependTo(n)},buttons:[{id:"runAnotherToolDialog_buttonOk",text:a,click:function(){$("input").each((function(){if("RunAnotherTool"===this.name&&!0===this.checked){var i=!1;$("#checkbox_useNCpin").is(":checked")&&(i=!0),Dn();var n="NuCAD";-1!=NUTOOL_PIN.g_anotherNameForNuCAD.indexOf("CAD")&&(n=NUTOOL_PIN.g_anotherNameForNuCAD);var t=`/****************************************************************************\r\n * @file     ${n}.csv\r\n * @version  ${e}\r\n * @Date     ${new Date}\r\n * @brief    ${pe} generated code file\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Copyright (C) 2013-${(new Date).getFullYear()}${he} All rights reserved.\r\n*****************************************************************************/\r\nMCU:${o}\r\n${N}`+(i?"UseNCPin\r\n":"")+`/*** (C) COPYRIGHT 2013-${(new Date).getFullYear()}${he} ***/\r\n`,r=new Blob([t],{type:"text/plain;charset=utf-8"});saveAs(r,`${n}.csv`),window.electronAPI.send("runNuCAD")}})),$("#runAnotherToolDialog").dialog("isOpen")&&$("#runAnotherToolDialog").dialog("destroy")}}]}),$("#checkbox_ReviewReport").change((function(){$("#checkbox_ReviewReport").is(":checked")&&jn("userDefined_runAnotherTool")}))))}function zn(){ei?xe.readyState?xe.send("q"):Mi("连线尚未稳定，请稍后再试。","連線尚未穩定，請稍後再試。","The connection is not stable. Please try it later."):((xe=new WebSocket("ws://127.0.0.1:5555","openocd-nuvoton-protocol")).onopen=function(){ei=!0,xe.readyState?xe.send("q"):Mi("连线尚未稳定，请稍后再试。","連線尚未穩定，請稍後再試。","The connection is not stable. Please try it later.")},xe.onerror=function(){!1===ei?Mi("请检查NuEclipse是否进入了调试模式。如果没有，PinConfig将无法连接到目标芯片。","請檢查NuEclipse是否進入了調試模式。如果沒有，PinConfig將無法連接到目標晶片。","Please check that NuEclipse has entered the debug mode. If not, PinConfig will not be able to connect to a target chip."):Mi("NuEclipse退出了调试模式。","NuEclipse退出了調試模式。","NuEclipse leaved the debug mode."),ei=!1,xe=null},xe.onmessage=function(e){0===e.data.indexOf("q")?(!function(e){var i;"UNKNOWN"!==(e=e.slice(1)).toUpperCase()&&((i=wi(e))!==l?(oldfilename="NUC_"+l+"_Content.js",newfilename="NUC_"+i+"_Content.js",Nn(oldfilename,newfilename,"js",kn(i))):$n())}(e.data),xe.send(function(){var e,i,n,t="m";for(e=0,i=(n=Qi(NUTOOL_PIN.g_cfg_regDescriptions)).length;e<i;e+=1)0!==e&&(t+=","),t+=NUTOOL_PIN.g_cfg_regDescriptions[n[e]].slice(2);return t+","}())):0===e.data.indexOf("m")&&function(e){var i,n,t,r,l,o,s;if(t=(e=e.slice(1)).split(","),l=Qi(NUTOOL_PIN.g_cfg_regDescriptions),t.length===l.length){for(i=0,n=l.length;i<n;i+=1)r=l[i],(o=Ge[r])!==(s=parseInt(t[i],16))&&(Bi(r+":0x"+zi(o).toUpperCase()),Xi(r+":0x"+zi(s).toUpperCase()));Vi()}}(e.data)})}function Yn(){$("#rootTree_Pin").is(":visible")&&(Le=10*Math.ceil(Le/10)+5,Pn())}function Vn(){$("#rootTree_Pin").is(":visible")&&(Le=ke,Pn())}function Zn(){$("#rootTree_Pin").is(":visible")&&Le>=C+5&&(Le=10*Math.floor(Le/10)-5,Pn())}function Qn(){Un((function(){Mn()})),wn()}function qn(){var e,i,n,t,l,o,s,a,d,c,f,g,_,u,N,O="",p="",h="",x="",P="",T="checked=true",M="checked=true",I="checked=true",C="",m="",U="";N=localStorage.getItem("DisplayTooltip"),u=localStorage.getItem("UIlanguage"),$("#rootTree_Pin").is(":visible")&&(void 0===u||null==u?(e="Settings",i="1. Select one of the following languages displayed in UI.",n="2. Display a tooltip.",t="3. Select the criteria by which the configured information is being cataloged.",l="English",o="Simplified Chinese",s="Traditional Chinese",a="Yes",d="No",O="checked",c="Pin",f="Module",g="GPIO",_="Confirm","Leave"):(null!=(C=localStorage.getItem("CheckCriteriaPin"))&&"No"!=C||(T=""),null!=(m=localStorage.getItem("CheckCriteriaModule"))&&"No"!=m||(M=""),null!=(U=localStorage.getItem("CheckCriteriaGPIO"))&&"No"!=U||(I=""),"Simplified Chinese"===u?(e="设定",i="1. 从下面选取一个语言显示在操作介面上。",n="2. 显示提示框。",t="3. 选择用来分类配置资讯的标准。",l="英文",o="简体中文",s="繁体中文",a="要",d="不要",p="checked",c="脚位",f="模組",g="多工泛用脚位",_="确定","离开"):"Traditional Chinese"===u?(e="設定",i="1. 從下面選取一個語言顯示在操作介面上。",n="2. 顯示提示框。",t="3. 選擇用來分類配置資訊的標準。",l="英文",o="简體中文",s="繁體中文",a="要",d="不要",h="checked",c="腳位",f="模組",g="多工泛用腳位",_="確定","離開"):(e="Settings",i="1. Select one of the following languages displayed in UI.",n="2. Display a tooltip.",t="3. Select the criteria by which the configured information is being cataloged.",l="English",o="Simplified Chinese",s="Traditional Chinese",a="Yes",d="No",O="checked",c="Pin",f="Module",g="GPIO",_="Confirm","Leave")),null==N||"No"==N?P="checked":x="checked",On(),$('<div id="languageDialog"><p>'+i+'</p><input type="radio" id="engiish" value="English" name="UIlanguage" '+O+'><label for="engiish">'+l+'</label><br /><input type="radio" id="simplifiedChinese" value="Simplified Chinese" name="UIlanguage" '+p+'><label for="simplifiedChinese">'+o+'</label><br /><input type="radio" id="traditionalChinese" value="Traditional Chinese" name="UIlanguage" '+h+'><label for="traditionalChinese">'+s+"</label><br /><p>"+n+'</p><input type="radio" id="stringYes" value="Yes" name="DisplayTooltip" '+x+'><label for="stringYes">'+a+'</label><br /><input type="radio" id="stringNo" value="No" name="DisplayTooltip" '+P+'><label for="stringNo">'+d+"</label><br /><p>"+t+'</p><label><input type="checkbox" id="checkbox_byPin" '+T+"/>"+c+'</label><br /><label><input type="checkbox" id="checkbox_byModule" '+M+"/>"+f+'</label><br /><label><input type="checkbox" id="checkbox_byGPIO" '+I+"/>"+g+'</label><input type="text" size="1" style="position:relative;top:-5000px;"/></div>').dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#languageDialog").dialog("destroy")},buttons:[{text:_,click:function(){$("input").each((function(){"UIlanguage"===this.name&&!0===this.checked?(localStorage.setItem("UIlanguage",$(this).val()),Jn()):"DisplayTooltip"===this.name&&!0===this.checked&&(localStorage.setItem("DisplayTooltip",$(this).val()),r="No"!==$(this).val())})),$("#checkbox_byPin").is(":checked")?localStorage.setItem("CheckCriteriaPin","Yes"):localStorage.setItem("CheckCriteriaPin","No"),$("#checkbox_byModule").is(":checked")?localStorage.setItem("CheckCriteriaModule","Yes"):localStorage.setItem("CheckCriteriaModule","No"),$("#checkbox_byGPIO").is(":checked")?localStorage.setItem("CheckCriteriaGPIO","Yes"):localStorage.setItem("CheckCriteriaGPIO","No"),ft(),$("#languageDialog").dialog("isOpen")&&$("#languageDialog").dialog("destroy")}}]}))}function Jn(){var e,i,n,t,r,l,o,s,a;Ui(),"Simplified Chinese"===Ne?(e="芯片系列:",i="型号:",n="MFP寄存器",t="支援模组",r="搜寻..",et("ID_BUTTON_SHOW_REGISTERS","开关选择区域和MFP寄存器树状图"),et("ID_BUTTON_LOAD","读取配置档"),et("ID_BUTTON_SAVE","存放配置档"),et("ID_BUTTON_GENERATE_CODE","产生程式码"),et("ID_BUTTON_CONNECT_TO_TARGET","连线到目标芯片"),et("ID_BUTTON_PRINT_REPORT","印出报告"),et("ID_BUTTON_GENERATE_PIN_DESCRIPTIONS","产生脚位描述报告"),et("ID_BUTTON_RUN_NUCAD","执行NuCAD"),et("ID_BUTTON_SHOW_PIN_DESCRIPTIONS","开关管脚描述"),et("ID_BUTTON_ZOOM_IN","放大"),et("ID_BUTTON_BEST_FIT","最适大小"),et("ID_BUTTON_ZOOM_OUT","缩小"),et("ID_BUTTON_LOCK_PIN","锁定/解锁所有脚位"),et("ID_BUTTON_SHOW_LOCKED_PINS","锁定脚位列表"),et("ID_BUTTON_DISABLE","取消所有已选模组"),et("ID_BUTTON_LANGUAGE","设定"),et("ID_BUTTON_INSTRUCTION","阅读用户手册")):"Traditional Chinese"===Ne?(e="晶片系列:",i="型號:",n="MFP暫存器",t="支援模組",r="搜尋..",et("ID_BUTTON_SHOW_REGISTERS","開關選擇區域和MFP暫存器樹狀圖"),et("ID_BUTTON_LOAD","讀取配置檔"),et("ID_BUTTON_SAVE","存放配置檔"),et("ID_BUTTON_GENERATE_CODE","產生程式碼"),et("ID_BUTTON_CONNECT_TO_TARGET","連線到目標晶片"),et("ID_BUTTON_PRINT_REPORT","印出報告"),et("ID_BUTTON_GENERATE_PIN_DESCRIPTIONS","產生腳位描述報告"),et("ID_BUTTON_RUN_NUCAD","執行NuCAD"),et("ID_BUTTON_SHOW_PIN_DESCRIPTIONS","開關腳位描述"),et("ID_BUTTON_ZOOM_IN","放大"),et("ID_BUTTON_BEST_FIT","最適大小"),et("ID_BUTTON_ZOOM_OUT","縮小"),et("ID_BUTTON_LOCK_PIN","鎖定/解鎖所有腳位"),et("ID_BUTTON_SHOW_LOCKED_PINS","鎖定腳位列表"),et("ID_BUTTON_DISABLE","取消所有已選模組"),et("ID_BUTTON_LANGUAGE","設定"),et("ID_BUTTON_INSTRUCTION","閱讀用戶手冊")):(e="Chip Series:",i="Part No.:",t="Supported Modules",r="Search..",n="MFP Registers",et("ID_BUTTON_SHOW_REGISTERS","Switch Select Field and MFP-Registers TreeView"),et("ID_BUTTON_LOAD","Load Configuration"),et("ID_BUTTON_SAVE","Save Configuration"),et("ID_BUTTON_GENERATE_CODE","Generate Code"),et("ID_BUTTON_CONNECT_TO_TARGET","Connect to Target Chip"),et("ID_BUTTON_PRINT_REPORT","Print Report"),et("ID_BUTTON_GENERATE_PIN_DESCRIPTIONS","Generate Report of Pin Description"),et("ID_BUTTON_RUN_NUCAD","Run NuCAD"),et("ID_BUTTON_SHOW_PIN_DESCRIPTIONS","Switch Pin Description"),et("ID_BUTTON_ZOOM_IN","Zoom In"),et("ID_BUTTON_BEST_FIT","Best Fit"),et("ID_BUTTON_ZOOM_OUT","Zoom Out"),et("ID_BUTTON_LOCK_PIN","Lock/Unlock All the Pins"),et("ID_BUTTON_SHOW_LOCKED_PINS","Show Locked Pins List"),et("ID_BUTTON_DISABLE","Disable All Checked Modules"),et("ID_BUTTON_LANGUAGE","Settings"),et("ID_BUTTON_INSTRUCTION","Read User Manual")),$("#ChipType_span").text(e),$("#MCU_span").text(i),$("#mfpTree").jstree("rename_node",$("#mfp_tree"),n),$("#supportedModules_span").text(t),$("#searchInput_Pin")[0].setAttribute("style","font-family:Times Arial; position:absolute; left:"+($("#supportedModules_span").width()+10)+"px; width:"+(G-16-$("#supportedModules_span").width()-10)+"px; height: 16px;"),$("#searchInput_Pin").val(r),$("#searchInput_Pin").change((function(){xi(this.value)})),a=5,$("html").hasClass("ie10+")||(a=4),l=ge.getContext($("#NUC_PinConfiguration_Canvas")[0]),o=ce-Pe-H-Me-3,s=fe-Te-a*(K+Ie),l.fillStyle="#FFFFFF",l.fillRect(o,s,Pe+H+Me,Te+4*(K+Ie)),l=null,o=null,s=null,pn(),e=null,i=null,n=null,t=null,r=null}function et(e,i,n){null!=n&&null!=n||(n="top"),null!=document.querySelector(`#${e}`)&&null!=document.querySelector(`#${e}`)&&document.querySelector(`#${e}`)._tippy&&document.querySelector(`#${e}`)._tippy.destroy(),tippy(`#${e}`,{content:`${i}`,placement:`${n}`})}function it(){var e="NuCAD";void 0!==NUTOOL_PIN.g_anotherNameForNuCAD&&""!==NUTOOL_PIN.g_anotherNameForNuCAD&&(e=NUTOOL_PIN.g_anotherNameForNuCAD),Mi("您的电脑不能执行"+e+"因为它不在Content资料夹里面。","您的電腦不能執行"+e+"因為它不在Content資料夾裡面。","Your PC is incapable of executing "+e+" because it does not exist in the Content folder.")}function nt(e,i,n){var t,r,o,s,a,d,c,f,g,_,u,N,O=-1,p=!1;for(t=0,o=NUTOOL_PIN.g_cfg_gpios.length;t<o;t+=1){for(r=0,s=NUTOOL_PIN.g_cfg_gpios[t].f.length;r<s;r+=1)if((a=(a=NUTOOL_PIN.g_cfg_gpios[t].f[r]).slice(0,a.indexOf(":")))===i&&(d=(d=NUTOOL_PIN.g_cfg_gpios[t].f[0]).slice(0,d.indexOf(":")))===e){O=NUTOOL_PIN.g_cfg_gpios[t].f[r],O=parseInt(O.slice(O.indexOf(":")+1),10);break}if(-1!==O)break}if(O>0&&(void 0===NUTOOL_PIN.g_cfg_gpioMatrix||0===NUTOOL_PIN.g_cfg_gpioMatrix.length)){for(p=!1,4,15,-1!==e.indexOf(".")&&(f=e.slice(0,e.indexOf(".")),g=e.slice(e.indexOf(".")+1)),"M451HD"===l||"M451LD"===l||"M4521"===l||"NUC121AE"===l||"M0564"===l||"M05641"===l||0===l.indexOf("NUC126")||"M071QV"===l||"NUC029xGE"===l||"NUC029KGE"===l||"NUC400"===l||0===l.indexOf("M46")||0===l.indexOf("M47")||"M433"===l||"M480MD"===l||"M480LD"===l||"AX58200"===l||0===l.indexOf("M25")||"NDA102"===l||"M261"===l||0===l.indexOf("M235")||0===l.indexOf("M029")||0===l.indexOf("M030")||0===l.indexOf("M031")||0===l.indexOf("M091")||"NANO103"===l||"NUC505"===l||"NUC123AE"===l||"MA35D0"===l||"MA35D1"===l||"MA35H0"===l||0===l.indexOf("M2003")||0===l.indexOf("N9H30")||0===l.indexOf("N9H31")||0===l.indexOf("NUC97")||0===l.indexOf("NUC98")||0===l.indexOf("M2A23")?f=parseInt(g)<8?"G"+f+"_MFPL":"G"+f+"_MFPH":"NANO100AN"===l||"NANO100BN"===l||"NANO112"===l?parseInt(g)<8?f+="_L_MFP":f+="_H_MFP":"NM1500"===l||"M0519"===l||"M051DN_DE"===l||"M051BN"===l||"M051AN"===l||"M058S"===l||"MINI51AN"===l||"MINI51DE"===l||"MINI55"===l||"MINI58"===l||"NUC029AE"===l||"NUC029TAE"===l||"NUC029AN"===l||"NM1200"===l?f+="_MFP":0===l.indexOf("ML5")||0===l.indexOf("MS51")||0===l.indexOf("MG51")||0===l.indexOf("MUG51")||0===l.indexOf("N76S003")||0===l.indexOf("N76E003")||0===l.indexOf("CM1003")?f+="MF76543210":f=0===l.indexOf("KM1M7")||0===l.indexOf("KM1M4")||0===l.indexOf("KM1M0")?"IO"+f+"MD":"G"+f+"_MFP",r=0,s=n.length;r<s;r+=1)if(-1!==(N=n[r]).indexOf(f)&&(parseInt(N.slice(N.indexOf("0x")+2),16)&(u=15<<(_=4*parseInt(g,10))>>>0))>>>0>>>_>>>0===O){p=!0;break}}else if(O>0&&NUTOOL_PIN.g_cfg_gpioMatrix.length>0){for(t=0,o=NUTOOL_PIN.g_cfg_gpioMatrix.length;t<o;t+=1)if(d===NUTOOL_PIN.g_cfg_gpioMatrix[t].f[0]){for(c=Math.floor(Math.log(O)/Math.log(2));c>=0;){for(f=NUTOOL_PIN.g_cfg_gpioMatrix[t].f[c+1],u=1<<(_=parseInt(f.slice(f.indexOf("[")+1,f.indexOf("]")),10))>>>0,g=f.slice(0,f.indexOf("[")),p=!1,r=0,s=n.length;r<s;r+=1)if(-1!==(N=n[r]).indexOf(g)&&parseInt(N.slice(N.indexOf("0x")+2),16)&u){p=!0;break}if(!p)return p;if(!(O>2))break;if(!((O-=Math.pow(2,c))>0))break;c=Math.floor(Math.log(O)/Math.log(2))}break}}else 0===O&&(p=!0);return p}function tt(){var e;for(i=0,max=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex].length;i<max;i+=1)e=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i].charCodeAt(1)-65,NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i]=NUTOOL_PIN.g_cfg_pkgs[NUTOOL_PIN.g_packageNumberIndex][i].replace(/P[A-Z]\./,"BP"+e+".");for(i=0,max=NUTOOL_PIN.g_cfg_gpios.length;i<max;i+=1)e=NUTOOL_PIN.g_cfg_gpios[i].f[0].charCodeAt(1)-65,NUTOOL_PIN.g_cfg_gpios[i].f[0]=NUTOOL_PIN.g_cfg_gpios[i].f[0].replace(/P[A-Z]\./,"BP"+e+".");for(i=0,max=NUTOOL_PIN.g_cfg_gpiosDefines.length;i<max;i+=1)e=NUTOOL_PIN.g_cfg_gpiosDefines[i].f[0].charCodeAt(1)-65,NUTOOL_PIN.g_cfg_gpiosDefines[i].f[0]=NUTOOL_PIN.g_cfg_gpiosDefines[i].f[0].replace(/P[A-Z]\./,"BP"+e+".")}function rt(){"undefined"==typeof NUTOOL_PER&&(void 0!==NUTOOL_PIN.g_cfg_chipSeries&&0!==NUTOOL_PIN.g_cfg_chipSeries.length&&(Qe=NUTOOL_PIN.g_cfg_chipSeries),void 0!==NUTOOL_PIN.g_chipSilkScreenPrint_default&&""!==NUTOOL_PIN.g_chipSilkScreenPrint_default&&(Oe=NUTOOL_PIN.g_chipSilkScreenPrint_default),void 0!==NUTOOL_PIN.g_briefName_default&&""!==NUTOOL_PIN.g_briefName_default&&(pe=NUTOOL_PIN.g_briefName_default),void 0!==NUTOOL_PIN.g_copyrightCompanyName_default&&""!==NUTOOL_PIN.g_copyrightCompanyName_default&&(he=NUTOOL_PIN.g_copyrightCompanyName_default)),mi()||(Ui(),bi(),Ii()||(ni=!1),Fi(),qi(),vi(),"undefined"==typeof NUTOOL_PER&&function(){var e,i,n,t,r=$("#ChipTypeSelect");for($("#ChipType")[0].setAttribute("style","width:"+(G-16)+"px; border-right: 16px solid #F2F2F2;"),$("#MCU")[0].setAttribute("style","width:"+(G-16)+"px; border-right: 16px solid #F2F2F2;"),e=0,i=Qe.length;e<i;e+=1){n=document.createElement("option");try{n.id=n.innerHTML=n.value=Qe[e]}catch(e){}r[0].appendChild(n)}r.val(Gi(l)),cn(),r.on("change",(function(){var e,i;t="NUC_"+l+"_Content.js",i=e=$(this).val(),"NUC200"===e?i="NUC200AN":"NANO100"===e?i="NANO100BN":"NUC100"===e?i="NUC100DN":"M029G"===e?i="M029G":"M030G"===e?i="M030G":"M091"===e?i="M091":"M031"===e?i="M031BT":"M051"===e?i="M0515LDE":"M071"===e?i="M071M":"MINI51"===e?i="MINI51DE":"NUC029"===e?i="NUC029AE":"M433"===e?i="M433":"M451"===e?i="M451HD":"M466"===e?i="M466":"M460"===e?i="M460LD":"M480"===e?i="M480LD":"KM1M7AF"===e?i="KM1M7AF":"KM1M7BF"===e?i="KM1M7BF":"KM1M7CF"===e?i="KM1M7CF":"KM1M4BF"===e?i="KM1M4BF0":"KM1M0DF"===e?i="KM1M0D0F_100":"MS51"===e?i="MS51_8K":"MG51"===e?i="MG51_32K":"ML51"===e?i="ML51":"MUG51"===e?i="MUG51":"M2L31"===e?i="M2L31":"M55M1H2ES"===e?i="M55M1H2ES":"M55M1"===e||"M5531"===e?i="M55M1":"N76S003"===e?i="N76S003":"N76E003"===e?i="N76E003":"N9H30xxxIIM"===e?i="N9H30xxxIIM":"N9H30xxxIEC"===e?i="N9H30xxxIEC":"N9H31KxxIFC"===e?i="N9H31KxxIFC":"NUC97"===e?i="NUC970":"NUC98"===e?i="NUC980":"M2A23"===e&&(i="M2A23"),Nn(t,"NUC_"+(l=i)+"_Content.js","js",cn)})),e=null,i=null,n=null,r=null,t=null}(),$("#rootTree_Pin")[0].setAttribute("style","width:"+G+"px; height: "+ae+"px;"),Yi(),ci(),Pi(),ai(),yi(),Ti(),"undefined"!=typeof NUTOOL_PER||L||Li())}function lt(){if(null!=this.files[0]&&null!=this.files[0]){var e=this.files[0].name.split(".").pop().toLowerCase();if(0==e.indexOf("ncfg")||0==e.indexOf("cfg")){var i=this.files[0],n=new FileReader;n.readAsText(i),n.onload=function(e){NUTOOL_PIN.g_readConfigFileContentText=e.target.result,NUTOOL_PIN.g_readConfigFilePath=URL.createObjectURL(i);try{!function(e){var i,n,t;i=NUTOOL_PIN.g_readConfigFileContentText;for(;-1!==i.indexOf("\r")&&i.indexOf("\r")<i.indexOf("MCU:");)i=i.sliceAfterX("\r");if(n=(n=i.sliceBetweenXandX("MCU:","\r")).trim(),t=wi(n),-1===$.inArray(Gi(t),Qe))return Mi("从配置档读出的芯片型号 "+t+" 不正确。","從配置檔讀出的晶片型號 "+t+" 不正確。","The chip type of "+t+" read from the config file is incorrect."),i=null,n=null,t=null,null;void 0!==l?Nn("NUC_"+l+"_Content.js","NUC_"+t+"_Content.js","js",e):void 0===l&&Nn("undefined"==typeof NUTOOL_PER?void 0===NUTOOL_PIN.g_chipType_default||""===NUTOOL_PIN.g_chipType_default?"NUC_NUC400_Content.js":"NUC_"+NUTOOL_PIN.g_chipType_default+"_Content.js":"NUC_M251_Content.js","NUC_"+t+"_Content.js","js",e)}(Sn)}catch(e){}}}else alert("Please select a file with a valid file type. (.cfg/.ncfg)")}}function ot(e,i){var n=Qi(NUTOOL_PIN.g_cfg_regDescriptions);if("CortexM"==i){for(var t in e)for(var r=0;r<n.length;r++)if(NUTOOL_PIN.g_cfg_regDescriptions[n[r]]==Object.keys(e[t])[0]){var l=e[t][Object.keys(e[t])[0]];Xi(`${n[r]}:0x${l.toUpperCase()}`);break}}else"8051"==i?Xi(`${data.register}:0x${e.toUpperCase()}`):console.log("returnRegisterValue: unknown type.")}function st(e){return oi.filter((i=>-1!=i.indexOf(e)))[0].slicePriorToX("-")}function at(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function dt(e){for(var i=0;i<Ze.length;i++){if(Ze[i].sliceAfterX("Pin")==e)return!0}return!1}function ct(){var e,i,n,t=localStorage.getItem("UIlanguage");On(),void 0===t||null==t?(e="Warning",i="This pin or module is already locked",n="Confirm"):"Simplified Chinese"===t?(e="警告",i="目标脚位或模块已被锁定",n="确定"):"Traditional Chinese"===t?(e="警告",i="目標腳位或模組已被鎖定",n="確定"):(e="Warning",i="This pin or module  is already locked",n="Confirm"),$('<div id="lockedWarningDialog"><p>'+i+"</div>").dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#lockedWarningDialog").dialog("destroy")},buttons:[{text:n,click:function(){$("#lockedWarningDialog").dialog("isOpen")&&$("#lockedWarningDialog").dialog("destroy")}}]})}function ft(){var e;at()||localStorage.getItem("CheckPrivacyBannerDismiss")||(e="Simplified Chinese"===Ne?"本网站使用cookie作为与网站交互时识别流览器之用，浏览本网站即表示您同意本网站对cookie的使用":"Traditional Chinese"===Ne?"本網站使用cookie作為與網站互動時識別瀏覽器之用，瀏覽本網站即表示您同意本網站對cookie的使用":"This website uses cookies to ensure you get the best experience on our website.",$("#ID_PRIVACY_BANNER_TEXT").text(e),$("#ID_PRIVACY_BANNER_BUTTON").on("click",(function(){$("#ID_PRIVACY_BANNER_DIV").hide(),localStorage.setItem("CheckPrivacyBannerDismiss",!0)})),$("#ID_PRIVACY_BANNER_DIV").show())}window.onload=function(){rt(),$("#ID_BUTTON_SHOW_REGISTERS").on("click",(function(){An()})),$("#ID_BUTTON_LOAD").on("click",(function(){$("#rootTree_Pin").is(":visible")&&Un((function(){$("#loadConfiguration").trigger("click")}))})),$("#loadConfiguration").on("change",lt),$("#ID_BUTTON_SAVE").on("click",(function(){vn()})),$("#ID_BUTTON_GENERATE_CODE").on("click",(function(){jn()})),$("#ID_BUTTON_CONNECT_TO_TARGET").on("click",(function(){at()?window.electronAPI.send("connect"):async function(){var e;null!=b&&(await navigator.usb.getDevices().then((i=>{i.forEach((i=>{e=i}))})).catch((i=>{console.log(i),e=void 0})),null==e&&(e=await navigator.usb.requestDevice({filters:[{vendorId:1046}]}).catch((i=>{console.log(i),e=void 0}))),null!=e&&b.postMessage({action:"connect"}))}()})),$("#ID_BUTTON_PRINT_REPORT").on("click",(function(){Kn()})),$("#ID_BUTTON_GENERATE_PIN_DESCRIPTIONS").on("click",(function(){Hn()})),$("#ID_BUTTON_RUN_NUCAD").on("click",(function(){Wn()})),$("#ID_BUTTON_SHOW_PIN_DESCRIPTIONS").on("click",(function(){Fn()})),$("#ID_BUTTON_ZOOM_IN").on("click",(function(){Yn()})),$("#ID_BUTTON_BEST_FIT").on("click",(function(){Vn()})),$("#ID_BUTTON_ZOOM_OUT").on("click",(function(){Zn()})),$("#ID_BUTTON_LOCK_PIN").on("click",(function(){!function(){var e=[];for(i=0,max=ye.length;i<max;i+=1)e[i]=ye[i].slicePriorToX(":");(li=!li)?($("#ID_IMAGE_LOCK_PIN").attr("src","./src/res/lock.png"),ye.forEach((e=>{var i=e.slicePriorToX(":"),n=e.sliceAfterX(":"),t=n+"_Root";$("#moduleTree").jstree("open_node",$("#"+t)),$("#"+t).find("li").each((function(e,t){var r=$(t).attr("id");-1!=r.indexOf(i)&&-1!=r.indexOf(n)&&-1==Ze.indexOf(r)&&(Ze.push(r),document.querySelector(`#${r}`).style.background="orange")}))}))):($("#ID_IMAGE_LOCK_PIN").attr("src","./src/res/unlock.png"),Ze.forEach((e=>{var i=e.sliceAfterX(":")+"_Root";$("#moduleTree").jstree("open_node",$("#"+i)),document.querySelector(`#${e}`).style.background="transparent"})),Ze=[])}()})),$("#ID_BUTTON_SHOW_LOCKED_PINS").on("click",(function(){var e,i,n,t;n="",t=localStorage.getItem("UIlanguage"),On(),Ze.sort(),Ze.forEach((e=>{var i=e.sliceAfterX("Pin");n=n+e.slicePriorToX("_Pin")+"(Pin: "+i+")<br />"})),void 0===t||null==t?(e="Locked Pins",i="Confirm"):"Simplified Chinese"===t?(e="已鎖定的腳位",i="确定"):"Traditional Chinese"===t?(e="已锁定的脚位",i="確定"):(e="Locked Pins",i="Confirm"),$('<div id="lockedPinsDialog"><p>'+n+"</div>").dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#lockedPinsDialog").dialog("destroy")},buttons:[{text:i,click:function(){$("#lockedPinsDialog").dialog("isOpen")&&$("#lockedPinsDialog").dialog("destroy")}}]})})),$("#ID_BUTTON_DISABLE").on("click",(function(){Qn()})),$("#ID_BUTTON_LANGUAGE").on("click",(function(){qn()})),$("#ID_BUTTON_INSTRUCTION").on("click",(function(){window.open("https://www.nuvoton.com/resource-download.jsp?tp_GUID=UG1320220401093634")})),setTimeout(Jn,100),$.ajax({url:"./src/PartNumID.cpp",async:!1}).responseText.split(/\r\n|\n/).filter((function(e){return new RegExp(".*[^/]{.*0x.*[PROJ].*}").test(e)})).forEach((function(e){if(-1==e.indexOf("not release")){let i=e.substring(e.indexOf('"')+1,e.lastIndexOf('"')),n=e.substring(e.indexOf("0x"),e.lastIndexOf("PROJ")-2),t=e.substring(e.indexOf("PROJ"),e.lastIndexOf("}"));oi.push(i+"-"+n+"-"+t)}})),ft(),at()?(window.electronAPI.onConnected(((e,i)=>{console.log("electronAPI: onConnected"),ri=!0,window.electronAPI.send("getPIDValue")})),window.electronAPI.onReturnPIDValue(((e,n)=>{if(console.log("electronAPI: onReturnPIDValue"),U=st(n),console.log("connected device: "+U),-1!=o.toUpperCase().indexOf(U.toUpperCase())){var t=[],r=[];for(r=Qi(NUTOOL_PIN.g_cfg_regDescriptions),i=0;i<r.length;i++)t.push(NUTOOL_PIN.g_cfg_regDescriptions[r[i]]);window.electronAPI.send("getMFPValues",t)}else window.electronAPI.send("connectComplete"),Ui(),Mi("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.")})),window.electronAPI.onReturnRegisterValue(((e,i,n)=>{console.log("electronAPI: onReturnRegisterValue"),ot(i,n)})),window.electronAPI.onDisconnect(((e,i)=>{console.log("electronAPI: onDisconnect"),ri=!1})),window.electronAPI.onWarning(((e,i)=>{console.warn(i)})),window.electronAPI.onRunNuCADError(((e,i)=>{it()}))):window.Worker&&((b=new Worker("./src/worker/webusb.worker-bundle.js")).onmessage=async function(e){let n=e.data.action,t=e.data;if("connected"==n)console.log("worker: connected"),ri=!0,b.postMessage({action:"getPIDValue"});else if("returnPIDValue"==n)if(console.log("worker: returnPIDValue"),U=st(t.value),console.log("connected device: "+U),-1!=o.toUpperCase().indexOf(U.toUpperCase())){var r=[],l=[];for(l=Qi(NUTOOL_PIN.g_cfg_regDescriptions),i=0;i<l.length;i++)r.push(NUTOOL_PIN.g_cfg_regDescriptions[l[i]]);b.postMessage({action:"getMFPValues",data:r})}else b.postMessage({action:"connectComplete"}),Ui(),Mi("请切换至与连接芯片相符合的芯片系列与型号。","請切換至與連接晶片相符合的晶片系列與型號。","Please switch to the Chip Series and Part No. that matches the connected chip.");else"returnRegisterValue"==n?(console.log("worker: returnRegisterValue"),ot(t.result,t.type)):"disconnect"==n&&(console.log("worker: disconnect"),ri=!1)}),at()&&$("#ID_BUTTON_RUN_NUCAD").show(),$("#versionCode").text(e)},window.addEventListener("resize",(function(e){Tn()}),!0),NUTOOL_PIN={getg_userSelectUIlanguage:function(){return Ne},getg_partNumber_package:function(){return o},getg_pin_descriptions:function(){return N},getg_gpio_MFPsString:function(){return d},getg_gpio_MFPsString1:function(){return c},getg_pinCurrentStateString:function(){return _},getg_pinsConfiguredByGPIOstring:function(){return u},getg_userDefinedPinString:function(){return T},getg_includeHeadFileString:function(){return a},getg_generatedCodeByPinString:function(){return O},getg_generatedCodeByModuleString:function(){return p},getg_generatedCodeByGPIOstring:function(){return h},getg_generatedMFPFunctionList:function(){return x},getg_anotherNameForNuCAD:function(){return NUTOOL_PIN.g_anotherNameForNuCAD},getg_briefName:function(){return pe},getg_copyrightCompanyName:function(){return he},setg_selectedPartNoValue:function(e){t=e},setReviewReportTable:En,loadPinConfigureTool:rt,loadPinConfigureTool_fromSelectionGuide:function(){mi()||(Ui(),bi(),$("#rootTree_Pin")[0].setAttribute("style","width:"+G+"px; height: "+ae+"px;"),fn(),Ti(),L||Li())},getGeneratedCodeByPin:Bn,getGeneratedCodeByModule:Gn,getGeneratedCodeByGPIO:Rn,getGeneratedMFPFunctionList:function(){var e,i,n,t;for(x="/",e=0,n=NUTOOL_PIN.g_cfg_gpios.length;e<n;e+=1)for(i=0,t=NUTOOL_PIN.g_cfg_gpios[e].f.length;i<t;i+=1)x+=NUTOOL_PIN.g_cfg_gpios[e].f[i]+"/"},getIncludeHeadFile:Ki,getDataUsedToCreateText:Hi,getModularizedDataUsedToCreateText:Wi,retrieveGenerateCodeContent:function(){return g},decideNewChipType:wi,updatePinName:nn,closeAPP:function(){null!==xe&&xe.close(),In(mn)&&Un((function(){window.external.closeFromJS()}))},redrawForResizingDialog:Tn,triggerSearch:function(){xi($("#searchInput_Pin").val())},showRegisters:An,loadConfig_core:Sn,saveConfig:vn,generateCode:jn,connectToTarget:function(){var e,i,n,t,r=localStorage.getItem("UIlanguage");ii||$("html").hasClass("ie9")?$("#rootTree_Pin").is(":visible")&&(void 0===r||null==r?(e="Connect to Target Chip",i="To use this feature, please upgrade the IE version to 10 or higher.",t="Confirm"):"Simplified Chinese"===r?(e="连线到目标芯片",i="要使用此功能，请将IE版本升级到10或更高版本。",t="确定"):"Traditional Chinese"===r?(e="連線到目標晶片",i="要使用此功能，請將IE版本升級到10或更高版本。",t="確定"):(e="Connect to Target Chip",i="To use this feature, please upgrade the IE version to 10 or higher.",t="Confirm"),On(),n='<div id="connectToTargetDialog"><p>'+i+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$(n).dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#connectToTargetDialog").dialog("destroy")},buttons:[{text:t,click:function(){$("#connectToTargetDialog").dialog("isOpen")&&$("#connectToTargetDialog").dialog("destroy")}}]}),e=null,null,null,i=null,n=null,t=null,null,r=null):ei?zn():$("#rootTree_Pin").is(":visible")&&(void 0===r||null==r?(e="Connect to Target Chip",i="When connecting to a target chip, what you have configured is going to be gone. To continue, click the Confirm button.",t="Confirm","Leave"):"Simplified Chinese"===r?(e="连线到目标芯片",i="当连接到目标芯片时，您配置的内容将会消失。 若要继续，请点击确定按钮。",t="确定","离开"):"Traditional Chinese"===r?(e="連線到目標晶片",i="當連接到目標晶片時，您配置的內容將會消失。 若要繼續，請點擊確定按鈕。",t="確定","離開"):(e="Connect to Target Chip",i="When connecting to a target chip, what you have configured is going to be gone. To continue, click the Confirm button.",t="Confirm","Leave"),On(),n='<div id="connectToTargetDialog"><p>'+i+'</p><input type="text" size="1" style="position:relative;top:-5000px;"/></div>',$(n).dialog({modal:!1,draggable:!1,resizable:!1,title:e,width:500,height:"auto",show:"fade",hide:"fade",close:function(){$("#connectToTargetDialog").dialog("destroy")},buttons:[{text:t,click:function(){zn(),$("#connectToTargetDialog").dialog("isOpen")&&$("#connectToTargetDialog").dialog("destroy")}}]}),e=null,null,null,i=null,n=null,t=null,null,r=null)},printReport:Kn,generatePinDescriptions:Hn,runAnotherTool:Wn,get_pin_descriptions:Dn,showPinDescriptions:Fn,zoomIn:Yn,bestFit:Vn,zoomOut:Zn,uncheckAllNodes:Qn,uncheckAllNodes_core:Mn,settings:qn,changeUIlanguage:Jn,executePDFfail:function(){Mi("您的电脑不能执行PDF档。请安装必要的软件来支援它。","您的電腦不能執行PDF檔。請安裝必要的軟件來支援它。","Your PC is incapable of executing the PDF files. Please install a necessary software to support it")},executeNuCADfail:it,get_gpio_MFPsNames:yn,recordConfig:wn,g_readConfigFilePath:"",g_readConfigFileContentText:"",g_pinFunctionString:"",g_bFunctionalTesting:!1,g_bModuleTreeLoaded:!1,g_horizontalIndexArray:["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","T","U","V","W","Y"],g_toolbarRemovedIndices:"4",g_chipType_default:"",g_partNumber_package_default:"",g_chipSilkScreenPrint_default:"",g_briefName_default:"",g_copyrightCompanyName_default:"",g_anotherNameForNuCAD:"",g_bSwitchSpeech8bitCPUMode:!1}}();